webpackJsonp([0],{"+E39":function(t,e,n){t.exports=!n("S82l")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"+ZMJ":function(t,e,n){var r=n("lOnJ");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},"/ocq":function(t,e,n){"use strict";
/*!
  * vue-router v3.5.1
  * (c) 2021 Evan You
  * @license MIT
  */function r(t,e){0}function i(t,e){for(var n in e)t[n]=e[n];return t}var o=/[!'()*]/g,a=function(t){return"%"+t.charCodeAt(0).toString(16)},s=/%2C/g,u=function(t){return encodeURIComponent(t).replace(o,a).replace(s,",")};function c(t){try{return decodeURIComponent(t)}catch(t){0}return t}var l=function(t){return null==t||"object"==typeof t?t:String(t)};function h(t){var e={};return(t=t.trim().replace(/^(\?|#|&)/,""))?(t.split("&").forEach(function(t){var n=t.replace(/\+/g," ").split("="),r=c(n.shift()),i=n.length>0?c(n.join("=")):null;void 0===e[r]?e[r]=i:Array.isArray(e[r])?e[r].push(i):e[r]=[e[r],i]}),e):e}function f(t){var e=t?Object.keys(t).map(function(e){var n=t[e];if(void 0===n)return"";if(null===n)return u(e);if(Array.isArray(n)){var r=[];return n.forEach(function(t){void 0!==t&&(null===t?r.push(u(e)):r.push(u(e)+"="+u(t)))}),r.join("&")}return u(e)+"="+u(n)}).filter(function(t){return t.length>0}).join("&"):null;return e?"?"+e:""}var p=/\/?$/;function d(t,e,n,r){var i=r&&r.options.stringifyQuery,o=e.query||{};try{o=v(o)}catch(t){}var a={name:e.name||t&&t.name,meta:t&&t.meta||{},path:e.path||"/",hash:e.hash||"",query:o,params:e.params||{},fullPath:y(e,i),matched:t?function(t){var e=[];for(;t;)e.unshift(t),t=t.parent;return e}(t):[]};return n&&(a.redirectedFrom=y(n,i)),Object.freeze(a)}function v(t){if(Array.isArray(t))return t.map(v);if(t&&"object"==typeof t){var e={};for(var n in t)e[n]=v(t[n]);return e}return t}var g=d(null,{path:"/"});function y(t,e){var n=t.path,r=t.query;void 0===r&&(r={});var i=t.hash;return void 0===i&&(i=""),(n||"/")+(e||f)(r)+i}function m(t,e,n){return e===g?t===e:!!e&&(t.path&&e.path?t.path.replace(p,"")===e.path.replace(p,"")&&(n||t.hash===e.hash&&b(t.query,e.query)):!(!t.name||!e.name)&&(t.name===e.name&&(n||t.hash===e.hash&&b(t.query,e.query)&&b(t.params,e.params))))}function b(t,e){if(void 0===t&&(t={}),void 0===e&&(e={}),!t||!e)return t===e;var n=Object.keys(t).sort(),r=Object.keys(e).sort();return n.length===r.length&&n.every(function(n,i){var o=t[n];if(r[i]!==n)return!1;var a=e[n];return null==o||null==a?o===a:"object"==typeof o&&"object"==typeof a?b(o,a):String(o)===String(a)})}function _(t){for(var e=0;e<t.matched.length;e++){var n=t.matched[e];for(var r in n.instances){var i=n.instances[r],o=n.enteredCbs[r];if(i&&o){delete n.enteredCbs[r];for(var a=0;a<o.length;a++)i._isBeingDestroyed||o[a](i)}}}}var w={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(t,e){var n=e.props,r=e.children,o=e.parent,a=e.data;a.routerView=!0;for(var s=o.$createElement,u=n.name,c=o.$route,l=o._routerViewCache||(o._routerViewCache={}),h=0,f=!1;o&&o._routerRoot!==o;){var p=o.$vnode?o.$vnode.data:{};p.routerView&&h++,p.keepAlive&&o._directInactive&&o._inactive&&(f=!0),o=o.$parent}if(a.routerViewDepth=h,f){var d=l[u],v=d&&d.component;return v?(d.configProps&&I(v,a,d.route,d.configProps),s(v,a,r)):s()}var g=c.matched[h],y=g&&g.components[u];if(!g||!y)return l[u]=null,s();l[u]={component:y},a.registerRouteInstance=function(t,e){var n=g.instances[u];(e&&n!==t||!e&&n===t)&&(g.instances[u]=e)},(a.hook||(a.hook={})).prepatch=function(t,e){g.instances[u]=e.componentInstance},a.hook.init=function(t){t.data.keepAlive&&t.componentInstance&&t.componentInstance!==g.instances[u]&&(g.instances[u]=t.componentInstance),_(c)};var m=g.props&&g.props[u];return m&&(i(l[u],{route:c,configProps:m}),I(y,a,c,m)),s(y,a,r)}};function I(t,e,n,r){var o=e.props=function(t,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(t);case"boolean":return e?t.params:void 0;default:0}}(n,r);if(o){o=e.props=i({},o);var a=e.attrs=e.attrs||{};for(var s in o)t.props&&s in t.props||(a[s]=o[s],delete o[s])}}function T(t,e,n){var r=t.charAt(0);if("/"===r)return t;if("?"===r||"#"===r)return e+t;var i=e.split("/");n&&i[i.length-1]||i.pop();for(var o=t.replace(/^\//,"").split("/"),a=0;a<o.length;a++){var s=o[a];".."===s?i.pop():"."!==s&&i.push(s)}return""!==i[0]&&i.unshift(""),i.join("/")}function E(t){return t.replace(/\/\//g,"/")}var O=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},S=q,C=x,k=function(t,e){return P(x(t,e),e)},A=P,N=U,j=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function x(t,e){for(var n,r=[],i=0,o=0,a="",s=e&&e.delimiter||"/";null!=(n=j.exec(t));){var u=n[0],c=n[1],l=n.index;if(a+=t.slice(o,l),o=l+u.length,c)a+=c[1];else{var h=t[o],f=n[2],p=n[3],d=n[4],v=n[5],g=n[6],y=n[7];a&&(r.push(a),a="");var m=null!=f&&null!=h&&h!==f,b="+"===g||"*"===g,_="?"===g||"*"===g,w=n[2]||s,I=d||v;r.push({name:p||i++,prefix:f||"",delimiter:w,optional:_,repeat:b,partial:m,asterisk:!!y,pattern:I?L(I):y?".*":"[^"+R(w)+"]+?"})}}return o<t.length&&(a+=t.substr(o)),a&&r.push(a),r}function D(t){return encodeURI(t).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function P(t,e){for(var n=new Array(t.length),r=0;r<t.length;r++)"object"==typeof t[r]&&(n[r]=new RegExp("^(?:"+t[r].pattern+")$",F(e)));return function(e,r){for(var i="",o=e||{},a=(r||{}).pretty?D:encodeURIComponent,s=0;s<t.length;s++){var u=t[s];if("string"!=typeof u){var c,l=o[u.name];if(null==l){if(u.optional){u.partial&&(i+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be defined')}if(O(l)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(l)+"`");if(0===l.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var h=0;h<l.length;h++){if(c=a(l[h]),!n[s].test(c))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(c)+"`");i+=(0===h?u.prefix:u.delimiter)+c}}else{if(c=u.asterisk?encodeURI(l).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}):a(l),!n[s].test(c))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+c+'"');i+=u.prefix+c}}else i+=u}return i}}function R(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function L(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function M(t,e){return t.keys=e,t}function F(t){return t&&t.sensitive?"":"i"}function U(t,e,n){O(e)||(n=e||n,e=[]);for(var r=(n=n||{}).strict,i=!1!==n.end,o="",a=0;a<t.length;a++){var s=t[a];if("string"==typeof s)o+=R(s);else{var u=R(s.prefix),c="(?:"+s.pattern+")";e.push(s),s.repeat&&(c+="(?:"+u+c+")*"),o+=c=s.optional?s.partial?u+"("+c+")?":"(?:"+u+"("+c+"))?":u+"("+c+")"}}var l=R(n.delimiter||"/"),h=o.slice(-l.length)===l;return r||(o=(h?o.slice(0,-l.length):o)+"(?:"+l+"(?=$))?"),o+=i?"$":r&&h?"":"(?="+l+"|$)",M(new RegExp("^"+o,F(n)),e)}function q(t,e,n){return O(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?function(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return M(t,e)}(t,e):O(t)?function(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(q(t[i],e,n).source);return M(new RegExp("(?:"+r.join("|")+")",F(n)),e)}(t,e,n):function(t,e,n){return U(x(t,n),e,n)}(t,e,n)}S.parse=C,S.compile=k,S.tokensToFunction=A,S.tokensToRegExp=N;var V=Object.create(null);function B(t,e,n){e=e||{};try{var r=V[t]||(V[t]=S.compile(t));return"string"==typeof e.pathMatch&&(e[0]=e.pathMatch),r(e,{pretty:!0})}catch(t){return""}finally{delete e[0]}}function K(t,e,n,r){var o="string"==typeof t?{path:t}:t;if(o._normalized)return o;if(o.name){var a=(o=i({},t)).params;return a&&"object"==typeof a&&(o.params=i({},a)),o}if(!o.path&&o.params&&e){(o=i({},o))._normalized=!0;var s=i(i({},e.params),o.params);if(e.name)o.name=e.name,o.params=s;else if(e.matched.length){var u=e.matched[e.matched.length-1].path;o.path=B(u,s,e.path)}else 0;return o}var c=function(t){var e="",n="",r=t.indexOf("#");r>=0&&(e=t.slice(r),t=t.slice(0,r));var i=t.indexOf("?");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{path:t,query:n,hash:e}}(o.path||""),f=e&&e.path||"/",p=c.path?T(c.path,f,n||o.append):f,d=function(t,e,n){void 0===e&&(e={});var r,i=n||h;try{r=i(t||"")}catch(t){r={}}for(var o in e){var a=e[o];r[o]=Array.isArray(a)?a.map(l):l(a)}return r}(c.query,o.query,r&&r.options.parseQuery),v=o.hash||c.hash;return v&&"#"!==v.charAt(0)&&(v="#"+v),{_normalized:!0,path:p,query:d,hash:v}}var $,H=[String,Object],G=[String,Array],W=function(){},z={name:"RouterLink",props:{to:{type:H,required:!0},tag:{type:String,default:"a"},custom:Boolean,exact:Boolean,exactPath:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:G,default:"click"}},render:function(t){var e=this,n=this.$router,r=this.$route,o=n.resolve(this.to,r,this.append),a=o.location,s=o.route,u=o.href,c={},l=n.options.linkActiveClass,h=n.options.linkExactActiveClass,f=null==l?"router-link-active":l,v=null==h?"router-link-exact-active":h,g=null==this.activeClass?f:this.activeClass,y=null==this.exactActiveClass?v:this.exactActiveClass,b=s.redirectedFrom?d(null,K(s.redirectedFrom),null,n):s;c[y]=m(r,b,this.exactPath),c[g]=this.exact||this.exactPath?c[y]:function(t,e){return 0===t.path.replace(p,"/").indexOf(e.path.replace(p,"/"))&&(!e.hash||t.hash===e.hash)&&function(t,e){for(var n in e)if(!(n in t))return!1;return!0}(t.query,e.query)}(r,b);var _=c[y]?this.ariaCurrentValue:null,w=function(t){Q(t)&&(e.replace?n.replace(a,W):n.push(a,W))},I={click:Q};Array.isArray(this.event)?this.event.forEach(function(t){I[t]=w}):I[this.event]=w;var T={class:c},E=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:u,route:s,navigate:w,isActive:c[g],isExactActive:c[y]});if(E){if(1===E.length)return E[0];if(E.length>1||!E.length)return 0===E.length?t():t("span",{},E)}if("a"===this.tag)T.on=I,T.attrs={href:u,"aria-current":_};else{var O=function t(e){if(e)for(var n,r=0;r<e.length;r++){if("a"===(n=e[r]).tag)return n;if(n.children&&(n=t(n.children)))return n}}(this.$slots.default);if(O){O.isStatic=!1;var S=O.data=i({},O.data);for(var C in S.on=S.on||{},S.on){var k=S.on[C];C in I&&(S.on[C]=Array.isArray(k)?k:[k])}for(var A in I)A in S.on?S.on[A].push(I[A]):S.on[A]=w;var N=O.data.attrs=i({},O.data.attrs);N.href=u,N["aria-current"]=_}else T.on=I}return t(this.tag,T,this.$slots.default)}};function Q(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey||t.defaultPrevented||void 0!==t.button&&0!==t.button)){if(t.currentTarget&&t.currentTarget.getAttribute){var e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Y(t){if(!Y.installed||$!==t){Y.installed=!0,$=t;var e=function(t){return void 0!==t},n=function(t,n){var r=t.$options._parentVnode;e(r)&&e(r=r.data)&&e(r=r.registerRouteInstance)&&r(t,n)};t.mixin({beforeCreate:function(){e(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),t.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,n(this,this)},destroyed:function(){n(this)}}),Object.defineProperty(t.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(t.prototype,"$route",{get:function(){return this._routerRoot._route}}),t.component("RouterView",w),t.component("RouterLink",z);var r=t.config.optionMergeStrategies;r.beforeRouteEnter=r.beforeRouteLeave=r.beforeRouteUpdate=r.created}}var J="undefined"!=typeof window;function X(t,e,n,r,i){var o=e||[],a=n||Object.create(null),s=r||Object.create(null);t.forEach(function(t){!function t(e,n,r,i,o,a){var s=i.path;var u=i.name;0;var c=i.pathToRegexpOptions||{};var l=function(t,e,n){n||(t=t.replace(/\/$/,""));if("/"===t[0])return t;if(null==e)return t;return E(e.path+"/"+t)}(s,o,c.strict);"boolean"==typeof i.caseSensitive&&(c.sensitive=i.caseSensitive);var h={path:l,regex:function(t,e){var n=S(t,[],e);return n}(l,c),components:i.components||{default:i.component},alias:i.alias?"string"==typeof i.alias?[i.alias]:i.alias:[],instances:{},enteredCbs:{},name:u,parent:o,matchAs:a,redirect:i.redirect,beforeEnter:i.beforeEnter,meta:i.meta||{},props:null==i.props?{}:i.components?i.props:{default:i.props}};i.children&&i.children.forEach(function(i){var o=a?E(a+"/"+i.path):void 0;t(e,n,r,i,h,o)});n[h.path]||(e.push(h.path),n[h.path]=h);if(void 0!==i.alias)for(var f=Array.isArray(i.alias)?i.alias:[i.alias],p=0;p<f.length;++p){var d=f[p];0;var v={path:d,children:i.children};t(e,n,r,v,o,h.path||"/")}u&&(r[u]||(r[u]=h))}(o,a,s,t,i)});for(var u=0,c=o.length;u<c;u++)"*"===o[u]&&(o.push(o.splice(u,1)[0]),c--,u--);return{pathList:o,pathMap:a,nameMap:s}}function Z(t,e){var n=X(t),r=n.pathList,i=n.pathMap,o=n.nameMap;function a(t,n,a){var s=K(t,n,!1,e),c=s.name;if(c){var l=o[c];if(!l)return u(null,s);var h=l.regex.keys.filter(function(t){return!t.optional}).map(function(t){return t.name});if("object"!=typeof s.params&&(s.params={}),n&&"object"==typeof n.params)for(var f in n.params)!(f in s.params)&&h.indexOf(f)>-1&&(s.params[f]=n.params[f]);return s.path=B(l.path,s.params),u(l,s,a)}if(s.path){s.params={};for(var p=0;p<r.length;p++){var d=r[p],v=i[d];if(tt(v.regex,s.path,s.params))return u(v,s,a)}}return u(null,s)}function s(t,n){var r=t.redirect,i="function"==typeof r?r(d(t,n,null,e)):r;if("string"==typeof i&&(i={path:i}),!i||"object"!=typeof i)return u(null,n);var s=i,c=s.name,l=s.path,h=n.query,f=n.hash,p=n.params;if(h=s.hasOwnProperty("query")?s.query:h,f=s.hasOwnProperty("hash")?s.hash:f,p=s.hasOwnProperty("params")?s.params:p,c){o[c];return a({_normalized:!0,name:c,query:h,hash:f,params:p},void 0,n)}if(l){var v=function(t,e){return T(t,e.parent?e.parent.path:"/",!0)}(l,t);return a({_normalized:!0,path:B(v,p),query:h,hash:f},void 0,n)}return u(null,n)}function u(t,n,r){return t&&t.redirect?s(t,r||n):t&&t.matchAs?function(t,e,n){var r=a({_normalized:!0,path:B(n,e.params)});if(r){var i=r.matched,o=i[i.length-1];return e.params=r.params,u(o,e)}return u(null,e)}(0,n,t.matchAs):d(t,n,r,e)}return{match:a,addRoute:function(t,e){var n="object"!=typeof t?o[t]:void 0;X([e||t],r,i,o,n),n&&X(n.alias.map(function(t){return{path:t,children:[e]}}),r,i,o,n)},getRoutes:function(){return r.map(function(t){return i[t]})},addRoutes:function(t){X(t,r,i,o)}}}function tt(t,e,n){var r=e.match(t);if(!r)return!1;if(!n)return!0;for(var i=1,o=r.length;i<o;++i){var a=t.keys[i-1];a&&(n[a.name||"pathMatch"]="string"==typeof r[i]?c(r[i]):r[i])}return!0}var et=J&&window.performance&&window.performance.now?window.performance:Date;function nt(){return et.now().toFixed(3)}var rt=nt();function it(){return rt}function ot(t){return rt=t}var at=Object.create(null);function st(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var t=window.location.protocol+"//"+window.location.host,e=window.location.href.replace(t,""),n=i({},window.history.state);return n.key=it(),window.history.replaceState(n,"",e),window.addEventListener("popstate",lt),function(){window.removeEventListener("popstate",lt)}}function ut(t,e,n,r){if(t.app){var i=t.options.scrollBehavior;i&&t.app.$nextTick(function(){var o=function(){var t=it();if(t)return at[t]}(),a=i.call(t,e,n,r?o:null);a&&("function"==typeof a.then?a.then(function(t){vt(t,o)}).catch(function(t){0}):vt(a,o))})}}function ct(){var t=it();t&&(at[t]={x:window.pageXOffset,y:window.pageYOffset})}function lt(t){ct(),t.state&&t.state.key&&ot(t.state.key)}function ht(t){return pt(t.x)||pt(t.y)}function ft(t){return{x:pt(t.x)?t.x:window.pageXOffset,y:pt(t.y)?t.y:window.pageYOffset}}function pt(t){return"number"==typeof t}var dt=/^#\d/;function vt(t,e){var n,r="object"==typeof t;if(r&&"string"==typeof t.selector){var i=dt.test(t.selector)?document.getElementById(t.selector.slice(1)):document.querySelector(t.selector);if(i){var o=t.offset&&"object"==typeof t.offset?t.offset:{};e=function(t,e){var n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{x:r.left-n.left-e.x,y:r.top-n.top-e.y}}(i,o={x:pt((n=o).x)?n.x:0,y:pt(n.y)?n.y:0})}else ht(t)&&(e=ft(t))}else r&&ht(t)&&(e=ft(t));e&&("scrollBehavior"in document.documentElement.style?window.scrollTo({left:e.x,top:e.y,behavior:t.behavior}):window.scrollTo(e.x,e.y))}var gt,yt=J&&((-1===(gt=window.navigator.userAgent).indexOf("Android 2.")&&-1===gt.indexOf("Android 4.0")||-1===gt.indexOf("Mobile Safari")||-1!==gt.indexOf("Chrome")||-1!==gt.indexOf("Windows Phone"))&&window.history&&"function"==typeof window.history.pushState);function mt(t,e){ct();var n=window.history;try{if(e){var r=i({},n.state);r.key=it(),n.replaceState(r,"",t)}else n.pushState({key:ot(nt())},"",t)}catch(n){window.location[e?"replace":"assign"](t)}}function bt(t){mt(t,!0)}function _t(t,e,n){var r=function(i){i>=t.length?n():t[i]?e(t[i],function(){r(i+1)}):r(i+1)};r(0)}var wt={redirected:2,aborted:4,cancelled:8,duplicated:16};function It(t,e){return Et(t,e,wt.redirected,'Redirected when going from "'+t.fullPath+'" to "'+function(t){if("string"==typeof t)return t;if("path"in t)return t.path;var e={};return Ot.forEach(function(n){n in t&&(e[n]=t[n])}),JSON.stringify(e,null,2)}(e)+'" via a navigation guard.')}function Tt(t,e){return Et(t,e,wt.cancelled,'Navigation cancelled from "'+t.fullPath+'" to "'+e.fullPath+'" with a new navigation.')}function Et(t,e,n,r){var i=new Error(r);return i._isRouter=!0,i.from=t,i.to=e,i.type=n,i}var Ot=["params","query","hash"];function St(t){return Object.prototype.toString.call(t).indexOf("Error")>-1}function Ct(t,e){return St(t)&&t._isRouter&&(null==e||t.type===e)}function kt(t){return function(e,n,r){var i=!1,o=0,a=null;At(t,function(t,e,n,s){if("function"==typeof t&&void 0===t.cid){i=!0,o++;var u,c=xt(function(e){var i;((i=e).__esModule||jt&&"Module"===i[Symbol.toStringTag])&&(e=e.default),t.resolved="function"==typeof e?e:$.extend(e),n.components[s]=e,--o<=0&&r()}),l=xt(function(t){var e="Failed to resolve async component "+s+": "+t;a||(a=St(t)?t:new Error(e),r(a))});try{u=t(c,l)}catch(t){l(t)}if(u)if("function"==typeof u.then)u.then(c,l);else{var h=u.component;h&&"function"==typeof h.then&&h.then(c,l)}}}),i||r()}}function At(t,e){return Nt(t.map(function(t){return Object.keys(t.components).map(function(n){return e(t.components[n],t.instances[n],t,n)})}))}function Nt(t){return Array.prototype.concat.apply([],t)}var jt="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;function xt(t){var e=!1;return function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];if(!e)return e=!0,t.apply(this,n)}}var Dt=function(t,e){this.router=t,this.base=function(t){if(!t)if(J){var e=document.querySelector("base");t=(t=e&&e.getAttribute("href")||"/").replace(/^https?:\/\/[^\/]+/,"")}else t="/";"/"!==t.charAt(0)&&(t="/"+t);return t.replace(/\/$/,"")}(e),this.current=g,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};function Pt(t,e,n,r){var i=At(t,function(t,r,i,o){var a=function(t,e){"function"!=typeof t&&(t=$.extend(t));return t.options[e]}(t,e);if(a)return Array.isArray(a)?a.map(function(t){return n(t,r,i,o)}):n(a,r,i,o)});return Nt(r?i.reverse():i)}function Rt(t,e){if(e)return function(){return t.apply(e,arguments)}}Dt.prototype.listen=function(t){this.cb=t},Dt.prototype.onReady=function(t,e){this.ready?t():(this.readyCbs.push(t),e&&this.readyErrorCbs.push(e))},Dt.prototype.onError=function(t){this.errorCbs.push(t)},Dt.prototype.transitionTo=function(t,e,n){var r,i=this;try{r=this.router.match(t,this.current)}catch(t){throw this.errorCbs.forEach(function(e){e(t)}),t}var o=this.current;this.confirmTransition(r,function(){i.updateRoute(r),e&&e(r),i.ensureURL(),i.router.afterHooks.forEach(function(t){t&&t(r,o)}),i.ready||(i.ready=!0,i.readyCbs.forEach(function(t){t(r)}))},function(t){n&&n(t),t&&!i.ready&&(Ct(t,wt.redirected)&&o===g||(i.ready=!0,i.readyErrorCbs.forEach(function(e){e(t)})))})},Dt.prototype.confirmTransition=function(t,e,n){var i=this,o=this.current;this.pending=t;var a,s,u=function(t){!Ct(t)&&St(t)&&(i.errorCbs.length?i.errorCbs.forEach(function(e){e(t)}):(r(),console.error(t))),n&&n(t)},c=t.matched.length-1,l=o.matched.length-1;if(m(t,o)&&c===l&&t.matched[c]===o.matched[l])return this.ensureURL(),u(((s=Et(a=o,t,wt.duplicated,'Avoided redundant navigation to current location: "'+a.fullPath+'".')).name="NavigationDuplicated",s));var h=function(t,e){var n,r=Math.max(t.length,e.length);for(n=0;n<r&&t[n]===e[n];n++);return{updated:e.slice(0,n),activated:e.slice(n),deactivated:t.slice(n)}}(this.current.matched,t.matched),f=h.updated,p=h.deactivated,d=h.activated,v=function(e,n){if(i.pending!==t)return u(Tt(o,t));try{e(t,o,function(e){!1===e?(i.ensureURL(!0),u(function(t,e){return Et(t,e,wt.aborted,'Navigation aborted from "'+t.fullPath+'" to "'+e.fullPath+'" via a navigation guard.')}(o,t))):St(e)?(i.ensureURL(!0),u(e)):"string"==typeof e||"object"==typeof e&&("string"==typeof e.path||"string"==typeof e.name)?(u(It(o,t)),"object"==typeof e&&e.replace?i.replace(e):i.push(e)):n(e)})}catch(t){u(t)}};_t([].concat(function(t){return Pt(t,"beforeRouteLeave",Rt,!0)}(p),this.router.beforeHooks,function(t){return Pt(t,"beforeRouteUpdate",Rt)}(f),d.map(function(t){return t.beforeEnter}),kt(d)),v,function(){_t(function(t){return Pt(t,"beforeRouteEnter",function(t,e,n,r){return function(t,e,n){return function(r,i,o){return t(r,i,function(t){"function"==typeof t&&(e.enteredCbs[n]||(e.enteredCbs[n]=[]),e.enteredCbs[n].push(t)),o(t)})}}(t,n,r)})}(d).concat(i.router.resolveHooks),v,function(){if(i.pending!==t)return u(Tt(o,t));i.pending=null,e(t),i.router.app&&i.router.app.$nextTick(function(){_(t)})})})},Dt.prototype.updateRoute=function(t){this.current=t,this.cb&&this.cb(t)},Dt.prototype.setupListeners=function(){},Dt.prototype.teardown=function(){this.listeners.forEach(function(t){t()}),this.listeners=[],this.current=g,this.pending=null};var Lt=function(t){function e(e,n){t.call(this,e,n),this._startLocation=Mt(this.base)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this;if(!(this.listeners.length>0)){var e=this.router,n=e.options.scrollBehavior,r=yt&&n;r&&this.listeners.push(st());var i=function(){var n=t.current,i=Mt(t.base);t.current===g&&i===t._startLocation||t.transitionTo(i,function(t){r&&ut(e,t,n,!0)})};window.addEventListener("popstate",i),this.listeners.push(function(){window.removeEventListener("popstate",i)})}},e.prototype.go=function(t){window.history.go(t)},e.prototype.push=function(t,e,n){var r=this,i=this.current;this.transitionTo(t,function(t){mt(E(r.base+t.fullPath)),ut(r.router,t,i,!1),e&&e(t)},n)},e.prototype.replace=function(t,e,n){var r=this,i=this.current;this.transitionTo(t,function(t){bt(E(r.base+t.fullPath)),ut(r.router,t,i,!1),e&&e(t)},n)},e.prototype.ensureURL=function(t){if(Mt(this.base)!==this.current.fullPath){var e=E(this.base+this.current.fullPath);t?mt(e):bt(e)}},e.prototype.getCurrentLocation=function(){return Mt(this.base)},e}(Dt);function Mt(t){var e=window.location.pathname;return t&&0===e.toLowerCase().indexOf(t.toLowerCase())&&(e=e.slice(t.length)),(e||"/")+window.location.search+window.location.hash}var Ft=function(t){function e(e,n,r){t.call(this,e,n),r&&function(t){var e=Mt(t);if(!/^\/#/.test(e))return window.location.replace(E(t+"/#"+e)),!0}(this.base)||Ut()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this;if(!(this.listeners.length>0)){var e=this.router.options.scrollBehavior,n=yt&&e;n&&this.listeners.push(st());var r=function(){var e=t.current;Ut()&&t.transitionTo(qt(),function(r){n&&ut(t.router,r,e,!0),yt||Kt(r.fullPath)})},i=yt?"popstate":"hashchange";window.addEventListener(i,r),this.listeners.push(function(){window.removeEventListener(i,r)})}},e.prototype.push=function(t,e,n){var r=this,i=this.current;this.transitionTo(t,function(t){Bt(t.fullPath),ut(r.router,t,i,!1),e&&e(t)},n)},e.prototype.replace=function(t,e,n){var r=this,i=this.current;this.transitionTo(t,function(t){Kt(t.fullPath),ut(r.router,t,i,!1),e&&e(t)},n)},e.prototype.go=function(t){window.history.go(t)},e.prototype.ensureURL=function(t){var e=this.current.fullPath;qt()!==e&&(t?Bt(e):Kt(e))},e.prototype.getCurrentLocation=function(){return qt()},e}(Dt);function Ut(){var t=qt();return"/"===t.charAt(0)||(Kt("/"+t),!1)}function qt(){var t=window.location.href,e=t.indexOf("#");return e<0?"":t=t.slice(e+1)}function Vt(t){var e=window.location.href,n=e.indexOf("#");return(n>=0?e.slice(0,n):e)+"#"+t}function Bt(t){yt?mt(Vt(t)):window.location.hash=t}function Kt(t){yt?bt(Vt(t)):window.location.replace(Vt(t))}var $t=function(t){function e(e,n){t.call(this,e,n),this.stack=[],this.index=-1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e,n){var r=this;this.transitionTo(t,function(t){r.stack=r.stack.slice(0,r.index+1).concat(t),r.index++,e&&e(t)},n)},e.prototype.replace=function(t,e,n){var r=this;this.transitionTo(t,function(t){r.stack=r.stack.slice(0,r.index).concat(t),e&&e(t)},n)},e.prototype.go=function(t){var e=this,n=this.index+t;if(!(n<0||n>=this.stack.length)){var r=this.stack[n];this.confirmTransition(r,function(){var t=e.current;e.index=n,e.updateRoute(r),e.router.afterHooks.forEach(function(e){e&&e(r,t)})},function(t){Ct(t,wt.duplicated)&&(e.index=n)})}},e.prototype.getCurrentLocation=function(){var t=this.stack[this.stack.length-1];return t?t.fullPath:"/"},e.prototype.ensureURL=function(){},e}(Dt),Ht=function(t){void 0===t&&(t={}),this.app=null,this.apps=[],this.options=t,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=Z(t.routes||[],this);var e=t.mode||"hash";switch(this.fallback="history"===e&&!yt&&!1!==t.fallback,this.fallback&&(e="hash"),J||(e="abstract"),this.mode=e,e){case"history":this.history=new Lt(this,t.base);break;case"hash":this.history=new Ft(this,t.base,this.fallback);break;case"abstract":this.history=new $t(this,t.base);break;default:0}},Gt={currentRoute:{configurable:!0}};function Wt(t,e){return t.push(e),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}Ht.prototype.match=function(t,e,n){return this.matcher.match(t,e,n)},Gt.currentRoute.get=function(){return this.history&&this.history.current},Ht.prototype.init=function(t){var e=this;if(this.apps.push(t),t.$once("hook:destroyed",function(){var n=e.apps.indexOf(t);n>-1&&e.apps.splice(n,1),e.app===t&&(e.app=e.apps[0]||null),e.app||e.history.teardown()}),!this.app){this.app=t;var n=this.history;if(n instanceof Lt||n instanceof Ft){var r=function(t){n.setupListeners(),function(t){var r=n.current,i=e.options.scrollBehavior;yt&&i&&"fullPath"in t&&ut(e,t,r,!1)}(t)};n.transitionTo(n.getCurrentLocation(),r,r)}n.listen(function(t){e.apps.forEach(function(e){e._route=t})})}},Ht.prototype.beforeEach=function(t){return Wt(this.beforeHooks,t)},Ht.prototype.beforeResolve=function(t){return Wt(this.resolveHooks,t)},Ht.prototype.afterEach=function(t){return Wt(this.afterHooks,t)},Ht.prototype.onReady=function(t,e){this.history.onReady(t,e)},Ht.prototype.onError=function(t){this.history.onError(t)},Ht.prototype.push=function(t,e,n){var r=this;if(!e&&!n&&"undefined"!=typeof Promise)return new Promise(function(e,n){r.history.push(t,e,n)});this.history.push(t,e,n)},Ht.prototype.replace=function(t,e,n){var r=this;if(!e&&!n&&"undefined"!=typeof Promise)return new Promise(function(e,n){r.history.replace(t,e,n)});this.history.replace(t,e,n)},Ht.prototype.go=function(t){this.history.go(t)},Ht.prototype.back=function(){this.go(-1)},Ht.prototype.forward=function(){this.go(1)},Ht.prototype.getMatchedComponents=function(t){var e=t?t.matched?t:this.resolve(t).route:this.currentRoute;return e?[].concat.apply([],e.matched.map(function(t){return Object.keys(t.components).map(function(e){return t.components[e]})})):[]},Ht.prototype.resolve=function(t,e,n){var r=K(t,e=e||this.history.current,n,this),i=this.match(r,e),o=i.redirectedFrom||i.fullPath;return{location:r,route:i,href:function(t,e,n){var r="hash"===n?"#"+e:e;return t?E(t+"/"+r):r}(this.history.base,o,this.mode),normalizedTo:r,resolved:i}},Ht.prototype.getRoutes=function(){return this.matcher.getRoutes()},Ht.prototype.addRoute=function(t,e){this.matcher.addRoute(t,e),this.history.current!==g&&this.history.transitionTo(this.history.getCurrentLocation())},Ht.prototype.addRoutes=function(t){this.matcher.addRoutes(t),this.history.current!==g&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(Ht.prototype,Gt),Ht.install=Y,Ht.version="3.5.1",Ht.isNavigationFailure=Ct,Ht.NavigationFailureType=wt,Ht.START_LOCATION=g,J&&window.Vue&&window.Vue.use(Ht),e.a=Ht},"7+uW":function(t,e,n){"use strict";(function(t){
/*!
 * Vue.js v2.6.12
 * (c) 2014-2020 Evan You
 * Released under the MIT License.
 */
var n=Object.freeze({});function r(t){return void 0===t||null===t}function i(t){return void 0!==t&&null!==t}function o(t){return!0===t}function a(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t||"boolean"==typeof t}function s(t){return null!==t&&"object"==typeof t}var u=Object.prototype.toString;function c(t){return"[object Object]"===u.call(t)}function l(t){return"[object RegExp]"===u.call(t)}function h(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function f(t){return i(t)&&"function"==typeof t.then&&"function"==typeof t.catch}function p(t){return null==t?"":Array.isArray(t)||c(t)&&t.toString===u?JSON.stringify(t,null,2):String(t)}function d(t){var e=parseFloat(t);return isNaN(e)?t:e}function v(t,e){for(var n=Object.create(null),r=t.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}var g=v("slot,component",!0),y=v("key,ref,slot,slot-scope,is");function m(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}var b=Object.prototype.hasOwnProperty;function _(t,e){return b.call(t,e)}function w(t){var e=Object.create(null);return function(n){return e[n]||(e[n]=t(n))}}var I=/-(\w)/g,T=w(function(t){return t.replace(I,function(t,e){return e?e.toUpperCase():""})}),E=w(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),O=/\B([A-Z])/g,S=w(function(t){return t.replace(O,"-$1").toLowerCase()});var C=Function.prototype.bind?function(t,e){return t.bind(e)}:function(t,e){function n(n){var r=arguments.length;return r?r>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n};function k(t,e){e=e||0;for(var n=t.length-e,r=new Array(n);n--;)r[n]=t[n+e];return r}function A(t,e){for(var n in e)t[n]=e[n];return t}function N(t){for(var e={},n=0;n<t.length;n++)t[n]&&A(e,t[n]);return e}function j(t,e,n){}var x=function(t,e,n){return!1},D=function(t){return t};function P(t,e){if(t===e)return!0;var n=s(t),r=s(e);if(!n||!r)return!n&&!r&&String(t)===String(e);try{var i=Array.isArray(t),o=Array.isArray(e);if(i&&o)return t.length===e.length&&t.every(function(t,n){return P(t,e[n])});if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(i||o)return!1;var a=Object.keys(t),u=Object.keys(e);return a.length===u.length&&a.every(function(n){return P(t[n],e[n])})}catch(t){return!1}}function R(t,e){for(var n=0;n<t.length;n++)if(P(t[n],e))return n;return-1}function L(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var M="data-server-rendered",F=["component","directive","filter"],U=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],q={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:x,isReservedAttr:x,isUnknownElement:x,getTagNamespace:j,parsePlatformTagName:D,mustUseProp:x,async:!0,_lifecycleHooks:U},V=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function B(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function K(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var $=new RegExp("[^"+V.source+".$_\\d]");var H,G="__proto__"in{},W="undefined"!=typeof window,z="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,Q=z&&WXEnvironment.platform.toLowerCase(),Y=W&&window.navigator.userAgent.toLowerCase(),J=Y&&/msie|trident/.test(Y),X=Y&&Y.indexOf("msie 9.0")>0,Z=Y&&Y.indexOf("edge/")>0,tt=(Y&&Y.indexOf("android"),Y&&/iphone|ipad|ipod|ios/.test(Y)||"ios"===Q),et=(Y&&/chrome\/\d+/.test(Y),Y&&/phantomjs/.test(Y),Y&&Y.match(/firefox\/(\d+)/)),nt={}.watch,rt=!1;if(W)try{var it={};Object.defineProperty(it,"passive",{get:function(){rt=!0}}),window.addEventListener("test-passive",null,it)}catch(t){}var ot=function(){return void 0===H&&(H=!W&&!z&&void 0!==t&&(t.process&&"server"===t.process.env.VUE_ENV)),H},at=W&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function st(t){return"function"==typeof t&&/native code/.test(t.toString())}var ut,ct="undefined"!=typeof Symbol&&st(Symbol)&&"undefined"!=typeof Reflect&&st(Reflect.ownKeys);ut="undefined"!=typeof Set&&st(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var lt=j,ht=0,ft=function(){this.id=ht++,this.subs=[]};ft.prototype.addSub=function(t){this.subs.push(t)},ft.prototype.removeSub=function(t){m(this.subs,t)},ft.prototype.depend=function(){ft.target&&ft.target.addDep(this)},ft.prototype.notify=function(){var t=this.subs.slice();for(var e=0,n=t.length;e<n;e++)t[e].update()},ft.target=null;var pt=[];function dt(t){pt.push(t),ft.target=t}function vt(){pt.pop(),ft.target=pt[pt.length-1]}var gt=function(t,e,n,r,i,o,a,s){this.tag=t,this.data=e,this.children=n,this.text=r,this.elm=i,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},yt={child:{configurable:!0}};yt.child.get=function(){return this.componentInstance},Object.defineProperties(gt.prototype,yt);var mt=function(t){void 0===t&&(t="");var e=new gt;return e.text=t,e.isComment=!0,e};function bt(t){return new gt(void 0,void 0,void 0,String(t))}function _t(t){var e=new gt(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var wt=Array.prototype,It=Object.create(wt);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(t){var e=wt[t];K(It,t,function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];var i,o=e.apply(this,n),a=this.__ob__;switch(t){case"push":case"unshift":i=n;break;case"splice":i=n.slice(2)}return i&&a.observeArray(i),a.dep.notify(),o})});var Tt=Object.getOwnPropertyNames(It),Et=!0;function Ot(t){Et=t}var St=function(t){var e;this.value=t,this.dep=new ft,this.vmCount=0,K(t,"__ob__",this),Array.isArray(t)?(G?(e=It,t.__proto__=e):function(t,e,n){for(var r=0,i=n.length;r<i;r++){var o=n[r];K(t,o,e[o])}}(t,It,Tt),this.observeArray(t)):this.walk(t)};function Ct(t,e){var n;if(s(t)&&!(t instanceof gt))return _(t,"__ob__")&&t.__ob__ instanceof St?n=t.__ob__:Et&&!ot()&&(Array.isArray(t)||c(t))&&Object.isExtensible(t)&&!t._isVue&&(n=new St(t)),e&&n&&n.vmCount++,n}function kt(t,e,n,r,i){var o=new ft,a=Object.getOwnPropertyDescriptor(t,e);if(!a||!1!==a.configurable){var s=a&&a.get,u=a&&a.set;s&&!u||2!==arguments.length||(n=t[e]);var c=!i&&Ct(n);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=s?s.call(t):n;return ft.target&&(o.depend(),c&&(c.dep.depend(),Array.isArray(e)&&function t(e){for(var n=void 0,r=0,i=e.length;r<i;r++)(n=e[r])&&n.__ob__&&n.__ob__.dep.depend(),Array.isArray(n)&&t(n)}(e))),e},set:function(e){var r=s?s.call(t):n;e===r||e!=e&&r!=r||s&&!u||(u?u.call(t,e):n=e,c=!i&&Ct(e),o.notify())}})}}function At(t,e,n){if(Array.isArray(t)&&h(e))return t.length=Math.max(t.length,e),t.splice(e,1,n),n;if(e in t&&!(e in Object.prototype))return t[e]=n,n;var r=t.__ob__;return t._isVue||r&&r.vmCount?n:r?(kt(r.value,e,n),r.dep.notify(),n):(t[e]=n,n)}function Nt(t,e){if(Array.isArray(t)&&h(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||_(t,e)&&(delete t[e],n&&n.dep.notify())}}St.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)kt(t,e[n])},St.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)Ct(t[e])};var jt=q.optionMergeStrategies;function xt(t,e){if(!e)return t;for(var n,r,i,o=ct?Reflect.ownKeys(e):Object.keys(e),a=0;a<o.length;a++)"__ob__"!==(n=o[a])&&(r=t[n],i=e[n],_(t,n)?r!==i&&c(r)&&c(i)&&xt(r,i):At(t,n,i));return t}function Dt(t,e,n){return n?function(){var r="function"==typeof e?e.call(n,n):e,i="function"==typeof t?t.call(n,n):t;return r?xt(r,i):i}:e?t?function(){return xt("function"==typeof e?e.call(this,this):e,"function"==typeof t?t.call(this,this):t)}:e:t}function Pt(t,e){var n=e?t?t.concat(e):Array.isArray(e)?e:[e]:t;return n?function(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}(n):n}function Rt(t,e,n,r){var i=Object.create(t||null);return e?A(i,e):i}jt.data=function(t,e,n){return n?Dt(t,e,n):e&&"function"!=typeof e?t:Dt(t,e)},U.forEach(function(t){jt[t]=Pt}),F.forEach(function(t){jt[t+"s"]=Rt}),jt.watch=function(t,e,n,r){if(t===nt&&(t=void 0),e===nt&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var i={};for(var o in A(i,t),e){var a=i[o],s=e[o];a&&!Array.isArray(a)&&(a=[a]),i[o]=a?a.concat(s):Array.isArray(s)?s:[s]}return i},jt.props=jt.methods=jt.inject=jt.computed=function(t,e,n,r){if(!t)return e;var i=Object.create(null);return A(i,t),e&&A(i,e),i},jt.provide=Dt;var Lt=function(t,e){return void 0===e?t:e};function Mt(t,e,n){if("function"==typeof e&&(e=e.options),function(t,e){var n=t.props;if(n){var r,i,o={};if(Array.isArray(n))for(r=n.length;r--;)"string"==typeof(i=n[r])&&(o[T(i)]={type:null});else if(c(n))for(var a in n)i=n[a],o[T(a)]=c(i)?i:{type:i};t.props=o}}(e),function(t,e){var n=t.inject;if(n){var r=t.inject={};if(Array.isArray(n))for(var i=0;i<n.length;i++)r[n[i]]={from:n[i]};else if(c(n))for(var o in n){var a=n[o];r[o]=c(a)?A({from:o},a):{from:a}}}}(e),function(t){var e=t.directives;if(e)for(var n in e){var r=e[n];"function"==typeof r&&(e[n]={bind:r,update:r})}}(e),!e._base&&(e.extends&&(t=Mt(t,e.extends,n)),e.mixins))for(var r=0,i=e.mixins.length;r<i;r++)t=Mt(t,e.mixins[r],n);var o,a={};for(o in t)s(o);for(o in e)_(t,o)||s(o);function s(r){var i=jt[r]||Lt;a[r]=i(t[r],e[r],n,r)}return a}function Ft(t,e,n,r){if("string"==typeof n){var i=t[e];if(_(i,n))return i[n];var o=T(n);if(_(i,o))return i[o];var a=E(o);return _(i,a)?i[a]:i[n]||i[o]||i[a]}}function Ut(t,e,n,r){var i=e[t],o=!_(n,t),a=n[t],s=Bt(Boolean,i.type);if(s>-1)if(o&&!_(i,"default"))a=!1;else if(""===a||a===S(t)){var u=Bt(String,i.type);(u<0||s<u)&&(a=!0)}if(void 0===a){a=function(t,e,n){if(!_(e,"default"))return;var r=e.default;0;if(t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n])return t._props[n];return"function"==typeof r&&"Function"!==qt(e.type)?r.call(t):r}(r,i,t);var c=Et;Ot(!0),Ct(a),Ot(c)}return a}function qt(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function Vt(t,e){return qt(t)===qt(e)}function Bt(t,e){if(!Array.isArray(e))return Vt(e,t)?0:-1;for(var n=0,r=e.length;n<r;n++)if(Vt(e[n],t))return n;return-1}function Kt(t,e,n){dt();try{if(e)for(var r=e;r=r.$parent;){var i=r.$options.errorCaptured;if(i)for(var o=0;o<i.length;o++)try{if(!1===i[o].call(r,t,e,n))return}catch(t){Ht(t,r,"errorCaptured hook")}}Ht(t,e,n)}finally{vt()}}function $t(t,e,n,r,i){var o;try{(o=n?t.apply(e,n):t.call(e))&&!o._isVue&&f(o)&&!o._handled&&(o.catch(function(t){return Kt(t,r,i+" (Promise/async)")}),o._handled=!0)}catch(t){Kt(t,r,i)}return o}function Ht(t,e,n){if(q.errorHandler)try{return q.errorHandler.call(null,t,e,n)}catch(e){e!==t&&Gt(e,null,"config.errorHandler")}Gt(t,e,n)}function Gt(t,e,n){if(!W&&!z||"undefined"==typeof console)throw t;console.error(t)}var Wt,zt=!1,Qt=[],Yt=!1;function Jt(){Yt=!1;var t=Qt.slice(0);Qt.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!=typeof Promise&&st(Promise)){var Xt=Promise.resolve();Wt=function(){Xt.then(Jt),tt&&setTimeout(j)},zt=!0}else if(J||"undefined"==typeof MutationObserver||!st(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Wt="undefined"!=typeof setImmediate&&st(setImmediate)?function(){setImmediate(Jt)}:function(){setTimeout(Jt,0)};else{var Zt=1,te=new MutationObserver(Jt),ee=document.createTextNode(String(Zt));te.observe(ee,{characterData:!0}),Wt=function(){Zt=(Zt+1)%2,ee.data=String(Zt)},zt=!0}function ne(t,e){var n;if(Qt.push(function(){if(t)try{t.call(e)}catch(t){Kt(t,e,"nextTick")}else n&&n(e)}),Yt||(Yt=!0,Wt()),!t&&"undefined"!=typeof Promise)return new Promise(function(t){n=t})}var re=new ut;function ie(t){!function t(e,n){var r,i;var o=Array.isArray(e);if(!o&&!s(e)||Object.isFrozen(e)||e instanceof gt)return;if(e.__ob__){var a=e.__ob__.dep.id;if(n.has(a))return;n.add(a)}if(o)for(r=e.length;r--;)t(e[r],n);else for(i=Object.keys(e),r=i.length;r--;)t(e[i[r]],n)}(t,re),re.clear()}var oe=w(function(t){var e="&"===t.charAt(0),n="~"===(t=e?t.slice(1):t).charAt(0),r="!"===(t=n?t.slice(1):t).charAt(0);return{name:t=r?t.slice(1):t,once:n,capture:r,passive:e}});function ae(t,e){function n(){var t=arguments,r=n.fns;if(!Array.isArray(r))return $t(r,null,arguments,e,"v-on handler");for(var i=r.slice(),o=0;o<i.length;o++)$t(i[o],null,t,e,"v-on handler")}return n.fns=t,n}function se(t,e,n,i,a,s){var u,c,l,h;for(u in t)c=t[u],l=e[u],h=oe(u),r(c)||(r(l)?(r(c.fns)&&(c=t[u]=ae(c,s)),o(h.once)&&(c=t[u]=a(h.name,c,h.capture)),n(h.name,c,h.capture,h.passive,h.params)):c!==l&&(l.fns=c,t[u]=l));for(u in e)r(t[u])&&i((h=oe(u)).name,e[u],h.capture)}function ue(t,e,n){var a;t instanceof gt&&(t=t.data.hook||(t.data.hook={}));var s=t[e];function u(){n.apply(this,arguments),m(a.fns,u)}r(s)?a=ae([u]):i(s.fns)&&o(s.merged)?(a=s).fns.push(u):a=ae([s,u]),a.merged=!0,t[e]=a}function ce(t,e,n,r,o){if(i(e)){if(_(e,n))return t[n]=e[n],o||delete e[n],!0;if(_(e,r))return t[n]=e[r],o||delete e[r],!0}return!1}function le(t){return a(t)?[bt(t)]:Array.isArray(t)?function t(e,n){var s=[];var u,c,l,h;for(u=0;u<e.length;u++)r(c=e[u])||"boolean"==typeof c||(l=s.length-1,h=s[l],Array.isArray(c)?c.length>0&&(he((c=t(c,(n||"")+"_"+u))[0])&&he(h)&&(s[l]=bt(h.text+c[0].text),c.shift()),s.push.apply(s,c)):a(c)?he(h)?s[l]=bt(h.text+c):""!==c&&s.push(bt(c)):he(c)&&he(h)?s[l]=bt(h.text+c.text):(o(e._isVList)&&i(c.tag)&&r(c.key)&&i(n)&&(c.key="__vlist"+n+"_"+u+"__"),s.push(c)));return s}(t):void 0}function he(t){return i(t)&&i(t.text)&&!1===t.isComment}function fe(t,e){if(t){for(var n=Object.create(null),r=ct?Reflect.ownKeys(t):Object.keys(t),i=0;i<r.length;i++){var o=r[i];if("__ob__"!==o){for(var a=t[o].from,s=e;s;){if(s._provided&&_(s._provided,a)){n[o]=s._provided[a];break}s=s.$parent}if(!s)if("default"in t[o]){var u=t[o].default;n[o]="function"==typeof u?u.call(e):u}else 0}}return n}}function pe(t,e){if(!t||!t.length)return{};for(var n={},r=0,i=t.length;r<i;r++){var o=t[r],a=o.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,o.context!==e&&o.fnContext!==e||!a||null==a.slot)(n.default||(n.default=[])).push(o);else{var s=a.slot,u=n[s]||(n[s]=[]);"template"===o.tag?u.push.apply(u,o.children||[]):u.push(o)}}for(var c in n)n[c].every(de)&&delete n[c];return n}function de(t){return t.isComment&&!t.asyncFactory||" "===t.text}function ve(t,e,r){var i,o=Object.keys(e).length>0,a=t?!!t.$stable:!o,s=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(a&&r&&r!==n&&s===r.$key&&!o&&!r.$hasNormal)return r;for(var u in i={},t)t[u]&&"$"!==u[0]&&(i[u]=ge(e,u,t[u]))}else i={};for(var c in e)c in i||(i[c]=ye(e,c));return t&&Object.isExtensible(t)&&(t._normalized=i),K(i,"$stable",a),K(i,"$key",s),K(i,"$hasNormal",o),i}function ge(t,e,n){var r=function(){var t=arguments.length?n.apply(null,arguments):n({});return(t=t&&"object"==typeof t&&!Array.isArray(t)?[t]:le(t))&&(0===t.length||1===t.length&&t[0].isComment)?void 0:t};return n.proxy&&Object.defineProperty(t,e,{get:r,enumerable:!0,configurable:!0}),r}function ye(t,e){return function(){return t[e]}}function me(t,e){var n,r,o,a,u;if(Array.isArray(t)||"string"==typeof t)for(n=new Array(t.length),r=0,o=t.length;r<o;r++)n[r]=e(t[r],r);else if("number"==typeof t)for(n=new Array(t),r=0;r<t;r++)n[r]=e(r+1,r);else if(s(t))if(ct&&t[Symbol.iterator]){n=[];for(var c=t[Symbol.iterator](),l=c.next();!l.done;)n.push(e(l.value,n.length)),l=c.next()}else for(a=Object.keys(t),n=new Array(a.length),r=0,o=a.length;r<o;r++)u=a[r],n[r]=e(t[u],u,r);return i(n)||(n=[]),n._isVList=!0,n}function be(t,e,n,r){var i,o=this.$scopedSlots[t];o?(n=n||{},r&&(n=A(A({},r),n)),i=o(n)||e):i=this.$slots[t]||e;var a=n&&n.slot;return a?this.$createElement("template",{slot:a},i):i}function _e(t){return Ft(this.$options,"filters",t)||D}function we(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function Ie(t,e,n,r,i){var o=q.keyCodes[e]||n;return i&&r&&!q.keyCodes[e]?we(i,r):o?we(o,t):r?S(r)!==e:void 0}function Te(t,e,n,r,i){if(n)if(s(n)){var o;Array.isArray(n)&&(n=N(n));var a=function(a){if("class"===a||"style"===a||y(a))o=t;else{var s=t.attrs&&t.attrs.type;o=r||q.mustUseProp(e,s,a)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var u=T(a),c=S(a);u in o||c in o||(o[a]=n[a],i&&((t.on||(t.on={}))["update:"+a]=function(t){n[a]=t}))};for(var u in n)a(u)}else;return t}function Ee(t,e){var n=this._staticTrees||(this._staticTrees=[]),r=n[t];return r&&!e?r:(Se(r=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),"__static__"+t,!1),r)}function Oe(t,e,n){return Se(t,"__once__"+e+(n?"_"+n:""),!0),t}function Se(t,e,n){if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]&&"string"!=typeof t[r]&&Ce(t[r],e+"_"+r,n);else Ce(t,e,n)}function Ce(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function ke(t,e){if(e)if(c(e)){var n=t.on=t.on?A({},t.on):{};for(var r in e){var i=n[r],o=e[r];n[r]=i?[].concat(i,o):o}}else;return t}function Ae(t,e,n,r){e=e||{$stable:!n};for(var i=0;i<t.length;i++){var o=t[i];Array.isArray(o)?Ae(o,e,n):o&&(o.proxy&&(o.fn.proxy=!0),e[o.key]=o.fn)}return r&&(e.$key=r),e}function Ne(t,e){for(var n=0;n<e.length;n+=2){var r=e[n];"string"==typeof r&&r&&(t[e[n]]=e[n+1])}return t}function je(t,e){return"string"==typeof t?e+t:t}function xe(t){t._o=Oe,t._n=d,t._s=p,t._l=me,t._t=be,t._q=P,t._i=R,t._m=Ee,t._f=_e,t._k=Ie,t._b=Te,t._v=bt,t._e=mt,t._u=Ae,t._g=ke,t._d=Ne,t._p=je}function De(t,e,r,i,a){var s,u=this,c=a.options;_(i,"_uid")?(s=Object.create(i))._original=i:(s=i,i=i._original);var l=o(c._compiled),h=!l;this.data=t,this.props=e,this.children=r,this.parent=i,this.listeners=t.on||n,this.injections=fe(c.inject,i),this.slots=function(){return u.$slots||ve(t.scopedSlots,u.$slots=pe(r,i)),u.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return ve(t.scopedSlots,this.slots())}}),l&&(this.$options=c,this.$slots=this.slots(),this.$scopedSlots=ve(t.scopedSlots,this.$slots)),c._scopeId?this._c=function(t,e,n,r){var o=Be(s,t,e,n,r,h);return o&&!Array.isArray(o)&&(o.fnScopeId=c._scopeId,o.fnContext=i),o}:this._c=function(t,e,n,r){return Be(s,t,e,n,r,h)}}function Pe(t,e,n,r,i){var o=_t(t);return o.fnContext=n,o.fnOptions=r,e.slot&&((o.data||(o.data={})).slot=e.slot),o}function Re(t,e){for(var n in e)t[T(n)]=e[n]}xe(De.prototype);var Le={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;Le.prepatch(n,n)}else{(t.componentInstance=function(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},r=t.data.inlineTemplate;i(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns);return new t.componentOptions.Ctor(n)}(t,Xe)).$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var r=e.componentOptions;!function(t,e,r,i,o){0;var a=i.data.scopedSlots,s=t.$scopedSlots,u=!!(a&&!a.$stable||s!==n&&!s.$stable||a&&t.$scopedSlots.$key!==a.$key),c=!!(o||t.$options._renderChildren||u);t.$options._parentVnode=i,t.$vnode=i,t._vnode&&(t._vnode.parent=i);if(t.$options._renderChildren=o,t.$attrs=i.data.attrs||n,t.$listeners=r||n,e&&t.$options.props){Ot(!1);for(var l=t._props,h=t.$options._propKeys||[],f=0;f<h.length;f++){var p=h[f],d=t.$options.props;l[p]=Ut(p,d,e,t)}Ot(!0),t.$options.propsData=e}r=r||n;var v=t.$options._parentListeners;t.$options._parentListeners=r,Je(t,r,v),c&&(t.$slots=pe(o,i.context),t.$forceUpdate());0}(e.componentInstance=t.componentInstance,r.propsData,r.listeners,e,r.children)},insert:function(t){var e,n=t.context,r=t.componentInstance;r._isMounted||(r._isMounted=!0,nn(r,"mounted")),t.data.keepAlive&&(n._isMounted?((e=r)._inactive=!1,on.push(e)):en(r,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?function t(e,n){if(n&&(e._directInactive=!0,tn(e)))return;if(!e._inactive){e._inactive=!0;for(var r=0;r<e.$children.length;r++)t(e.$children[r]);nn(e,"deactivated")}}(e,!0):e.$destroy())}},Me=Object.keys(Le);function Fe(t,e,a,u,c){if(!r(t)){var l=a.$options._base;if(s(t)&&(t=l.extend(t)),"function"==typeof t){var h;if(r(t.cid)&&void 0===(t=function(t,e){if(o(t.error)&&i(t.errorComp))return t.errorComp;if(i(t.resolved))return t.resolved;var n=$e;n&&i(t.owners)&&-1===t.owners.indexOf(n)&&t.owners.push(n);if(o(t.loading)&&i(t.loadingComp))return t.loadingComp;if(n&&!i(t.owners)){var a=t.owners=[n],u=!0,c=null,l=null;n.$on("hook:destroyed",function(){return m(a,n)});var h=function(t){for(var e=0,n=a.length;e<n;e++)a[e].$forceUpdate();t&&(a.length=0,null!==c&&(clearTimeout(c),c=null),null!==l&&(clearTimeout(l),l=null))},p=L(function(n){t.resolved=He(n,e),u?a.length=0:h(!0)}),d=L(function(e){i(t.errorComp)&&(t.error=!0,h(!0))}),v=t(p,d);return s(v)&&(f(v)?r(t.resolved)&&v.then(p,d):f(v.component)&&(v.component.then(p,d),i(v.error)&&(t.errorComp=He(v.error,e)),i(v.loading)&&(t.loadingComp=He(v.loading,e),0===v.delay?t.loading=!0:c=setTimeout(function(){c=null,r(t.resolved)&&r(t.error)&&(t.loading=!0,h(!1))},v.delay||200)),i(v.timeout)&&(l=setTimeout(function(){l=null,r(t.resolved)&&d(null)},v.timeout)))),u=!1,t.loading?t.loadingComp:t.resolved}}(h=t,l)))return function(t,e,n,r,i){var o=mt();return o.asyncFactory=t,o.asyncMeta={data:e,context:n,children:r,tag:i},o}(h,e,a,u,c);e=e||{},On(t),i(e.model)&&function(t,e){var n=t.model&&t.model.prop||"value",r=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[n]=e.model.value;var o=e.on||(e.on={}),a=o[r],s=e.model.callback;i(a)?(Array.isArray(a)?-1===a.indexOf(s):a!==s)&&(o[r]=[s].concat(a)):o[r]=s}(t.options,e);var p=function(t,e,n){var o=e.options.props;if(!r(o)){var a={},s=t.attrs,u=t.props;if(i(s)||i(u))for(var c in o){var l=S(c);ce(a,u,c,l,!0)||ce(a,s,c,l,!1)}return a}}(e,t);if(o(t.options.functional))return function(t,e,r,o,a){var s=t.options,u={},c=s.props;if(i(c))for(var l in c)u[l]=Ut(l,c,e||n);else i(r.attrs)&&Re(u,r.attrs),i(r.props)&&Re(u,r.props);var h=new De(r,u,a,o,t),f=s.render.call(null,h._c,h);if(f instanceof gt)return Pe(f,r,h.parent,s);if(Array.isArray(f)){for(var p=le(f)||[],d=new Array(p.length),v=0;v<p.length;v++)d[v]=Pe(p[v],r,h.parent,s);return d}}(t,p,e,a,u);var d=e.on;if(e.on=e.nativeOn,o(t.options.abstract)){var v=e.slot;e={},v&&(e.slot=v)}!function(t){for(var e=t.hook||(t.hook={}),n=0;n<Me.length;n++){var r=Me[n],i=e[r],o=Le[r];i===o||i&&i._merged||(e[r]=i?Ue(o,i):o)}}(e);var g=t.options.name||c;return new gt("vue-component-"+t.cid+(g?"-"+g:""),e,void 0,void 0,void 0,a,{Ctor:t,propsData:p,listeners:d,tag:c,children:u},h)}}}function Ue(t,e){var n=function(n,r){t(n,r),e(n,r)};return n._merged=!0,n}var qe=1,Ve=2;function Be(t,e,n,u,c,l){return(Array.isArray(n)||a(n))&&(c=u,u=n,n=void 0),o(l)&&(c=Ve),function(t,e,n,a,u){if(i(n)&&i(n.__ob__))return mt();i(n)&&i(n.is)&&(e=n.is);if(!e)return mt();0;Array.isArray(a)&&"function"==typeof a[0]&&((n=n||{}).scopedSlots={default:a[0]},a.length=0);u===Ve?a=le(a):u===qe&&(a=function(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}(a));var c,l;if("string"==typeof e){var h;l=t.$vnode&&t.$vnode.ns||q.getTagNamespace(e),c=q.isReservedTag(e)?new gt(q.parsePlatformTagName(e),n,a,void 0,void 0,t):n&&n.pre||!i(h=Ft(t.$options,"components",e))?new gt(e,n,a,void 0,void 0,t):Fe(h,n,t,a,e)}else c=Fe(e,n,t,a);return Array.isArray(c)?c:i(c)?(i(l)&&function t(e,n,a){e.ns=n;"foreignObject"===e.tag&&(n=void 0,a=!0);if(i(e.children))for(var s=0,u=e.children.length;s<u;s++){var c=e.children[s];i(c.tag)&&(r(c.ns)||o(a)&&"svg"!==c.tag)&&t(c,n,a)}}(c,l),i(n)&&function(t){s(t.style)&&ie(t.style);s(t.class)&&ie(t.class)}(n),c):mt()}(t,e,n,u,c)}var Ke,$e=null;function He(t,e){return(t.__esModule||ct&&"Module"===t[Symbol.toStringTag])&&(t=t.default),s(t)?e.extend(t):t}function Ge(t){return t.isComment&&t.asyncFactory}function We(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];if(i(n)&&(i(n.componentOptions)||Ge(n)))return n}}function ze(t,e){Ke.$on(t,e)}function Qe(t,e){Ke.$off(t,e)}function Ye(t,e){var n=Ke;return function r(){null!==e.apply(null,arguments)&&n.$off(t,r)}}function Je(t,e,n){Ke=t,se(e,n||{},ze,Qe,Ye,t),Ke=void 0}var Xe=null;function Ze(t){var e=Xe;return Xe=t,function(){Xe=e}}function tn(t){for(;t&&(t=t.$parent);)if(t._inactive)return!0;return!1}function en(t,e){if(e){if(t._directInactive=!1,tn(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)en(t.$children[n]);nn(t,"activated")}}function nn(t,e){dt();var n=t.$options[e],r=e+" hook";if(n)for(var i=0,o=n.length;i<o;i++)$t(n[i],t,null,t,r);t._hasHookEvent&&t.$emit("hook:"+e),vt()}var rn=[],on=[],an={},sn=!1,un=!1,cn=0;var ln=0,hn=Date.now;if(W&&!J){var fn=window.performance;fn&&"function"==typeof fn.now&&hn()>document.createEvent("Event").timeStamp&&(hn=function(){return fn.now()})}function pn(){var t,e;for(ln=hn(),un=!0,rn.sort(function(t,e){return t.id-e.id}),cn=0;cn<rn.length;cn++)(t=rn[cn]).before&&t.before(),e=t.id,an[e]=null,t.run();var n=on.slice(),r=rn.slice();cn=rn.length=on.length=0,an={},sn=un=!1,function(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,en(t[e],!0)}(n),function(t){var e=t.length;for(;e--;){var n=t[e],r=n.vm;r._watcher===n&&r._isMounted&&!r._isDestroyed&&nn(r,"updated")}}(r),at&&q.devtools&&at.emit("flush")}var dn=0,vn=function(t,e,n,r,i){this.vm=t,i&&(t._watcher=this),t._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++dn,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ut,this.newDepIds=new ut,this.expression="","function"==typeof e?this.getter=e:(this.getter=function(t){if(!$.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}(e),this.getter||(this.getter=j)),this.value=this.lazy?void 0:this.get()};vn.prototype.get=function(){var t;dt(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(t){if(!this.user)throw t;Kt(t,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&ie(t),vt(),this.cleanupDeps()}return t},vn.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},vn.prototype.cleanupDeps=function(){for(var t=this.deps.length;t--;){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},vn.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(t){var e=t.id;if(null==an[e]){if(an[e]=!0,un){for(var n=rn.length-1;n>cn&&rn[n].id>t.id;)n--;rn.splice(n+1,0,t)}else rn.push(t);sn||(sn=!0,ne(pn))}}(this)},vn.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||s(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(t){Kt(t,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},vn.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},vn.prototype.depend=function(){for(var t=this.deps.length;t--;)this.deps[t].depend()},vn.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||m(this.vm._watchers,this);for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1}};var gn={enumerable:!0,configurable:!0,get:j,set:j};function yn(t,e,n){gn.get=function(){return this[e][n]},gn.set=function(t){this[e][n]=t},Object.defineProperty(t,n,gn)}function mn(t){t._watchers=[];var e=t.$options;e.props&&function(t,e){var n=t.$options.propsData||{},r=t._props={},i=t.$options._propKeys=[],o=!t.$parent;o||Ot(!1);var a=function(o){i.push(o);var a=Ut(o,e,n,t);kt(r,o,a),o in t||yn(t,"_props",o)};for(var s in e)a(s);Ot(!0)}(t,e.props),e.methods&&function(t,e){t.$options.props;for(var n in e)t[n]="function"!=typeof e[n]?j:C(e[n],t)}(t,e.methods),e.data?function(t){var e=t.$options.data;c(e=t._data="function"==typeof e?function(t,e){dt();try{return t.call(e,e)}catch(t){return Kt(t,e,"data()"),{}}finally{vt()}}(e,t):e||{})||(e={});var n=Object.keys(e),r=t.$options.props,i=(t.$options.methods,n.length);for(;i--;){var o=n[i];0,r&&_(r,o)||B(o)||yn(t,"_data",o)}Ct(e,!0)}(t):Ct(t._data={},!0),e.computed&&function(t,e){var n=t._computedWatchers=Object.create(null),r=ot();for(var i in e){var o=e[i],a="function"==typeof o?o:o.get;0,r||(n[i]=new vn(t,a||j,j,bn)),i in t||_n(t,i,o)}}(t,e.computed),e.watch&&e.watch!==nt&&function(t,e){for(var n in e){var r=e[n];if(Array.isArray(r))for(var i=0;i<r.length;i++)Tn(t,n,r[i]);else Tn(t,n,r)}}(t,e.watch)}var bn={lazy:!0};function _n(t,e,n){var r=!ot();"function"==typeof n?(gn.get=r?wn(e):In(n),gn.set=j):(gn.get=n.get?r&&!1!==n.cache?wn(e):In(n.get):j,gn.set=n.set||j),Object.defineProperty(t,e,gn)}function wn(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),ft.target&&e.depend(),e.value}}function In(t){return function(){return t.call(this,this)}}function Tn(t,e,n,r){return c(n)&&(r=n,n=n.handler),"string"==typeof n&&(n=t[n]),t.$watch(e,n,r)}var En=0;function On(t){var e=t.options;if(t.super){var n=On(t.super);if(n!==t.superOptions){t.superOptions=n;var r=function(t){var e,n=t.options,r=t.sealedOptions;for(var i in n)n[i]!==r[i]&&(e||(e={}),e[i]=n[i]);return e}(t);r&&A(t.extendOptions,r),(e=t.options=Mt(n,t.extendOptions)).name&&(e.components[e.name]=t)}}return e}function Sn(t){this._init(t)}function Cn(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,r=n.cid,i=t._Ctor||(t._Ctor={});if(i[r])return i[r];var o=t.name||n.options.name;var a=function(t){this._init(t)};return(a.prototype=Object.create(n.prototype)).constructor=a,a.cid=e++,a.options=Mt(n.options,t),a.super=n,a.options.props&&function(t){var e=t.options.props;for(var n in e)yn(t.prototype,"_props",n)}(a),a.options.computed&&function(t){var e=t.options.computed;for(var n in e)_n(t.prototype,n,e[n])}(a),a.extend=n.extend,a.mixin=n.mixin,a.use=n.use,F.forEach(function(t){a[t]=n[t]}),o&&(a.options.components[o]=a),a.superOptions=n.options,a.extendOptions=t,a.sealedOptions=A({},a.options),i[r]=a,a}}function kn(t){return t&&(t.Ctor.options.name||t.tag)}function An(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"==typeof t?t.split(",").indexOf(e)>-1:!!l(t)&&t.test(e)}function Nn(t,e){var n=t.cache,r=t.keys,i=t._vnode;for(var o in n){var a=n[o];if(a){var s=kn(a.componentOptions);s&&!e(s)&&jn(n,o,r,i)}}}function jn(t,e,n,r){var i=t[e];!i||r&&i.tag===r.tag||i.componentInstance.$destroy(),t[e]=null,m(n,e)}!function(t){t.prototype._init=function(t){var e=this;e._uid=En++,e._isVue=!0,t&&t._isComponent?function(t,e){var n=t.$options=Object.create(t.constructor.options),r=e._parentVnode;n.parent=e.parent,n._parentVnode=r;var i=r.componentOptions;n.propsData=i.propsData,n._parentListeners=i.listeners,n._renderChildren=i.children,n._componentTag=i.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}(e,t):e.$options=Mt(On(e.constructor),t||{},e),e._renderProxy=e,e._self=e,function(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}(e),function(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&Je(t,e)}(e),function(t){t._vnode=null,t._staticTrees=null;var e=t.$options,r=t.$vnode=e._parentVnode,i=r&&r.context;t.$slots=pe(e._renderChildren,i),t.$scopedSlots=n,t._c=function(e,n,r,i){return Be(t,e,n,r,i,!1)},t.$createElement=function(e,n,r,i){return Be(t,e,n,r,i,!0)};var o=r&&r.data;kt(t,"$attrs",o&&o.attrs||n,null,!0),kt(t,"$listeners",e._parentListeners||n,null,!0)}(e),nn(e,"beforeCreate"),function(t){var e=fe(t.$options.inject,t);e&&(Ot(!1),Object.keys(e).forEach(function(n){kt(t,n,e[n])}),Ot(!0))}(e),mn(e),function(t){var e=t.$options.provide;e&&(t._provided="function"==typeof e?e.call(t):e)}(e),nn(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}(Sn),function(t){var e={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",n),t.prototype.$set=At,t.prototype.$delete=Nt,t.prototype.$watch=function(t,e,n){if(c(e))return Tn(this,t,e,n);(n=n||{}).user=!0;var r=new vn(this,t,e,n);if(n.immediate)try{e.call(this,r.value)}catch(t){Kt(t,this,'callback for immediate watcher "'+r.expression+'"')}return function(){r.teardown()}}}(Sn),function(t){var e=/^hook:/;t.prototype.$on=function(t,n){var r=this;if(Array.isArray(t))for(var i=0,o=t.length;i<o;i++)r.$on(t[i],n);else(r._events[t]||(r._events[t]=[])).push(n),e.test(t)&&(r._hasHookEvent=!0);return r},t.prototype.$once=function(t,e){var n=this;function r(){n.$off(t,r),e.apply(n,arguments)}return r.fn=e,n.$on(t,r),n},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(t)){for(var r=0,i=t.length;r<i;r++)n.$off(t[r],e);return n}var o,a=n._events[t];if(!a)return n;if(!e)return n._events[t]=null,n;for(var s=a.length;s--;)if((o=a[s])===e||o.fn===e){a.splice(s,1);break}return n},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?k(n):n;for(var r=k(arguments,1),i='event handler for "'+t+'"',o=0,a=n.length;o<a;o++)$t(n[o],e,r,e,i)}return e}}(Sn),function(t){t.prototype._update=function(t,e){var n=this,r=n.$el,i=n._vnode,o=Ze(n);n._vnode=t,n.$el=i?n.__patch__(i,t):n.__patch__(n.$el,t,e,!1),o(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},t.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){nn(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||m(e.$children,t),t._watcher&&t._watcher.teardown();for(var n=t._watchers.length;n--;)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),nn(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}(Sn),function(t){xe(t.prototype),t.prototype.$nextTick=function(t){return ne(t,this)},t.prototype._render=function(){var t,e=this,n=e.$options,r=n.render,i=n._parentVnode;i&&(e.$scopedSlots=ve(i.data.scopedSlots,e.$slots,e.$scopedSlots)),e.$vnode=i;try{$e=e,t=r.call(e._renderProxy,e.$createElement)}catch(n){Kt(n,e,"render"),t=e._vnode}finally{$e=null}return Array.isArray(t)&&1===t.length&&(t=t[0]),t instanceof gt||(t=mt()),t.parent=i,t}}(Sn);var xn=[String,RegExp,Array],Dn={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:xn,exclude:xn,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)jn(this.cache,t,this.keys)},mounted:function(){var t=this;this.$watch("include",function(e){Nn(t,function(t){return An(e,t)})}),this.$watch("exclude",function(e){Nn(t,function(t){return!An(e,t)})})},render:function(){var t=this.$slots.default,e=We(t),n=e&&e.componentOptions;if(n){var r=kn(n),i=this.include,o=this.exclude;if(i&&(!r||!An(i,r))||o&&r&&An(o,r))return e;var a=this.cache,s=this.keys,u=null==e.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):e.key;a[u]?(e.componentInstance=a[u].componentInstance,m(s,u),s.push(u)):(a[u]=e,s.push(u),this.max&&s.length>parseInt(this.max)&&jn(a,s[0],s,this._vnode)),e.data.keepAlive=!0}return e||t&&t[0]}}};!function(t){var e={get:function(){return q}};Object.defineProperty(t,"config",e),t.util={warn:lt,extend:A,mergeOptions:Mt,defineReactive:kt},t.set=At,t.delete=Nt,t.nextTick=ne,t.observable=function(t){return Ct(t),t},t.options=Object.create(null),F.forEach(function(e){t.options[e+"s"]=Object.create(null)}),t.options._base=t,A(t.options.components,Dn),function(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=k(arguments,1);return n.unshift(this),"function"==typeof t.install?t.install.apply(t,n):"function"==typeof t&&t.apply(null,n),e.push(t),this}}(t),function(t){t.mixin=function(t){return this.options=Mt(this.options,t),this}}(t),Cn(t),function(t){F.forEach(function(e){t[e]=function(t,n){return n?("component"===e&&c(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&"function"==typeof n&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}})}(t)}(Sn),Object.defineProperty(Sn.prototype,"$isServer",{get:ot}),Object.defineProperty(Sn.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Sn,"FunctionalRenderContext",{value:De}),Sn.version="2.6.12";var Pn=v("style,class"),Rn=v("input,textarea,option,select,progress"),Ln=function(t,e,n){return"value"===n&&Rn(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},Mn=v("contenteditable,draggable,spellcheck"),Fn=v("events,caret,typing,plaintext-only"),Un=function(t,e){return $n(e)||"false"===e?"false":"contenteditable"===t&&Fn(e)?e:"true"},qn=v("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Vn="http://www.w3.org/1999/xlink",Bn=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Kn=function(t){return Bn(t)?t.slice(6,t.length):""},$n=function(t){return null==t||!1===t};function Hn(t){for(var e=t.data,n=t,r=t;i(r.componentInstance);)(r=r.componentInstance._vnode)&&r.data&&(e=Gn(r.data,e));for(;i(n=n.parent);)n&&n.data&&(e=Gn(e,n.data));return function(t,e){if(i(t)||i(e))return Wn(t,zn(e));return""}(e.staticClass,e.class)}function Gn(t,e){return{staticClass:Wn(t.staticClass,e.staticClass),class:i(t.class)?[t.class,e.class]:e.class}}function Wn(t,e){return t?e?t+" "+e:t:e||""}function zn(t){return Array.isArray(t)?function(t){for(var e,n="",r=0,o=t.length;r<o;r++)i(e=zn(t[r]))&&""!==e&&(n&&(n+=" "),n+=e);return n}(t):s(t)?function(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}(t):"string"==typeof t?t:""}var Qn={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Yn=v("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Jn=v("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Xn=function(t){return Yn(t)||Jn(t)};function Zn(t){return Jn(t)?"svg":"math"===t?"math":void 0}var tr=Object.create(null);var er=v("text,number,password,search,email,tel,url");function nr(t){if("string"==typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}var rr=Object.freeze({createElement:function(t,e){var n=document.createElement(t);return"select"!==t?n:(e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n)},createElementNS:function(t,e){return document.createElementNS(Qn[t],e)},createTextNode:function(t){return document.createTextNode(t)},createComment:function(t){return document.createComment(t)},insertBefore:function(t,e,n){t.insertBefore(e,n)},removeChild:function(t,e){t.removeChild(e)},appendChild:function(t,e){t.appendChild(e)},parentNode:function(t){return t.parentNode},nextSibling:function(t){return t.nextSibling},tagName:function(t){return t.tagName},setTextContent:function(t,e){t.textContent=e},setStyleScope:function(t,e){t.setAttribute(e,"")}}),ir={create:function(t,e){or(e)},update:function(t,e){t.data.ref!==e.data.ref&&(or(t,!0),or(e))},destroy:function(t){or(t,!0)}};function or(t,e){var n=t.data.ref;if(i(n)){var r=t.context,o=t.componentInstance||t.elm,a=r.$refs;e?Array.isArray(a[n])?m(a[n],o):a[n]===o&&(a[n]=void 0):t.data.refInFor?Array.isArray(a[n])?a[n].indexOf(o)<0&&a[n].push(o):a[n]=[o]:a[n]=o}}var ar=new gt("",{},[]),sr=["create","activate","update","remove","destroy"];function ur(t,e){return t.key===e.key&&(t.tag===e.tag&&t.isComment===e.isComment&&i(t.data)===i(e.data)&&function(t,e){if("input"!==t.tag)return!0;var n,r=i(n=t.data)&&i(n=n.attrs)&&n.type,o=i(n=e.data)&&i(n=n.attrs)&&n.type;return r===o||er(r)&&er(o)}(t,e)||o(t.isAsyncPlaceholder)&&t.asyncFactory===e.asyncFactory&&r(e.asyncFactory.error))}function cr(t,e,n){var r,o,a={};for(r=e;r<=n;++r)i(o=t[r].key)&&(a[o]=r);return a}var lr={create:hr,update:hr,destroy:function(t){hr(t,ar)}};function hr(t,e){(t.data.directives||e.data.directives)&&function(t,e){var n,r,i,o=t===ar,a=e===ar,s=pr(t.data.directives,t.context),u=pr(e.data.directives,e.context),c=[],l=[];for(n in u)r=s[n],i=u[n],r?(i.oldValue=r.value,i.oldArg=r.arg,vr(i,"update",e,t),i.def&&i.def.componentUpdated&&l.push(i)):(vr(i,"bind",e,t),i.def&&i.def.inserted&&c.push(i));if(c.length){var h=function(){for(var n=0;n<c.length;n++)vr(c[n],"inserted",e,t)};o?ue(e,"insert",h):h()}l.length&&ue(e,"postpatch",function(){for(var n=0;n<l.length;n++)vr(l[n],"componentUpdated",e,t)});if(!o)for(n in s)u[n]||vr(s[n],"unbind",t,t,a)}(t,e)}var fr=Object.create(null);function pr(t,e){var n,r,i=Object.create(null);if(!t)return i;for(n=0;n<t.length;n++)(r=t[n]).modifiers||(r.modifiers=fr),i[dr(r)]=r,r.def=Ft(e.$options,"directives",r.name);return i}function dr(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function vr(t,e,n,r,i){var o=t.def&&t.def[e];if(o)try{o(n.elm,t,n,r,i)}catch(r){Kt(r,n.context,"directive "+t.name+" "+e+" hook")}}var gr=[ir,lr];function yr(t,e){var n=e.componentOptions;if(!(i(n)&&!1===n.Ctor.options.inheritAttrs||r(t.data.attrs)&&r(e.data.attrs))){var o,a,s=e.elm,u=t.data.attrs||{},c=e.data.attrs||{};for(o in i(c.__ob__)&&(c=e.data.attrs=A({},c)),c)a=c[o],u[o]!==a&&mr(s,o,a);for(o in(J||Z)&&c.value!==u.value&&mr(s,"value",c.value),u)r(c[o])&&(Bn(o)?s.removeAttributeNS(Vn,Kn(o)):Mn(o)||s.removeAttribute(o))}}function mr(t,e,n){t.tagName.indexOf("-")>-1?br(t,e,n):qn(e)?$n(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):Mn(e)?t.setAttribute(e,Un(e,n)):Bn(e)?$n(n)?t.removeAttributeNS(Vn,Kn(e)):t.setAttributeNS(Vn,e,n):br(t,e,n)}function br(t,e,n){if($n(n))t.removeAttribute(e);else{if(J&&!X&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==n&&!t.__ieph){var r=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",r)};t.addEventListener("input",r),t.__ieph=!0}t.setAttribute(e,n)}}var _r={create:yr,update:yr};function wr(t,e){var n=e.elm,o=e.data,a=t.data;if(!(r(o.staticClass)&&r(o.class)&&(r(a)||r(a.staticClass)&&r(a.class)))){var s=Hn(e),u=n._transitionClasses;i(u)&&(s=Wn(s,zn(u))),s!==n._prevClass&&(n.setAttribute("class",s),n._prevClass=s)}}var Ir,Tr,Er,Or,Sr,Cr,kr={create:wr,update:wr},Ar=/[\w).+\-_$\]]/;function Nr(t){var e,n,r,i,o,a=!1,s=!1,u=!1,c=!1,l=0,h=0,f=0,p=0;for(r=0;r<t.length;r++)if(n=e,e=t.charCodeAt(r),a)39===e&&92!==n&&(a=!1);else if(s)34===e&&92!==n&&(s=!1);else if(u)96===e&&92!==n&&(u=!1);else if(c)47===e&&92!==n&&(c=!1);else if(124!==e||124===t.charCodeAt(r+1)||124===t.charCodeAt(r-1)||l||h||f){switch(e){case 34:s=!0;break;case 39:a=!0;break;case 96:u=!0;break;case 40:f++;break;case 41:f--;break;case 91:h++;break;case 93:h--;break;case 123:l++;break;case 125:l--}if(47===e){for(var d=r-1,v=void 0;d>=0&&" "===(v=t.charAt(d));d--);v&&Ar.test(v)||(c=!0)}}else void 0===i?(p=r+1,i=t.slice(0,r).trim()):g();function g(){(o||(o=[])).push(t.slice(p,r).trim()),p=r+1}if(void 0===i?i=t.slice(0,r).trim():0!==p&&g(),o)for(r=0;r<o.length;r++)i=jr(i,o[r]);return i}function jr(t,e){var n=e.indexOf("(");if(n<0)return'_f("'+e+'")('+t+")";var r=e.slice(0,n),i=e.slice(n+1);return'_f("'+r+'")('+t+(")"!==i?","+i:i)}function xr(t,e){console.error("[Vue compiler]: "+t)}function Dr(t,e){return t?t.map(function(t){return t[e]}).filter(function(t){return t}):[]}function Pr(t,e,n,r,i){(t.props||(t.props=[])).push($r({name:e,value:n,dynamic:i},r)),t.plain=!1}function Rr(t,e,n,r,i){(i?t.dynamicAttrs||(t.dynamicAttrs=[]):t.attrs||(t.attrs=[])).push($r({name:e,value:n,dynamic:i},r)),t.plain=!1}function Lr(t,e,n,r){t.attrsMap[e]=n,t.attrsList.push($r({name:e,value:n},r))}function Mr(t,e,n,r,i,o,a,s){(t.directives||(t.directives=[])).push($r({name:e,rawName:n,value:r,arg:i,isDynamicArg:o,modifiers:a},s)),t.plain=!1}function Fr(t,e,n){return n?"_p("+e+',"'+t+'")':t+e}function Ur(t,e,r,i,o,a,s,u){var c;(i=i||n).right?u?e="("+e+")==='click'?'contextmenu':("+e+")":"click"===e&&(e="contextmenu",delete i.right):i.middle&&(u?e="("+e+")==='click'?'mouseup':("+e+")":"click"===e&&(e="mouseup")),i.capture&&(delete i.capture,e=Fr("!",e,u)),i.once&&(delete i.once,e=Fr("~",e,u)),i.passive&&(delete i.passive,e=Fr("&",e,u)),i.native?(delete i.native,c=t.nativeEvents||(t.nativeEvents={})):c=t.events||(t.events={});var l=$r({value:r.trim(),dynamic:u},s);i!==n&&(l.modifiers=i);var h=c[e];Array.isArray(h)?o?h.unshift(l):h.push(l):c[e]=h?o?[l,h]:[h,l]:l,t.plain=!1}function qr(t,e){return t.rawAttrsMap[":"+e]||t.rawAttrsMap["v-bind:"+e]||t.rawAttrsMap[e]}function Vr(t,e,n){var r=Br(t,":"+e)||Br(t,"v-bind:"+e);if(null!=r)return Nr(r);if(!1!==n){var i=Br(t,e);if(null!=i)return JSON.stringify(i)}}function Br(t,e,n){var r;if(null!=(r=t.attrsMap[e]))for(var i=t.attrsList,o=0,a=i.length;o<a;o++)if(i[o].name===e){i.splice(o,1);break}return n&&delete t.attrsMap[e],r}function Kr(t,e){for(var n=t.attrsList,r=0,i=n.length;r<i;r++){var o=n[r];if(e.test(o.name))return n.splice(r,1),o}}function $r(t,e){return e&&(null!=e.start&&(t.start=e.start),null!=e.end&&(t.end=e.end)),t}function Hr(t,e,n){var r=n||{},i=r.number,o="$$v";r.trim&&(o="(typeof $$v === 'string'? $$v.trim(): $$v)"),i&&(o="_n("+o+")");var a=Gr(e,o);t.model={value:"("+e+")",expression:JSON.stringify(e),callback:"function ($$v) {"+a+"}"}}function Gr(t,e){var n=function(t){if(t=t.trim(),Ir=t.length,t.indexOf("[")<0||t.lastIndexOf("]")<Ir-1)return(Or=t.lastIndexOf("."))>-1?{exp:t.slice(0,Or),key:'"'+t.slice(Or+1)+'"'}:{exp:t,key:null};Tr=t,Or=Sr=Cr=0;for(;!zr();)Qr(Er=Wr())?Jr(Er):91===Er&&Yr(Er);return{exp:t.slice(0,Sr),key:t.slice(Sr+1,Cr)}}(t);return null===n.key?t+"="+e:"$set("+n.exp+", "+n.key+", "+e+")"}function Wr(){return Tr.charCodeAt(++Or)}function zr(){return Or>=Ir}function Qr(t){return 34===t||39===t}function Yr(t){var e=1;for(Sr=Or;!zr();)if(Qr(t=Wr()))Jr(t);else if(91===t&&e++,93===t&&e--,0===e){Cr=Or;break}}function Jr(t){for(var e=t;!zr()&&(t=Wr())!==e;);}var Xr,Zr="__r",ti="__c";function ei(t,e,n){var r=Xr;return function i(){null!==e.apply(null,arguments)&&ii(t,i,n,r)}}var ni=zt&&!(et&&Number(et[1])<=53);function ri(t,e,n,r){if(ni){var i=ln,o=e;e=o._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=i||t.timeStamp<=0||t.target.ownerDocument!==document)return o.apply(this,arguments)}}Xr.addEventListener(t,e,rt?{capture:n,passive:r}:n)}function ii(t,e,n,r){(r||Xr).removeEventListener(t,e._wrapper||e,n)}function oi(t,e){if(!r(t.data.on)||!r(e.data.on)){var n=e.data.on||{},o=t.data.on||{};Xr=e.elm,function(t){if(i(t[Zr])){var e=J?"change":"input";t[e]=[].concat(t[Zr],t[e]||[]),delete t[Zr]}i(t[ti])&&(t.change=[].concat(t[ti],t.change||[]),delete t[ti])}(n),se(n,o,ri,ii,ei,e.context),Xr=void 0}}var ai,si={create:oi,update:oi};function ui(t,e){if(!r(t.data.domProps)||!r(e.data.domProps)){var n,o,a=e.elm,s=t.data.domProps||{},u=e.data.domProps||{};for(n in i(u.__ob__)&&(u=e.data.domProps=A({},u)),s)n in u||(a[n]="");for(n in u){if(o=u[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),o===s[n])continue;1===a.childNodes.length&&a.removeChild(a.childNodes[0])}if("value"===n&&"PROGRESS"!==a.tagName){a._value=o;var c=r(o)?"":String(o);ci(a,c)&&(a.value=c)}else if("innerHTML"===n&&Jn(a.tagName)&&r(a.innerHTML)){(ai=ai||document.createElement("div")).innerHTML="<svg>"+o+"</svg>";for(var l=ai.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;l.firstChild;)a.appendChild(l.firstChild)}else if(o!==s[n])try{a[n]=o}catch(t){}}}}function ci(t,e){return!t.composing&&("OPTION"===t.tagName||function(t,e){var n=!0;try{n=document.activeElement!==t}catch(t){}return n&&t.value!==e}(t,e)||function(t,e){var n=t.value,r=t._vModifiers;if(i(r)){if(r.number)return d(n)!==d(e);if(r.trim)return n.trim()!==e.trim()}return n!==e}(t,e))}var li={create:ui,update:ui},hi=w(function(t){var e={},n=/:(.+)/;return t.split(/;(?![^(]*\))/g).forEach(function(t){if(t){var r=t.split(n);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e});function fi(t){var e=pi(t.style);return t.staticStyle?A(t.staticStyle,e):e}function pi(t){return Array.isArray(t)?N(t):"string"==typeof t?hi(t):t}var di,vi=/^--/,gi=/\s*!important$/,yi=function(t,e,n){if(vi.test(e))t.style.setProperty(e,n);else if(gi.test(n))t.style.setProperty(S(e),n.replace(gi,""),"important");else{var r=bi(e);if(Array.isArray(n))for(var i=0,o=n.length;i<o;i++)t.style[r]=n[i];else t.style[r]=n}},mi=["Webkit","Moz","ms"],bi=w(function(t){if(di=di||document.createElement("div").style,"filter"!==(t=T(t))&&t in di)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<mi.length;n++){var r=mi[n]+e;if(r in di)return r}});function _i(t,e){var n=e.data,o=t.data;if(!(r(n.staticStyle)&&r(n.style)&&r(o.staticStyle)&&r(o.style))){var a,s,u=e.elm,c=o.staticStyle,l=o.normalizedStyle||o.style||{},h=c||l,f=pi(e.data.style)||{};e.data.normalizedStyle=i(f.__ob__)?A({},f):f;var p=function(t,e){var n,r={};if(e)for(var i=t;i.componentInstance;)(i=i.componentInstance._vnode)&&i.data&&(n=fi(i.data))&&A(r,n);(n=fi(t.data))&&A(r,n);for(var o=t;o=o.parent;)o.data&&(n=fi(o.data))&&A(r,n);return r}(e,!0);for(s in h)r(p[s])&&yi(u,s,"");for(s in p)(a=p[s])!==h[s]&&yi(u,s,null==a?"":a)}}var wi={create:_i,update:_i},Ii=/\s+/;function Ti(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(Ii).forEach(function(e){return t.classList.add(e)}):t.classList.add(e);else{var n=" "+(t.getAttribute("class")||"")+" ";n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function Ei(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(Ii).forEach(function(e){return t.classList.remove(e)}):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{for(var n=" "+(t.getAttribute("class")||"")+" ",r=" "+e+" ";n.indexOf(r)>=0;)n=n.replace(r," ");(n=n.trim())?t.setAttribute("class",n):t.removeAttribute("class")}}function Oi(t){if(t){if("object"==typeof t){var e={};return!1!==t.css&&A(e,Si(t.name||"v")),A(e,t),e}return"string"==typeof t?Si(t):void 0}}var Si=w(function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}}),Ci=W&&!X,ki="transition",Ai="animation",Ni="transition",ji="transitionend",xi="animation",Di="animationend";Ci&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Ni="WebkitTransition",ji="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(xi="WebkitAnimation",Di="webkitAnimationEnd"));var Pi=W?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function Ri(t){Pi(function(){Pi(t)})}function Li(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),Ti(t,e))}function Mi(t,e){t._transitionClasses&&m(t._transitionClasses,e),Ei(t,e)}function Fi(t,e,n){var r=qi(t,e),i=r.type,o=r.timeout,a=r.propCount;if(!i)return n();var s=i===ki?ji:Di,u=0,c=function(){t.removeEventListener(s,l),n()},l=function(e){e.target===t&&++u>=a&&c()};setTimeout(function(){u<a&&c()},o+1),t.addEventListener(s,l)}var Ui=/\b(transform|all)(,|$)/;function qi(t,e){var n,r=window.getComputedStyle(t),i=(r[Ni+"Delay"]||"").split(", "),o=(r[Ni+"Duration"]||"").split(", "),a=Vi(i,o),s=(r[xi+"Delay"]||"").split(", "),u=(r[xi+"Duration"]||"").split(", "),c=Vi(s,u),l=0,h=0;return e===ki?a>0&&(n=ki,l=a,h=o.length):e===Ai?c>0&&(n=Ai,l=c,h=u.length):h=(n=(l=Math.max(a,c))>0?a>c?ki:Ai:null)?n===ki?o.length:u.length:0,{type:n,timeout:l,propCount:h,hasTransform:n===ki&&Ui.test(r[Ni+"Property"])}}function Vi(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max.apply(null,e.map(function(e,n){return Bi(e)+Bi(t[n])}))}function Bi(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function Ki(t,e){var n=t.elm;i(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var o=Oi(t.data.transition);if(!r(o)&&!i(n._enterCb)&&1===n.nodeType){for(var a=o.css,u=o.type,c=o.enterClass,l=o.enterToClass,h=o.enterActiveClass,f=o.appearClass,p=o.appearToClass,v=o.appearActiveClass,g=o.beforeEnter,y=o.enter,m=o.afterEnter,b=o.enterCancelled,_=o.beforeAppear,w=o.appear,I=o.afterAppear,T=o.appearCancelled,E=o.duration,O=Xe,S=Xe.$vnode;S&&S.parent;)O=S.context,S=S.parent;var C=!O._isMounted||!t.isRootInsert;if(!C||w||""===w){var k=C&&f?f:c,A=C&&v?v:h,N=C&&p?p:l,j=C&&_||g,x=C&&"function"==typeof w?w:y,D=C&&I||m,P=C&&T||b,R=d(s(E)?E.enter:E);0;var M=!1!==a&&!X,F=Gi(x),U=n._enterCb=L(function(){M&&(Mi(n,N),Mi(n,A)),U.cancelled?(M&&Mi(n,k),P&&P(n)):D&&D(n),n._enterCb=null});t.data.show||ue(t,"insert",function(){var e=n.parentNode,r=e&&e._pending&&e._pending[t.key];r&&r.tag===t.tag&&r.elm._leaveCb&&r.elm._leaveCb(),x&&x(n,U)}),j&&j(n),M&&(Li(n,k),Li(n,A),Ri(function(){Mi(n,k),U.cancelled||(Li(n,N),F||(Hi(R)?setTimeout(U,R):Fi(n,u,U)))})),t.data.show&&(e&&e(),x&&x(n,U)),M||F||U()}}}function $i(t,e){var n=t.elm;i(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var o=Oi(t.data.transition);if(r(o)||1!==n.nodeType)return e();if(!i(n._leaveCb)){var a=o.css,u=o.type,c=o.leaveClass,l=o.leaveToClass,h=o.leaveActiveClass,f=o.beforeLeave,p=o.leave,v=o.afterLeave,g=o.leaveCancelled,y=o.delayLeave,m=o.duration,b=!1!==a&&!X,_=Gi(p),w=d(s(m)?m.leave:m);0;var I=n._leaveCb=L(function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),b&&(Mi(n,l),Mi(n,h)),I.cancelled?(b&&Mi(n,c),g&&g(n)):(e(),v&&v(n)),n._leaveCb=null});y?y(T):T()}function T(){I.cancelled||(!t.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),f&&f(n),b&&(Li(n,c),Li(n,h),Ri(function(){Mi(n,c),I.cancelled||(Li(n,l),_||(Hi(w)?setTimeout(I,w):Fi(n,u,I)))})),p&&p(n,I),b||_||I())}}function Hi(t){return"number"==typeof t&&!isNaN(t)}function Gi(t){if(r(t))return!1;var e=t.fns;return i(e)?Gi(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function Wi(t,e){!0!==e.data.show&&Ki(e)}var zi=function(t){var e,n,s={},u=t.modules,c=t.nodeOps;for(e=0;e<sr.length;++e)for(s[sr[e]]=[],n=0;n<u.length;++n)i(u[n][sr[e]])&&s[sr[e]].push(u[n][sr[e]]);function l(t){var e=c.parentNode(t);i(e)&&c.removeChild(e,t)}function h(t,e,n,r,a,u,l){if(i(t.elm)&&i(u)&&(t=u[l]=_t(t)),t.isRootInsert=!a,!function(t,e,n,r){var a=t.data;if(i(a)){var u=i(t.componentInstance)&&a.keepAlive;if(i(a=a.hook)&&i(a=a.init)&&a(t,!1),i(t.componentInstance))return f(t,e),p(n,t.elm,r),o(u)&&function(t,e,n,r){for(var o,a=t;a.componentInstance;)if(a=a.componentInstance._vnode,i(o=a.data)&&i(o=o.transition)){for(o=0;o<s.activate.length;++o)s.activate[o](ar,a);e.push(a);break}p(n,t.elm,r)}(t,e,n,r),!0}}(t,e,n,r)){var h=t.data,v=t.children,g=t.tag;i(g)?(t.elm=t.ns?c.createElementNS(t.ns,g):c.createElement(g,t),m(t),d(t,v,e),i(h)&&y(t,e),p(n,t.elm,r)):o(t.isComment)?(t.elm=c.createComment(t.text),p(n,t.elm,r)):(t.elm=c.createTextNode(t.text),p(n,t.elm,r))}}function f(t,e){i(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,g(t)?(y(t,e),m(t)):(or(t),e.push(t))}function p(t,e,n){i(t)&&(i(n)?c.parentNode(n)===t&&c.insertBefore(t,e,n):c.appendChild(t,e))}function d(t,e,n){if(Array.isArray(e))for(var r=0;r<e.length;++r)h(e[r],n,t.elm,null,!0,e,r);else a(t.text)&&c.appendChild(t.elm,c.createTextNode(String(t.text)))}function g(t){for(;t.componentInstance;)t=t.componentInstance._vnode;return i(t.tag)}function y(t,n){for(var r=0;r<s.create.length;++r)s.create[r](ar,t);i(e=t.data.hook)&&(i(e.create)&&e.create(ar,t),i(e.insert)&&n.push(t))}function m(t){var e;if(i(e=t.fnScopeId))c.setStyleScope(t.elm,e);else for(var n=t;n;)i(e=n.context)&&i(e=e.$options._scopeId)&&c.setStyleScope(t.elm,e),n=n.parent;i(e=Xe)&&e!==t.context&&e!==t.fnContext&&i(e=e.$options._scopeId)&&c.setStyleScope(t.elm,e)}function b(t,e,n,r,i,o){for(;r<=i;++r)h(n[r],o,t,e,!1,n,r)}function _(t){var e,n,r=t.data;if(i(r))for(i(e=r.hook)&&i(e=e.destroy)&&e(t),e=0;e<s.destroy.length;++e)s.destroy[e](t);if(i(e=t.children))for(n=0;n<t.children.length;++n)_(t.children[n])}function w(t,e,n){for(;e<=n;++e){var r=t[e];i(r)&&(i(r.tag)?(I(r),_(r)):l(r.elm))}}function I(t,e){if(i(e)||i(t.data)){var n,r=s.remove.length+1;for(i(e)?e.listeners+=r:e=function(t,e){function n(){0==--n.listeners&&l(t)}return n.listeners=e,n}(t.elm,r),i(n=t.componentInstance)&&i(n=n._vnode)&&i(n.data)&&I(n,e),n=0;n<s.remove.length;++n)s.remove[n](t,e);i(n=t.data.hook)&&i(n=n.remove)?n(t,e):e()}else l(t.elm)}function T(t,e,n,r){for(var o=n;o<r;o++){var a=e[o];if(i(a)&&ur(t,a))return o}}function E(t,e,n,a,u,l){if(t!==e){i(e.elm)&&i(a)&&(e=a[u]=_t(e));var f=e.elm=t.elm;if(o(t.isAsyncPlaceholder))i(e.asyncFactory.resolved)?C(t.elm,e,n):e.isAsyncPlaceholder=!0;else if(o(e.isStatic)&&o(t.isStatic)&&e.key===t.key&&(o(e.isCloned)||o(e.isOnce)))e.componentInstance=t.componentInstance;else{var p,d=e.data;i(d)&&i(p=d.hook)&&i(p=p.prepatch)&&p(t,e);var v=t.children,y=e.children;if(i(d)&&g(e)){for(p=0;p<s.update.length;++p)s.update[p](t,e);i(p=d.hook)&&i(p=p.update)&&p(t,e)}r(e.text)?i(v)&&i(y)?v!==y&&function(t,e,n,o,a){for(var s,u,l,f=0,p=0,d=e.length-1,v=e[0],g=e[d],y=n.length-1,m=n[0],_=n[y],I=!a;f<=d&&p<=y;)r(v)?v=e[++f]:r(g)?g=e[--d]:ur(v,m)?(E(v,m,o,n,p),v=e[++f],m=n[++p]):ur(g,_)?(E(g,_,o,n,y),g=e[--d],_=n[--y]):ur(v,_)?(E(v,_,o,n,y),I&&c.insertBefore(t,v.elm,c.nextSibling(g.elm)),v=e[++f],_=n[--y]):ur(g,m)?(E(g,m,o,n,p),I&&c.insertBefore(t,g.elm,v.elm),g=e[--d],m=n[++p]):(r(s)&&(s=cr(e,f,d)),r(u=i(m.key)?s[m.key]:T(m,e,f,d))?h(m,o,t,v.elm,!1,n,p):ur(l=e[u],m)?(E(l,m,o,n,p),e[u]=void 0,I&&c.insertBefore(t,l.elm,v.elm)):h(m,o,t,v.elm,!1,n,p),m=n[++p]);f>d?b(t,r(n[y+1])?null:n[y+1].elm,n,p,y,o):p>y&&w(e,f,d)}(f,v,y,n,l):i(y)?(i(t.text)&&c.setTextContent(f,""),b(f,null,y,0,y.length-1,n)):i(v)?w(v,0,v.length-1):i(t.text)&&c.setTextContent(f,""):t.text!==e.text&&c.setTextContent(f,e.text),i(d)&&i(p=d.hook)&&i(p=p.postpatch)&&p(t,e)}}}function O(t,e,n){if(o(n)&&i(t.parent))t.parent.data.pendingInsert=e;else for(var r=0;r<e.length;++r)e[r].data.hook.insert(e[r])}var S=v("attrs,class,staticClass,staticStyle,key");function C(t,e,n,r){var a,s=e.tag,u=e.data,c=e.children;if(r=r||u&&u.pre,e.elm=t,o(e.isComment)&&i(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(i(u)&&(i(a=u.hook)&&i(a=a.init)&&a(e,!0),i(a=e.componentInstance)))return f(e,n),!0;if(i(s)){if(i(c))if(t.hasChildNodes())if(i(a=u)&&i(a=a.domProps)&&i(a=a.innerHTML)){if(a!==t.innerHTML)return!1}else{for(var l=!0,h=t.firstChild,p=0;p<c.length;p++){if(!h||!C(h,c[p],n,r)){l=!1;break}h=h.nextSibling}if(!l||h)return!1}else d(e,c,n);if(i(u)){var v=!1;for(var g in u)if(!S(g)){v=!0,y(e,n);break}!v&&u.class&&ie(u.class)}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,n,a){if(!r(e)){var u,l=!1,f=[];if(r(t))l=!0,h(e,f);else{var p=i(t.nodeType);if(!p&&ur(t,e))E(t,e,f,null,null,a);else{if(p){if(1===t.nodeType&&t.hasAttribute(M)&&(t.removeAttribute(M),n=!0),o(n)&&C(t,e,f))return O(e,f,!0),t;u=t,t=new gt(c.tagName(u).toLowerCase(),{},[],void 0,u)}var d=t.elm,v=c.parentNode(d);if(h(e,f,d._leaveCb?null:v,c.nextSibling(d)),i(e.parent))for(var y=e.parent,m=g(e);y;){for(var b=0;b<s.destroy.length;++b)s.destroy[b](y);if(y.elm=e.elm,m){for(var I=0;I<s.create.length;++I)s.create[I](ar,y);var T=y.data.hook.insert;if(T.merged)for(var S=1;S<T.fns.length;S++)T.fns[S]()}else or(y);y=y.parent}i(v)?w([t],0,0):i(t.tag)&&_(t)}}return O(e,f,l),e.elm}i(t)&&_(t)}}({nodeOps:rr,modules:[_r,kr,si,li,wi,W?{create:Wi,activate:Wi,remove:function(t,e){!0!==t.data.show?$i(t,e):e()}}:{}].concat(gr)});X&&document.addEventListener("selectionchange",function(){var t=document.activeElement;t&&t.vmodel&&no(t,"input")});var Qi={inserted:function(t,e,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?ue(n,"postpatch",function(){Qi.componentUpdated(t,e,n)}):Yi(t,e,n.context),t._vOptions=[].map.call(t.options,Zi)):("textarea"===n.tag||er(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",to),t.addEventListener("compositionend",eo),t.addEventListener("change",eo),X&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){Yi(t,e,n.context);var r=t._vOptions,i=t._vOptions=[].map.call(t.options,Zi);if(i.some(function(t,e){return!P(t,r[e])}))(t.multiple?e.value.some(function(t){return Xi(t,i)}):e.value!==e.oldValue&&Xi(e.value,i))&&no(t,"change")}}};function Yi(t,e,n){Ji(t,e,n),(J||Z)&&setTimeout(function(){Ji(t,e,n)},0)}function Ji(t,e,n){var r=e.value,i=t.multiple;if(!i||Array.isArray(r)){for(var o,a,s=0,u=t.options.length;s<u;s++)if(a=t.options[s],i)o=R(r,Zi(a))>-1,a.selected!==o&&(a.selected=o);else if(P(Zi(a),r))return void(t.selectedIndex!==s&&(t.selectedIndex=s));i||(t.selectedIndex=-1)}}function Xi(t,e){return e.every(function(e){return!P(e,t)})}function Zi(t){return"_value"in t?t._value:t.value}function to(t){t.target.composing=!0}function eo(t){t.target.composing&&(t.target.composing=!1,no(t.target,"input"))}function no(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function ro(t){return!t.componentInstance||t.data&&t.data.transition?t:ro(t.componentInstance._vnode)}var io={model:Qi,show:{bind:function(t,e,n){var r=e.value,i=(n=ro(n)).data&&n.data.transition,o=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;r&&i?(n.data.show=!0,Ki(n,function(){t.style.display=o})):t.style.display=r?o:"none"},update:function(t,e,n){var r=e.value;!r!=!e.oldValue&&((n=ro(n)).data&&n.data.transition?(n.data.show=!0,r?Ki(n,function(){t.style.display=t.__vOriginalDisplay}):$i(n,function(){t.style.display="none"})):t.style.display=r?t.__vOriginalDisplay:"none")},unbind:function(t,e,n,r,i){i||(t.style.display=t.__vOriginalDisplay)}}},oo={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function ao(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?ao(We(e.children)):t}function so(t){var e={},n=t.$options;for(var r in n.propsData)e[r]=t[r];var i=n._parentListeners;for(var o in i)e[T(o)]=i[o];return e}function uo(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}var co=function(t){return t.tag||Ge(t)},lo=function(t){return"show"===t.name},ho={name:"transition",props:oo,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(co)).length){0;var r=this.mode;0;var i=n[0];if(function(t){for(;t=t.parent;)if(t.data.transition)return!0}(this.$vnode))return i;var o=ao(i);if(!o)return i;if(this._leaving)return uo(t,i);var s="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?s+"comment":s+o.tag:a(o.key)?0===String(o.key).indexOf(s)?o.key:s+o.key:o.key;var u=(o.data||(o.data={})).transition=so(this),c=this._vnode,l=ao(c);if(o.data.directives&&o.data.directives.some(lo)&&(o.data.show=!0),l&&l.data&&!function(t,e){return e.key===t.key&&e.tag===t.tag}(o,l)&&!Ge(l)&&(!l.componentInstance||!l.componentInstance._vnode.isComment)){var h=l.data.transition=A({},u);if("out-in"===r)return this._leaving=!0,ue(h,"afterLeave",function(){e._leaving=!1,e.$forceUpdate()}),uo(t,i);if("in-out"===r){if(Ge(o))return c;var f,p=function(){f()};ue(u,"afterEnter",p),ue(u,"enterCancelled",p),ue(h,"delayLeave",function(t){f=t})}}return i}}},fo=A({tag:String,moveClass:String},oo);function po(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function vo(t){t.data.newPos=t.elm.getBoundingClientRect()}function go(t){var e=t.data.pos,n=t.data.newPos,r=e.left-n.left,i=e.top-n.top;if(r||i){t.data.moved=!0;var o=t.elm.style;o.transform=o.WebkitTransform="translate("+r+"px,"+i+"px)",o.transitionDuration="0s"}}delete fo.mode;var yo={Transition:ho,TransitionGroup:{props:fo,beforeMount:function(){var t=this,e=this._update;this._update=function(n,r){var i=Ze(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,i(),e.call(t,n,r)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,i=this.$slots.default||[],o=this.children=[],a=so(this),s=0;s<i.length;s++){var u=i[s];if(u.tag)if(null!=u.key&&0!==String(u.key).indexOf("__vlist"))o.push(u),n[u.key]=u,(u.data||(u.data={})).transition=a;else;}if(r){for(var c=[],l=[],h=0;h<r.length;h++){var f=r[h];f.data.transition=a,f.data.pos=f.elm.getBoundingClientRect(),n[f.key]?c.push(f):l.push(f)}this.kept=t(e,null,c),this.removed=l}return t(e,null,o)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(po),t.forEach(vo),t.forEach(go),this._reflow=document.body.offsetHeight,t.forEach(function(t){if(t.data.moved){var n=t.elm,r=n.style;Li(n,e),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(ji,n._moveCb=function t(r){r&&r.target!==n||r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(ji,t),n._moveCb=null,Mi(n,e))})}}))},methods:{hasMove:function(t,e){if(!Ci)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach(function(t){Ei(n,t)}),Ti(n,e),n.style.display="none",this.$el.appendChild(n);var r=qi(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}}};Sn.config.mustUseProp=Ln,Sn.config.isReservedTag=Xn,Sn.config.isReservedAttr=Pn,Sn.config.getTagNamespace=Zn,Sn.config.isUnknownElement=function(t){if(!W)return!0;if(Xn(t))return!1;if(t=t.toLowerCase(),null!=tr[t])return tr[t];var e=document.createElement(t);return t.indexOf("-")>-1?tr[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:tr[t]=/HTMLUnknownElement/.test(e.toString())},A(Sn.options.directives,io),A(Sn.options.components,yo),Sn.prototype.__patch__=W?zi:j,Sn.prototype.$mount=function(t,e){return function(t,e,n){return t.$el=e,t.$options.render||(t.$options.render=mt),nn(t,"beforeMount"),new vn(t,function(){t._update(t._render(),n)},j,{before:function(){t._isMounted&&!t._isDestroyed&&nn(t,"beforeUpdate")}},!0),n=!1,null==t.$vnode&&(t._isMounted=!0,nn(t,"mounted")),t}(this,t=t&&W?nr(t):void 0,e)},W&&setTimeout(function(){q.devtools&&at&&at.emit("init",Sn)},0);var mo=/\{\{((?:.|\r?\n)+?)\}\}/g,bo=/[-.*+?^${}()|[\]\/\\]/g,_o=w(function(t){var e=t[0].replace(bo,"\\$&"),n=t[1].replace(bo,"\\$&");return new RegExp(e+"((?:.|\\n)+?)"+n,"g")});function wo(t,e){var n=e?_o(e):mo;if(n.test(t)){for(var r,i,o,a=[],s=[],u=n.lastIndex=0;r=n.exec(t);){(i=r.index)>u&&(s.push(o=t.slice(u,i)),a.push(JSON.stringify(o)));var c=Nr(r[1].trim());a.push("_s("+c+")"),s.push({"@binding":c}),u=i+r[0].length}return u<t.length&&(s.push(o=t.slice(u)),a.push(JSON.stringify(o))),{expression:a.join("+"),tokens:s}}}var Io={staticKeys:["staticClass"],transformNode:function(t,e){e.warn;var n=Br(t,"class");n&&(t.staticClass=JSON.stringify(n));var r=Vr(t,"class",!1);r&&(t.classBinding=r)},genData:function(t){var e="";return t.staticClass&&(e+="staticClass:"+t.staticClass+","),t.classBinding&&(e+="class:"+t.classBinding+","),e}};var To,Eo={staticKeys:["staticStyle"],transformNode:function(t,e){e.warn;var n=Br(t,"style");n&&(t.staticStyle=JSON.stringify(hi(n)));var r=Vr(t,"style",!1);r&&(t.styleBinding=r)},genData:function(t){var e="";return t.staticStyle&&(e+="staticStyle:"+t.staticStyle+","),t.styleBinding&&(e+="style:("+t.styleBinding+"),"),e}},Oo=function(t){return(To=To||document.createElement("div")).innerHTML=t,To.textContent},So=v("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),Co=v("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),ko=v("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),Ao=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,No=/^\s*((?:v-[\w-]+:|@|:|#)\[[^=]+\][^\s"'<>\/=]*)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,jo="[a-zA-Z_][\\-\\.0-9_a-zA-Z"+V.source+"]*",xo="((?:"+jo+"\\:)?"+jo+")",Do=new RegExp("^<"+xo),Po=/^\s*(\/?)>/,Ro=new RegExp("^<\\/"+xo+"[^>]*>"),Lo=/^<!DOCTYPE [^>]+>/i,Mo=/^<!\--/,Fo=/^<!\[/,Uo=v("script,style,textarea",!0),qo={},Vo={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n","&#9;":"\t","&#39;":"'"},Bo=/&(?:lt|gt|quot|amp|#39);/g,Ko=/&(?:lt|gt|quot|amp|#39|#10|#9);/g,$o=v("pre,textarea",!0),Ho=function(t,e){return t&&$o(t)&&"\n"===e[0]};function Go(t,e){var n=e?Ko:Bo;return t.replace(n,function(t){return Vo[t]})}var Wo,zo,Qo,Yo,Jo,Xo,Zo,ta,ea=/^@|^v-on:/,na=/^v-|^@|^:|^#/,ra=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,ia=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,oa=/^\(|\)$/g,aa=/^\[.*\]$/,sa=/:(.*)$/,ua=/^:|^\.|^v-bind:/,ca=/\.[^.\]]+(?=[^\]]*$)/g,la=/^v-slot(:|$)|^#/,ha=/[\r\n]/,fa=/\s+/g,pa=w(Oo),da="_empty_";function va(t,e,n){return{type:1,tag:t,attrsList:e,attrsMap:function(t){for(var e={},n=0,r=t.length;n<r;n++)e[t[n].name]=t[n].value;return e}(e),rawAttrsMap:{},parent:n,children:[]}}function ga(t,e){Wo=e.warn||xr,Xo=e.isPreTag||x,Zo=e.mustUseProp||x,ta=e.getTagNamespace||x;var n=e.isReservedTag||x;(function(t){return!!t.component||!n(t.tag)}),Qo=Dr(e.modules,"transformNode"),Yo=Dr(e.modules,"preTransformNode"),Jo=Dr(e.modules,"postTransformNode"),zo=e.delimiters;var r,i,o=[],a=!1!==e.preserveWhitespace,s=e.whitespace,u=!1,c=!1;function l(t){if(h(t),u||t.processed||(t=ya(t,e)),o.length||t===r||r.if&&(t.elseif||t.else)&&ba(r,{exp:t.elseif,block:t}),i&&!t.forbidden)if(t.elseif||t.else)a=t,(s=function(t){var e=t.length;for(;e--;){if(1===t[e].type)return t[e];t.pop()}}(i.children))&&s.if&&ba(s,{exp:a.elseif,block:a});else{if(t.slotScope){var n=t.slotTarget||'"default"';(i.scopedSlots||(i.scopedSlots={}))[n]=t}i.children.push(t),t.parent=i}var a,s;t.children=t.children.filter(function(t){return!t.slotScope}),h(t),t.pre&&(u=!1),Xo(t.tag)&&(c=!1);for(var l=0;l<Jo.length;l++)Jo[l](t,e)}function h(t){if(!c)for(var e;(e=t.children[t.children.length-1])&&3===e.type&&" "===e.text;)t.children.pop()}return function(t,e){for(var n,r,i=[],o=e.expectHTML,a=e.isUnaryTag||x,s=e.canBeLeftOpenTag||x,u=0;t;){if(n=t,r&&Uo(r)){var c=0,l=r.toLowerCase(),h=qo[l]||(qo[l]=new RegExp("([\\s\\S]*?)(</"+l+"[^>]*>)","i")),f=t.replace(h,function(t,n,r){return c=r.length,Uo(l)||"noscript"===l||(n=n.replace(/<!\--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),Ho(l,n)&&(n=n.slice(1)),e.chars&&e.chars(n),""});u+=t.length-f.length,t=f,S(l,u-c,u)}else{var p=t.indexOf("<");if(0===p){if(Mo.test(t)){var d=t.indexOf("--\x3e");if(d>=0){e.shouldKeepComment&&e.comment(t.substring(4,d),u,u+d+3),T(d+3);continue}}if(Fo.test(t)){var v=t.indexOf("]>");if(v>=0){T(v+2);continue}}var g=t.match(Lo);if(g){T(g[0].length);continue}var y=t.match(Ro);if(y){var m=u;T(y[0].length),S(y[1],m,u);continue}var b=E();if(b){O(b),Ho(b.tagName,t)&&T(1);continue}}var _=void 0,w=void 0,I=void 0;if(p>=0){for(w=t.slice(p);!(Ro.test(w)||Do.test(w)||Mo.test(w)||Fo.test(w)||(I=w.indexOf("<",1))<0);)p+=I,w=t.slice(p);_=t.substring(0,p)}p<0&&(_=t),_&&T(_.length),e.chars&&_&&e.chars(_,u-_.length,u)}if(t===n){e.chars&&e.chars(t);break}}function T(e){u+=e,t=t.substring(e)}function E(){var e=t.match(Do);if(e){var n,r,i={tagName:e[1],attrs:[],start:u};for(T(e[0].length);!(n=t.match(Po))&&(r=t.match(No)||t.match(Ao));)r.start=u,T(r[0].length),r.end=u,i.attrs.push(r);if(n)return i.unarySlash=n[1],T(n[0].length),i.end=u,i}}function O(t){var n=t.tagName,u=t.unarySlash;o&&("p"===r&&ko(n)&&S(r),s(n)&&r===n&&S(n));for(var c=a(n)||!!u,l=t.attrs.length,h=new Array(l),f=0;f<l;f++){var p=t.attrs[f],d=p[3]||p[4]||p[5]||"",v="a"===n&&"href"===p[1]?e.shouldDecodeNewlinesForHref:e.shouldDecodeNewlines;h[f]={name:p[1],value:Go(d,v)}}c||(i.push({tag:n,lowerCasedTag:n.toLowerCase(),attrs:h,start:t.start,end:t.end}),r=n),e.start&&e.start(n,h,c,t.start,t.end)}function S(t,n,o){var a,s;if(null==n&&(n=u),null==o&&(o=u),t)for(s=t.toLowerCase(),a=i.length-1;a>=0&&i[a].lowerCasedTag!==s;a--);else a=0;if(a>=0){for(var c=i.length-1;c>=a;c--)e.end&&e.end(i[c].tag,n,o);i.length=a,r=a&&i[a-1].tag}else"br"===s?e.start&&e.start(t,[],!0,n,o):"p"===s&&(e.start&&e.start(t,[],!1,n,o),e.end&&e.end(t,n,o))}S()}(t,{warn:Wo,expectHTML:e.expectHTML,isUnaryTag:e.isUnaryTag,canBeLeftOpenTag:e.canBeLeftOpenTag,shouldDecodeNewlines:e.shouldDecodeNewlines,shouldDecodeNewlinesForHref:e.shouldDecodeNewlinesForHref,shouldKeepComment:e.comments,outputSourceRange:e.outputSourceRange,start:function(t,n,a,s,h){var f=i&&i.ns||ta(t);J&&"svg"===f&&(n=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];Ia.test(r.name)||(r.name=r.name.replace(Ta,""),e.push(r))}return e}(n));var p,d=va(t,n,i);f&&(d.ns=f),"style"!==(p=d).tag&&("script"!==p.tag||p.attrsMap.type&&"text/javascript"!==p.attrsMap.type)||ot()||(d.forbidden=!0);for(var v=0;v<Yo.length;v++)d=Yo[v](d,e)||d;u||(!function(t){null!=Br(t,"v-pre")&&(t.pre=!0)}(d),d.pre&&(u=!0)),Xo(d.tag)&&(c=!0),u?function(t){var e=t.attrsList,n=e.length;if(n)for(var r=t.attrs=new Array(n),i=0;i<n;i++)r[i]={name:e[i].name,value:JSON.stringify(e[i].value)},null!=e[i].start&&(r[i].start=e[i].start,r[i].end=e[i].end);else t.pre||(t.plain=!0)}(d):d.processed||(ma(d),function(t){var e=Br(t,"v-if");if(e)t.if=e,ba(t,{exp:e,block:t});else{null!=Br(t,"v-else")&&(t.else=!0);var n=Br(t,"v-else-if");n&&(t.elseif=n)}}(d),function(t){null!=Br(t,"v-once")&&(t.once=!0)}(d)),r||(r=d),a?l(d):(i=d,o.push(d))},end:function(t,e,n){var r=o[o.length-1];o.length-=1,i=o[o.length-1],l(r)},chars:function(t,e,n){if(i&&(!J||"textarea"!==i.tag||i.attrsMap.placeholder!==t)){var r,o,l,h=i.children;if(t=c||t.trim()?"script"===(r=i).tag||"style"===r.tag?t:pa(t):h.length?s?"condense"===s&&ha.test(t)?"":" ":a?" ":"":"")c||"condense"!==s||(t=t.replace(fa," ")),!u&&" "!==t&&(o=wo(t,zo))?l={type:2,expression:o.expression,tokens:o.tokens,text:t}:" "===t&&h.length&&" "===h[h.length-1].text||(l={type:3,text:t}),l&&h.push(l)}},comment:function(t,e,n){if(i){var r={type:3,text:t,isComment:!0};0,i.children.push(r)}}}),r}function ya(t,e){var n,r;!function(t){var e=Vr(t,"key");if(e){t.key=e}}(t),t.plain=!t.key&&!t.scopedSlots&&!t.attrsList.length,(r=Vr(n=t,"ref"))&&(n.ref=r,n.refInFor=function(t){for(var e=t;e;){if(void 0!==e.for)return!0;e=e.parent}return!1}(n)),function(t){var e;"template"===t.tag?(e=Br(t,"scope"),t.slotScope=e||Br(t,"slot-scope")):(e=Br(t,"slot-scope"))&&(t.slotScope=e);var n=Vr(t,"slot");n&&(t.slotTarget='""'===n?'"default"':n,t.slotTargetDynamic=!(!t.attrsMap[":slot"]&&!t.attrsMap["v-bind:slot"]),"template"===t.tag||t.slotScope||Rr(t,"slot",n,qr(t,"slot")));if("template"===t.tag){var r=Kr(t,la);if(r){0;var i=_a(r),o=i.name,a=i.dynamic;t.slotTarget=o,t.slotTargetDynamic=a,t.slotScope=r.value||da}}else{var s=Kr(t,la);if(s){0;var u=t.scopedSlots||(t.scopedSlots={}),c=_a(s),l=c.name,h=c.dynamic,f=u[l]=va("template",[],t);f.slotTarget=l,f.slotTargetDynamic=h,f.children=t.children.filter(function(t){if(!t.slotScope)return t.parent=f,!0}),f.slotScope=s.value||da,t.children=[],t.plain=!1}}}(t),function(t){"slot"===t.tag&&(t.slotName=Vr(t,"name"))}(t),function(t){var e;(e=Vr(t,"is"))&&(t.component=e);null!=Br(t,"inline-template")&&(t.inlineTemplate=!0)}(t);for(var i=0;i<Qo.length;i++)t=Qo[i](t,e)||t;return function(t){var e,n,r,i,o,a,s,u,c=t.attrsList;for(e=0,n=c.length;e<n;e++){if(r=i=c[e].name,o=c[e].value,na.test(r))if(t.hasBindings=!0,(a=wa(r.replace(na,"")))&&(r=r.replace(ca,"")),ua.test(r))r=r.replace(ua,""),o=Nr(o),(u=aa.test(r))&&(r=r.slice(1,-1)),a&&(a.prop&&!u&&"innerHtml"===(r=T(r))&&(r="innerHTML"),a.camel&&!u&&(r=T(r)),a.sync&&(s=Gr(o,"$event"),u?Ur(t,'"update:"+('+r+")",s,null,!1,0,c[e],!0):(Ur(t,"update:"+T(r),s,null,!1,0,c[e]),S(r)!==T(r)&&Ur(t,"update:"+S(r),s,null,!1,0,c[e])))),a&&a.prop||!t.component&&Zo(t.tag,t.attrsMap.type,r)?Pr(t,r,o,c[e],u):Rr(t,r,o,c[e],u);else if(ea.test(r))r=r.replace(ea,""),(u=aa.test(r))&&(r=r.slice(1,-1)),Ur(t,r,o,a,!1,0,c[e],u);else{var l=(r=r.replace(na,"")).match(sa),h=l&&l[1];u=!1,h&&(r=r.slice(0,-(h.length+1)),aa.test(h)&&(h=h.slice(1,-1),u=!0)),Mr(t,r,i,o,h,u,a,c[e])}else Rr(t,r,JSON.stringify(o),c[e]),!t.component&&"muted"===r&&Zo(t.tag,t.attrsMap.type,r)&&Pr(t,r,"true",c[e])}}(t),t}function ma(t){var e;if(e=Br(t,"v-for")){var n=function(t){var e=t.match(ra);if(!e)return;var n={};n.for=e[2].trim();var r=e[1].trim().replace(oa,""),i=r.match(ia);i?(n.alias=r.replace(ia,"").trim(),n.iterator1=i[1].trim(),i[2]&&(n.iterator2=i[2].trim())):n.alias=r;return n}(e);n&&A(t,n)}}function ba(t,e){t.ifConditions||(t.ifConditions=[]),t.ifConditions.push(e)}function _a(t){var e=t.name.replace(la,"");return e||"#"!==t.name[0]&&(e="default"),aa.test(e)?{name:e.slice(1,-1),dynamic:!0}:{name:'"'+e+'"',dynamic:!1}}function wa(t){var e=t.match(ca);if(e){var n={};return e.forEach(function(t){n[t.slice(1)]=!0}),n}}var Ia=/^xmlns:NS\d+/,Ta=/^NS\d+:/;function Ea(t){return va(t.tag,t.attrsList.slice(),t.parent)}var Oa=[Io,Eo,{preTransformNode:function(t,e){if("input"===t.tag){var n,r=t.attrsMap;if(!r["v-model"])return;if((r[":type"]||r["v-bind:type"])&&(n=Vr(t,"type")),r.type||n||!r["v-bind"]||(n="("+r["v-bind"]+").type"),n){var i=Br(t,"v-if",!0),o=i?"&&("+i+")":"",a=null!=Br(t,"v-else",!0),s=Br(t,"v-else-if",!0),u=Ea(t);ma(u),Lr(u,"type","checkbox"),ya(u,e),u.processed=!0,u.if="("+n+")==='checkbox'"+o,ba(u,{exp:u.if,block:u});var c=Ea(t);Br(c,"v-for",!0),Lr(c,"type","radio"),ya(c,e),ba(u,{exp:"("+n+")==='radio'"+o,block:c});var l=Ea(t);return Br(l,"v-for",!0),Lr(l,":type",n),ya(l,e),ba(u,{exp:i,block:l}),a?u.else=!0:s&&(u.elseif=s),u}}}}];var Sa,Ca,ka={expectHTML:!0,modules:Oa,directives:{model:function(t,e,n){n;var r=e.value,i=e.modifiers,o=t.tag,a=t.attrsMap.type;if(t.component)return Hr(t,r,i),!1;if("select"===o)!function(t,e,n){var r='var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return '+(n&&n.number?"_n(val)":"val")+"});";r=r+" "+Gr(e,"$event.target.multiple ? $$selectedVal : $$selectedVal[0]"),Ur(t,"change",r,null,!0)}(t,r,i);else if("input"===o&&"checkbox"===a)!function(t,e,n){var r=n&&n.number,i=Vr(t,"value")||"null",o=Vr(t,"true-value")||"true",a=Vr(t,"false-value")||"false";Pr(t,"checked","Array.isArray("+e+")?_i("+e+","+i+")>-1"+("true"===o?":("+e+")":":_q("+e+","+o+")")),Ur(t,"change","var $$a="+e+",$$el=$event.target,$$c=$$el.checked?("+o+"):("+a+");if(Array.isArray($$a)){var $$v="+(r?"_n("+i+")":i)+",$$i=_i($$a,$$v);if($$el.checked){$$i<0&&("+Gr(e,"$$a.concat([$$v])")+")}else{$$i>-1&&("+Gr(e,"$$a.slice(0,$$i).concat($$a.slice($$i+1))")+")}}else{"+Gr(e,"$$c")+"}",null,!0)}(t,r,i);else if("input"===o&&"radio"===a)!function(t,e,n){var r=n&&n.number,i=Vr(t,"value")||"null";Pr(t,"checked","_q("+e+","+(i=r?"_n("+i+")":i)+")"),Ur(t,"change",Gr(e,i),null,!0)}(t,r,i);else if("input"===o||"textarea"===o)!function(t,e,n){var r=t.attrsMap.type,i=n||{},o=i.lazy,a=i.number,s=i.trim,u=!o&&"range"!==r,c=o?"change":"range"===r?Zr:"input",l="$event.target.value";s&&(l="$event.target.value.trim()"),a&&(l="_n("+l+")");var h=Gr(e,l);u&&(h="if($event.target.composing)return;"+h),Pr(t,"value","("+e+")"),Ur(t,c,h,null,!0),(s||a)&&Ur(t,"blur","$forceUpdate()")}(t,r,i);else if(!q.isReservedTag(o))return Hr(t,r,i),!1;return!0},text:function(t,e){e.value&&Pr(t,"textContent","_s("+e.value+")",e)},html:function(t,e){e.value&&Pr(t,"innerHTML","_s("+e.value+")",e)}},isPreTag:function(t){return"pre"===t},isUnaryTag:So,mustUseProp:Ln,canBeLeftOpenTag:Co,isReservedTag:Xn,getTagNamespace:Zn,staticKeys:function(t){return t.reduce(function(t,e){return t.concat(e.staticKeys||[])},[]).join(",")}(Oa)},Aa=w(function(t){return v("type,tag,attrsList,attrsMap,plain,parent,children,attrs,start,end,rawAttrsMap"+(t?","+t:""))});function Na(t,e){t&&(Sa=Aa(e.staticKeys||""),Ca=e.isReservedTag||x,function t(e){e.static=function(t){if(2===t.type)return!1;if(3===t.type)return!0;return!(!t.pre&&(t.hasBindings||t.if||t.for||g(t.tag)||!Ca(t.tag)||function(t){for(;t.parent;){if("template"!==(t=t.parent).tag)return!1;if(t.for)return!0}return!1}(t)||!Object.keys(t).every(Sa)))}(e);if(1===e.type){if(!Ca(e.tag)&&"slot"!==e.tag&&null==e.attrsMap["inline-template"])return;for(var n=0,r=e.children.length;n<r;n++){var i=e.children[n];t(i),i.static||(e.static=!1)}if(e.ifConditions)for(var o=1,a=e.ifConditions.length;o<a;o++){var s=e.ifConditions[o].block;t(s),s.static||(e.static=!1)}}}(t),function t(e,n){if(1===e.type){if((e.static||e.once)&&(e.staticInFor=n),e.static&&e.children.length&&(1!==e.children.length||3!==e.children[0].type))return void(e.staticRoot=!0);if(e.staticRoot=!1,e.children)for(var r=0,i=e.children.length;r<i;r++)t(e.children[r],n||!!e.for);if(e.ifConditions)for(var o=1,a=e.ifConditions.length;o<a;o++)t(e.ifConditions[o].block,n)}}(t,!1))}var ja=/^([\w$_]+|\([^)]*?\))\s*=>|^function(?:\s+[\w$]+)?\s*\(/,xa=/\([^)]*?\);*$/,Da=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/,Pa={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},Ra={esc:["Esc","Escape"],tab:"Tab",enter:"Enter",space:[" ","Spacebar"],up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete","Del"]},La=function(t){return"if("+t+")return null;"},Ma={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:La("$event.target !== $event.currentTarget"),ctrl:La("!$event.ctrlKey"),shift:La("!$event.shiftKey"),alt:La("!$event.altKey"),meta:La("!$event.metaKey"),left:La("'button' in $event && $event.button !== 0"),middle:La("'button' in $event && $event.button !== 1"),right:La("'button' in $event && $event.button !== 2")};function Fa(t,e){var n=e?"nativeOn:":"on:",r="",i="";for(var o in t){var a=Ua(t[o]);t[o]&&t[o].dynamic?i+=o+","+a+",":r+='"'+o+'":'+a+","}return r="{"+r.slice(0,-1)+"}",i?n+"_d("+r+",["+i.slice(0,-1)+"])":n+r}function Ua(t){if(!t)return"function(){}";if(Array.isArray(t))return"["+t.map(function(t){return Ua(t)}).join(",")+"]";var e=Da.test(t.value),n=ja.test(t.value),r=Da.test(t.value.replace(xa,""));if(t.modifiers){var i="",o="",a=[];for(var s in t.modifiers)if(Ma[s])o+=Ma[s],Pa[s]&&a.push(s);else if("exact"===s){var u=t.modifiers;o+=La(["ctrl","shift","alt","meta"].filter(function(t){return!u[t]}).map(function(t){return"$event."+t+"Key"}).join("||"))}else a.push(s);return a.length&&(i+=function(t){return"if(!$event.type.indexOf('key')&&"+t.map(qa).join("&&")+")return null;"}(a)),o&&(i+=o),"function($event){"+i+(e?"return "+t.value+"($event)":n?"return ("+t.value+")($event)":r?"return "+t.value:t.value)+"}"}return e||n?t.value:"function($event){"+(r?"return "+t.value:t.value)+"}"}function qa(t){var e=parseInt(t,10);if(e)return"$event.keyCode!=="+e;var n=Pa[t],r=Ra[t];return"_k($event.keyCode,"+JSON.stringify(t)+","+JSON.stringify(n)+",$event.key,"+JSON.stringify(r)+")"}var Va={on:function(t,e){t.wrapListeners=function(t){return"_g("+t+","+e.value+")"}},bind:function(t,e){t.wrapData=function(n){return"_b("+n+",'"+t.tag+"',"+e.value+","+(e.modifiers&&e.modifiers.prop?"true":"false")+(e.modifiers&&e.modifiers.sync?",true":"")+")"}},cloak:j},Ba=function(t){this.options=t,this.warn=t.warn||xr,this.transforms=Dr(t.modules,"transformCode"),this.dataGenFns=Dr(t.modules,"genData"),this.directives=A(A({},Va),t.directives);var e=t.isReservedTag||x;this.maybeComponent=function(t){return!!t.component||!e(t.tag)},this.onceId=0,this.staticRenderFns=[],this.pre=!1};function Ka(t,e){var n=new Ba(e);return{render:"with(this){return "+(t?$a(t,n):'_c("div")')+"}",staticRenderFns:n.staticRenderFns}}function $a(t,e){if(t.parent&&(t.pre=t.pre||t.parent.pre),t.staticRoot&&!t.staticProcessed)return Ha(t,e);if(t.once&&!t.onceProcessed)return Ga(t,e);if(t.for&&!t.forProcessed)return za(t,e);if(t.if&&!t.ifProcessed)return Wa(t,e);if("template"!==t.tag||t.slotTarget||e.pre){if("slot"===t.tag)return function(t,e){var n=t.slotName||'"default"',r=Xa(t,e),i="_t("+n+(r?","+r:""),o=t.attrs||t.dynamicAttrs?es((t.attrs||[]).concat(t.dynamicAttrs||[]).map(function(t){return{name:T(t.name),value:t.value,dynamic:t.dynamic}})):null,a=t.attrsMap["v-bind"];!o&&!a||r||(i+=",null");o&&(i+=","+o);a&&(i+=(o?"":",null")+","+a);return i+")"}(t,e);var n;if(t.component)n=function(t,e,n){var r=e.inlineTemplate?null:Xa(e,n,!0);return"_c("+t+","+Qa(e,n)+(r?","+r:"")+")"}(t.component,t,e);else{var r;(!t.plain||t.pre&&e.maybeComponent(t))&&(r=Qa(t,e));var i=t.inlineTemplate?null:Xa(t,e,!0);n="_c('"+t.tag+"'"+(r?","+r:"")+(i?","+i:"")+")"}for(var o=0;o<e.transforms.length;o++)n=e.transforms[o](t,n);return n}return Xa(t,e)||"void 0"}function Ha(t,e){t.staticProcessed=!0;var n=e.pre;return t.pre&&(e.pre=t.pre),e.staticRenderFns.push("with(this){return "+$a(t,e)+"}"),e.pre=n,"_m("+(e.staticRenderFns.length-1)+(t.staticInFor?",true":"")+")"}function Ga(t,e){if(t.onceProcessed=!0,t.if&&!t.ifProcessed)return Wa(t,e);if(t.staticInFor){for(var n="",r=t.parent;r;){if(r.for){n=r.key;break}r=r.parent}return n?"_o("+$a(t,e)+","+e.onceId+++","+n+")":$a(t,e)}return Ha(t,e)}function Wa(t,e,n,r){return t.ifProcessed=!0,function t(e,n,r,i){if(!e.length)return i||"_e()";var o=e.shift();return o.exp?"("+o.exp+")?"+a(o.block)+":"+t(e,n,r,i):""+a(o.block);function a(t){return r?r(t,n):t.once?Ga(t,n):$a(t,n)}}(t.ifConditions.slice(),e,n,r)}function za(t,e,n,r){var i=t.for,o=t.alias,a=t.iterator1?","+t.iterator1:"",s=t.iterator2?","+t.iterator2:"";return t.forProcessed=!0,(r||"_l")+"(("+i+"),function("+o+a+s+"){return "+(n||$a)(t,e)+"})"}function Qa(t,e){var n="{",r=function(t,e){var n=t.directives;if(!n)return;var r,i,o,a,s="directives:[",u=!1;for(r=0,i=n.length;r<i;r++){o=n[r],a=!0;var c=e.directives[o.name];c&&(a=!!c(t,o,e.warn)),a&&(u=!0,s+='{name:"'+o.name+'",rawName:"'+o.rawName+'"'+(o.value?",value:("+o.value+"),expression:"+JSON.stringify(o.value):"")+(o.arg?",arg:"+(o.isDynamicArg?o.arg:'"'+o.arg+'"'):"")+(o.modifiers?",modifiers:"+JSON.stringify(o.modifiers):"")+"},")}if(u)return s.slice(0,-1)+"]"}(t,e);r&&(n+=r+","),t.key&&(n+="key:"+t.key+","),t.ref&&(n+="ref:"+t.ref+","),t.refInFor&&(n+="refInFor:true,"),t.pre&&(n+="pre:true,"),t.component&&(n+='tag:"'+t.tag+'",');for(var i=0;i<e.dataGenFns.length;i++)n+=e.dataGenFns[i](t);if(t.attrs&&(n+="attrs:"+es(t.attrs)+","),t.props&&(n+="domProps:"+es(t.props)+","),t.events&&(n+=Fa(t.events,!1)+","),t.nativeEvents&&(n+=Fa(t.nativeEvents,!0)+","),t.slotTarget&&!t.slotScope&&(n+="slot:"+t.slotTarget+","),t.scopedSlots&&(n+=function(t,e,n){var r=t.for||Object.keys(e).some(function(t){var n=e[t];return n.slotTargetDynamic||n.if||n.for||Ya(n)}),i=!!t.if;if(!r)for(var o=t.parent;o;){if(o.slotScope&&o.slotScope!==da||o.for){r=!0;break}o.if&&(i=!0),o=o.parent}var a=Object.keys(e).map(function(t){return Ja(e[t],n)}).join(",");return"scopedSlots:_u(["+a+"]"+(r?",null,true":"")+(!r&&i?",null,false,"+function(t){var e=5381,n=t.length;for(;n;)e=33*e^t.charCodeAt(--n);return e>>>0}(a):"")+")"}(t,t.scopedSlots,e)+","),t.model&&(n+="model:{value:"+t.model.value+",callback:"+t.model.callback+",expression:"+t.model.expression+"},"),t.inlineTemplate){var o=function(t,e){var n=t.children[0];0;if(n&&1===n.type){var r=Ka(n,e.options);return"inlineTemplate:{render:function(){"+r.render+"},staticRenderFns:["+r.staticRenderFns.map(function(t){return"function(){"+t+"}"}).join(",")+"]}"}}(t,e);o&&(n+=o+",")}return n=n.replace(/,$/,"")+"}",t.dynamicAttrs&&(n="_b("+n+',"'+t.tag+'",'+es(t.dynamicAttrs)+")"),t.wrapData&&(n=t.wrapData(n)),t.wrapListeners&&(n=t.wrapListeners(n)),n}function Ya(t){return 1===t.type&&("slot"===t.tag||t.children.some(Ya))}function Ja(t,e){var n=t.attrsMap["slot-scope"];if(t.if&&!t.ifProcessed&&!n)return Wa(t,e,Ja,"null");if(t.for&&!t.forProcessed)return za(t,e,Ja);var r=t.slotScope===da?"":String(t.slotScope),i="function("+r+"){return "+("template"===t.tag?t.if&&n?"("+t.if+")?"+(Xa(t,e)||"undefined")+":undefined":Xa(t,e)||"undefined":$a(t,e))+"}",o=r?"":",proxy:true";return"{key:"+(t.slotTarget||'"default"')+",fn:"+i+o+"}"}function Xa(t,e,n,r,i){var o=t.children;if(o.length){var a=o[0];if(1===o.length&&a.for&&"template"!==a.tag&&"slot"!==a.tag){var s=n?e.maybeComponent(a)?",1":",0":"";return""+(r||$a)(a,e)+s}var u=n?function(t,e){for(var n=0,r=0;r<t.length;r++){var i=t[r];if(1===i.type){if(Za(i)||i.ifConditions&&i.ifConditions.some(function(t){return Za(t.block)})){n=2;break}(e(i)||i.ifConditions&&i.ifConditions.some(function(t){return e(t.block)}))&&(n=1)}}return n}(o,e.maybeComponent):0,c=i||ts;return"["+o.map(function(t){return c(t,e)}).join(",")+"]"+(u?","+u:"")}}function Za(t){return void 0!==t.for||"template"===t.tag||"slot"===t.tag}function ts(t,e){return 1===t.type?$a(t,e):3===t.type&&t.isComment?(r=t,"_e("+JSON.stringify(r.text)+")"):"_v("+(2===(n=t).type?n.expression:ns(JSON.stringify(n.text)))+")";var n,r}function es(t){for(var e="",n="",r=0;r<t.length;r++){var i=t[r],o=ns(i.value);i.dynamic?n+=i.name+","+o+",":e+='"'+i.name+'":'+o+","}return e="{"+e.slice(0,-1)+"}",n?"_d("+e+",["+n.slice(0,-1)+"])":e}function ns(t){return t.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b"),new RegExp("\\b"+"delete,typeof,void".split(",").join("\\s*\\([^\\)]*\\)|\\b")+"\\s*\\([^\\)]*\\)");function rs(t,e){try{return new Function(t)}catch(n){return e.push({err:n,code:t}),j}}function is(t){var e=Object.create(null);return function(n,r,i){(r=A({},r)).warn;delete r.warn;var o=r.delimiters?String(r.delimiters)+n:n;if(e[o])return e[o];var a=t(n,r);var s={},u=[];return s.render=rs(a.render,u),s.staticRenderFns=a.staticRenderFns.map(function(t){return rs(t,u)}),e[o]=s}}var os,as,ss=(os=function(t,e){var n=ga(t.trim(),e);!1!==e.optimize&&Na(n,e);var r=Ka(n,e);return{ast:n,render:r.render,staticRenderFns:r.staticRenderFns}},function(t){function e(e,n){var r=Object.create(t),i=[],o=[],a=function(t,e,n){(n?o:i).push(t)};if(n)for(var s in n.modules&&(r.modules=(t.modules||[]).concat(n.modules)),n.directives&&(r.directives=A(Object.create(t.directives||null),n.directives)),n)"modules"!==s&&"directives"!==s&&(r[s]=n[s]);r.warn=a;var u=os(e.trim(),r);return u.errors=i,u.tips=o,u}return{compile:e,compileToFunctions:is(e)}})(ka),us=(ss.compile,ss.compileToFunctions);function cs(t){return(as=as||document.createElement("div")).innerHTML=t?'<a href="\n"/>':'<div a="\n"/>',as.innerHTML.indexOf("&#10;")>0}var ls=!!W&&cs(!1),hs=!!W&&cs(!0),fs=w(function(t){var e=nr(t);return e&&e.innerHTML}),ps=Sn.prototype.$mount;Sn.prototype.$mount=function(t,e){if((t=t&&nr(t))===document.body||t===document.documentElement)return this;var n=this.$options;if(!n.render){var r=n.template;if(r)if("string"==typeof r)"#"===r.charAt(0)&&(r=fs(r));else{if(!r.nodeType)return this;r=r.innerHTML}else t&&(r=function(t){if(t.outerHTML)return t.outerHTML;var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}(t));if(r){0;var i=us(r,{outputSourceRange:!1,shouldDecodeNewlines:ls,shouldDecodeNewlinesForHref:hs,delimiters:n.delimiters,comments:n.comments},this),o=i.render,a=i.staticRenderFns;n.render=o,n.staticRenderFns=a}}return ps.call(this,t,e)},Sn.compile=us,e.a=Sn}).call(e,n("DuR2"))},"77Pl":function(t,e,n){var r=n("EqjI");t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},"7KvD":function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"881v":function(t,e,n){"use strict";n("Ja5e")},"9bBU":function(t,e,n){n("mClu");var r=n("FeBl").Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},C4MV:function(t,e,n){t.exports={default:n("9bBU"),__esModule:!0}},D2L2:function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},DuR2:function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},EqjI:function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},FeBl:function(t,e){var n=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=n)},"GB/M":function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return tr}),n.d(e,"b",function(){return nr}),n.d(e,"c",function(){return er}),n.d(e,"d",function(){return rr}),n.d(e,"e",function(){return ir}),n.d(e,"f",function(){return or}),n.d(e,"g",function(){return Xn}),n.d(e,"h",function(){return Zn});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var o,a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},s=s||{},u=a||self;function c(){}function l(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function h(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var f="closure_uid_"+(1e9*Math.random()>>>0),p=0;function d(t,e,n){return t.call.apply(t.bind,arguments)}function v(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function g(t,e,n){return(g=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?d:v).apply(null,arguments)}function y(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function m(){return Date.now()}function b(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function _(){this.j=this.j,this.i=this.i}_.prototype.j=!1,_.prototype.ja=function(){if(!this.j&&(this.j=!0,this.G(),0))(function(t){Object.prototype.hasOwnProperty.call(t,f)&&t[f]||(t[f]=++p)})(this)},_.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var w=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},I=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function T(t){return Array.prototype.concat.apply([],arguments)}function E(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function O(t){return/^[\s\xa0]*$/.test(t)}var S,C=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function k(t,e){return-1!=t.indexOf(e)}function A(t,e){return t<e?-1:t>e?1:0}t:{var N=u.navigator;if(N){var j=N.userAgent;if(j){S=j;break t}}S=""}function x(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function D(t){var e={};for(var n in t)e[n]=t[n];return e}var P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<P.length;o++)n=P[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function L(t){return L[" "](t),t}L[" "]=c;var M,F,U=k(S,"Opera"),q=k(S,"Trident")||k(S,"MSIE"),V=k(S,"Edge"),B=V||q,K=k(S,"Gecko")&&!(k(S.toLowerCase(),"webkit")&&!k(S,"Edge"))&&!(k(S,"Trident")||k(S,"MSIE"))&&!k(S,"Edge"),$=k(S.toLowerCase(),"webkit")&&!k(S,"Edge");function H(){var t=u.document;return t?t.documentMode:void 0}t:{var G="",W=(F=S,K?/rv:([^\);]+)(\)|;)/.exec(F):V?/Edge\/([\d\.]+)/.exec(F):q?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(F):$?/WebKit\/(\S+)/.exec(F):U?/(?:Version)[ \/]?(\S+)/.exec(F):void 0);if(W&&(G=W?W[1]:""),q){var z=H();if(null!=z&&z>parseFloat(G)){M=String(z);break t}}M=G}var Q,Y={};function J(t){return function(t,e){var n=Y;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(){for(var e=0,n=C(String(M)).split("."),r=C(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=A(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||A(0==a[2].length,0==s[2].length)||A(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}if(u.document&&q){var X=H();Q=X||(parseInt(M,10)||void 0)}else Q=void 0;var Z=Q,tt=!q||9<=Number(Z),et=q&&!J("9"),nt=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",c,e),u.removeEventListener("test",c,e)}catch(t){}return t}();function rt(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function it(t,e){if(rt.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(K){t:{try{L(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:ot[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}rt.prototype.b=function(){this.defaultPrevented=!0},b(it,rt);var ot={2:"touch",3:"pen",4:"mouse"};it.prototype.b=function(){it.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,et)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var at="closure_listenable_"+(1e6*Math.random()|0),st=0;function ut(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function ct(t){this.src=t,this.a={},this.b=0}function lt(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=w(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ut(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ht(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}ct.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=ht(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new function(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++st,this.Y=this.Z=!1}(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var ft="closure_lm_"+(1e6*Math.random()|0),pt={};function dt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);return null}r=It(r);return e&&e[at]?e.wa(n,r,h(i)?!!i.capture:!!i,o):vt(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)dt(t,e[o],n,r,i);return null}return n=It(n),t&&t[at]?t.va(e,n,h(r)?!!r.capture:!!r,i):vt(t,e,n,!1,r,i)}function vt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=h(i)?!!i.capture:!!i;if(a&&!tt)return null;var s=_t(t);if(s||(t[ft]=s=new ct(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=bt,e=tt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)nt||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(yt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function gt(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[at])lt(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(yt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=_t(e))?(lt(n,t),0==n.b&&(n.src=null,e[ft]=null)):ut(t)}}}function yt(t){return t in pt?pt[t]:pt[t]="on"+t}function mt(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&gt(t),n.call(r,e)}function bt(t,e){if(t.Y)return!0;if(!tt){if(!e)t:{e=["window","event"];for(var n=u,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return mt(t,e=new it(e,this))}return mt(t,new it(e,this))}function _t(t){return(t=t[ft])instanceof ct?t:null}var wt="__closure_events_fn_"+(1e9*Math.random()>>>0);function It(t){return"function"==typeof t?t:(t[wt]||(t[wt]=function(e){return t.handleEvent(e)}),t[wt])}function Tt(){_.call(this),this.c=new ct(this),this.J=this,this.C=null}function Et(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new rt(e,t);else if(e instanceof rt)e.target=e.target||t;else{var i=e;R(e=new rt(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.a=n[o];i=Ot(a,r,!0,e)&&i}if(i=Ot(a=e.a=t,r,!0,e)&&i,i=Ot(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Ot(a=e.a=n[o],r,!1,e)&&i}function Ot(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&lt(t.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}b(Tt,_),Tt.prototype[at]=!0,(o=Tt.prototype).addEventListener=function(t,e,n,r){dt(this,t,e,n,r)},o.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);else i=h(i)?!!i.capture:!!i,r=It(r),e&&e[at]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=ht(a=e.a[n],r,i,o))&&(ut(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete e.a[n],e.b--))):e&&(e=_t(e))&&(n=e.a[n.toString()],e=-1,n&&(e=ht(n,r,i,o)),(r=-1<e?n[e]:null)&&gt(r))}(this,t,e,n,r)},o.G=function(){if(Tt.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ut(n[r]);delete e.a[t],e.b--}}this.C=null},o.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},o.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var St=u.JSON.stringify;function Ct(){this.b=this.a=null}var kt,At=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())(function(){return new jt},function(t){t.reset()});function Nt(){var t=Rt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function jt(){this.next=this.b=this.a=null}function xt(t){u.setTimeout(function(){throw t},0)}function Dt(t,e){kt||function(){var t=u.Promise.resolve(void 0);kt=function(){t.then(Lt)}}(),Pt||(kt(),Pt=!0),Rt.add(t,e)}Ct.prototype.add=function(t,e){var n=At.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},jt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},jt.prototype.reset=function(){this.next=this.b=this.a=null};var Pt=!1,Rt=new Ct;function Lt(){for(var t;t=Nt();){try{t.a.call(t.b)}catch(t){xt(t)}var e=At;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Pt=!1}function Mt(t,e){Tt.call(this),this.b=t||1,this.a=e||u,this.f=g(this.Za,this),this.g=m()}function Ft(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Ut(t,e,n){if("function"==typeof t)n&&(t=g(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=g(t.handleEvent,t)}return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}b(Mt,Tt),(o=Mt.prototype).aa=!1,o.M=null,o.Za=function(){if(this.aa){var t=m()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Et(this,"tick"),this.aa&&(Ft(this),this.start()))}},o.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=m())},o.G=function(){Mt.X.G.call(this),Ft(this),delete this.a};var qt=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:function t(e){e.a=Ut(function(){e.a=null,e.c&&(e.c=!1,t(e))},e.h);var n=e.b;e.b=null,e.g.apply(null,n)}(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(u.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(_);function Vt(t){_.call(this),this.b=t,this.a={}}b(Vt,_);var Bt=[];function Kt(t,e,n,r){Array.isArray(n)||(n&&(Bt[0]=n.toString()),n=Bt);for(var i=0;i<n.length;i++){var o=dt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function $t(t){x(t.a,function(t,e){this.a.hasOwnProperty(e)&&gt(t)},t),t.a={}}function Ht(){this.a=!0}function Gt(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return St(n)}catch(t){return e}}(t,n)+(r?" "+r:"")})}Vt.prototype.G=function(){Vt.X.G.call(this),$t(this)},Vt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ht.prototype.info=function(){};var Wt={},zt=null;function Qt(){return zt=zt||new Tt}function Yt(t){rt.call(this,Wt.Fa,t)}function Jt(t){var e=Qt();Et(e,new Yt(e,t))}function Xt(t,e){rt.call(this,Wt.STAT_EVENT,t),this.stat=e}function Zt(t){var e=Qt();Et(e,new Xt(e,t))}function te(t){rt.call(this,Wt.Ga,t)}function ee(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){t()},e)}Wt.Fa="serverreachability",b(Yt,rt),Wt.STAT_EVENT="statevent",b(Xt,rt),Wt.Ga="timingevent",b(te,rt);var ne={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},re={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function ie(){}function oe(t){var e;return(e=t.a)||(e=t.a={}),e}function ae(){}ie.prototype.a=null;var se,ue={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function ce(){rt.call(this,"d")}function le(){rt.call(this,"c")}function he(){}function fe(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Vt(this),this.P=pe,t=B?125:void 0,this.R=new Mt(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}b(ce,rt),b(le,rt),b(he,ie),se=new he;var pe=45e3,de={},ve={};function ge(t,e,n){t.H=1,t.i=Fe(xe(e)),t.j=n,t.I=!0,ye(t,null)}function ye(t,e){t.u=m(),_e(t),t.l=xe(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Je(n.b,"t",r),t.D=0,t.a=Hn(t.g,t.g.C?e:null),0<t.O&&(t.F=new qt(g(t.Ca,t,t.a),t.O)),Kt(t.J,t.a,"readystatechange",t.Xa),e=t.B?D(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Jt(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a})}(t.c,t.m,t.l,t.f,t.S,t.j)}function me(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=be(t,n);if(i==ve){4==e&&(t.h=4,Zt(14),r=!1),Gt(t.c,t.f,null,"[Incomplete Response]");break}if(i==de){t.h=4,Zt(15),Gt(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Gt(t.c,t.f,i,null),Oe(t,i)}4==e&&0==n.length&&(t.h=1,Zt(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Mn(e),e.F=!0,Zt(11))):(Gt(t.c,t.f,n,"[Invalid Chunked Response]"),Ee(t),Te(t))}function be(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?ve:(n=Number(e.substring(n,r)),isNaN(n)?de:(r+=1)+n>e.length?ve:(e=e.substr(r,n),t.D=r+n,e))}function _e(t){t.T=m()+t.P,we(t,t.P)}function we(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=ee(g(t.Va,t),e)}function Ie(t){t.o&&(u.clearTimeout(t.o),t.o=null)}function Te(t){0==t.g.v||t.A||qn(t.g,t)}function Ee(t){Ie(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Ft(t.R),$t(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Oe(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||on(n.b,t)))if(n.I=t.N,!t.C&&on(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(t){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Un(n),kn(n)}Ln(n),Zt(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=ee(g(n.Sa,n),6e3));if(1>=rn(n.b)&&n.ea){try{n.ea()}catch(t){}n.ea=void 0}}else Bn(n,11)}else if((t.C||n.a==t)&&Un(n),!O(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"==typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(k(l,"spdy")||k(l,"quic")||k(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(an(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Me(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=m()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var p=t;if((u=n).la=$n(u,u.C?u.ga:null,u.fa),p.C){sn(u.b,p);var d=p,v=u.D;v&&d.setTimeout(v),d.o&&(Ie(d),_e(d)),u.a=p}else Rn(u);0<n.g.length&&jn(n)}else"stop"!=i[0]&&"close"!=i[0]||Bn(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Bn(n,7):Cn(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Jt(4)}catch(t){}}function Se(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(l(t)||"string"==typeof t)I(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(l(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(l(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Ce(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ce)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function ke(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ae(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Ae(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Ae(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(o=fe.prototype).setTimeout=function(t){this.P=t},o.Xa=function(t){t=t.target;var e=this.F;e&&3==Tn(t)?e.f():this.Ca(t)},o.Ca=function(t){try{if(t==this.a)t:{var e=Tn(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!B&&!this.a.$())){this.A||4!=e||7==n||Jt(8==n||0>=r?3:2),Ie(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(a)){var u=a;break e}}u=null}if(!u){this.b=!1,this.h=3,Zt(12),Ee(this),Te(this);break t}Gt(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Oe(this,u)}this.I?(me(this,e,o),B&&this.b&&3==e&&(Kt(this.J,this.R,"tick",this.Wa),this.R.start())):(Gt(this.c,this.f,o,null),Oe(this,o)),4==e&&Ee(this),this.b&&!this.A&&(4==e?qn(this.g,this):(this.b=!1,_e(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Zt(12)):(this.h=0,Zt(13)),Ee(this),Te(this)}}}catch(t){}},o.Wa=function(){if(this.a){var t=Tn(this.a),e=this.a.$();this.D<e.length&&(Ie(this),me(this,t,e),this.b&&4!=t&&_e(this))}},o.cancel=function(){this.A=!0,Ee(this)},o.Va=function(){this.o=null;var t=m();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(Jt(3),Zt(17)),Ee(this),this.h=2,Te(this)):we(this,this.T-t)},(o=Ce.prototype).K=function(){ke(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},o.L=function(){return ke(this),this.a.concat()},o.get=function(t,e){return Ae(this.b,t)?this.b[t]:e},o.set=function(t,e){Ae(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},o.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Ne=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function je(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof je){this.a=void 0!==e?e:t.a,De(this,t.f),this.j=t.j,Pe(this,t.c),Re(this,t.h),this.g=t.g,e=t.b;var n=new We;n.c=e.c,e.a&&(n.a=new Ce(e.a),n.b=e.b),Le(this,n),this.i=t.i}else t&&(n=String(t).match(Ne))?(this.a=!!e,De(this,n[1]||"",!0),this.j=Ue(n[2]||""),Pe(this,n[3]||"",!0),Re(this,n[4]),this.g=Ue(n[5]||"",!0),Le(this,n[6]||"",!0),this.i=Ue(n[7]||"")):(this.a=!!e,this.b=new We(null,this.a))}function xe(t){return new je(t)}function De(t,e,n){t.f=n?Ue(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Pe(t,e,n){t.c=n?Ue(e,!0):e}function Re(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Le(t,e,n){e instanceof We?(t.b=e,function(t,e){e&&!t.f&&(ze(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Qe(this,e),Je(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=qe(e,He)),t.b=new We(e,t.a))}function Me(t,e,n){t.b.set(e,n)}function Fe(t){return Me(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^m()).toString(36)),t}function Ue(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function qe(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Ve),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ve(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}je.prototype.toString=function(){var t=[],e=this.f;e&&t.push(qe(e,Be,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(qe(e,Be,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(qe(n,"/"==n.charAt(0)?$e:Ke,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",qe(n,Ge)),t.join("")};var Be=/[#\/\?@]/g,Ke=/[#\?:]/g,$e=/[#\?]/g,He=/[#\?@]/g,Ge=/#/g;function We(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function ze(t){t.a||(t.a=new Ce,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Qe(t,e){ze(t),e=Xe(t,e),Ae(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ae((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&ke(t)))}function Ye(t,e){return ze(t),e=Xe(t,e),Ae(t.a.b,e)}function Je(t,e,n){Qe(t,e),0<n.length&&(t.c=null,t.a.set(Xe(t,e),E(n)),t.b+=n.length)}function Xe(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(o=We.prototype).add=function(t,e){ze(this),this.c=null,t=Xe(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},o.forEach=function(t,e){ze(this),this.a.forEach(function(n,r){I(n,function(n){t.call(e,n,r,this)},this)},this)},o.L=function(){ze(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},o.K=function(t){ze(this);var e=[];if("string"==typeof t)Ye(this,t)&&(e=T(e,this.a.get(Xe(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=T(e,t[n])}return e},o.set=function(t,e){return ze(this),this.c=null,Ye(this,t=Xe(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},o.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},o.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var Ze=function(){return function(t,e){this.b=t,this.a=e}}();function tn(t){this.g=t||en,u.PerformanceNavigationTiming?t=0<(t=u.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(u.ia&&u.ia.ya&&u.ia.ya()&&u.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var en=10;function nn(t){return!!t.b||!!t.a&&t.a.size>=t.f}function rn(t){return t.b?1:t.a?t.a.size:0}function on(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function an(t,e){t.a?t.a.add(e):t.b=e}function sn(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function un(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var o=i(t.a.values()),a=o.next();!a.done;a=o.next()){var s=a.value;r=r.concat(s.s)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}return E(t.c)}function cn(){}function ln(t,e,n){var r=n||"";try{Se(t,function(t,n){var i=t;h(t)&&(i=St(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function hn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}tn.prototype.cancel=function(){var t,e;if(this.c=un(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=i(this.a.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},cn.prototype.stringify=function(t){return u.JSON.stringify(t,void 0)},cn.prototype.parse=function(t){return u.JSON.parse(t,void 0)};var fn=u.JSON.parse;function pn(t){Tt.call(this),this.headers=new Ce,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=dn,this.D=this.F=!1}b(pn,Tt);var dn="",vn=/^https?$/i,gn=["POST","PUT"];function yn(t){return"content-type"==t.toLowerCase()}function mn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,bn(t),wn(t)}function bn(t){t.u||(t.u=!0,Et(t,"complete"),Et(t,"error"))}function _n(t){if(t.b&&void 0!==s&&(!t.s[1]||4!=Tn(t)||2!=t.W()))if(t.l&&4==Tn(t))Ut(t.za,0,t);else if(Et(t,"readystatechange"),4==Tn(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Ne)[1]||null;if(!o&&u.self&&u.self.location){var a=u.self.location.protocol;o=a.substr(0,a.length-1)}i=!vn.test(o?o.toLowerCase():"")}e=i}if(e)Et(t,"complete"),Et(t,"success");else{t.h=6;try{var c=2<Tn(t)?t.a.statusText:""}catch(n){c=""}t.f=c+" ["+t.W()+"]",bn(t)}}finally{wn(t)}}}function wn(t,e){if(t.a){In(t);var n=t.a,r=t.s[0]?c:null;t.a=null,t.s=null,e||Et(t,"ready");try{n.onreadystatechange=r}catch(t){}}}function In(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(u.clearTimeout(t.m),t.m=null)}function Tn(t){return t.a?t.a.readyState:0}function En(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return x(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Me(t,e,n))}function On(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Sn(t){this.pa=0,this.g=[],this.c=new Ht,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=On("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=On("baseRetryDelayMs",5e3,t),this.Ra=On("retryDelaySeedMs",1e4,t),this.Ma=On("forwardChannelMaxRetries",2,t),this.ma=On("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new tn(t&&t.concurrentRequestLimit),this.ka=new function(){this.a=new cn},this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Cn(t){if(An(t),3==t.v){var e=t.R++,n=xe(t.B);Me(n,"SID",t.J),Me(n,"RID",e),Me(n,"TYPE","terminate"),Dn(t,n),(e=new fe(t,t.c,e,void 0)).H=2,e.i=Fe(xe(n)),n=!1,u.navigator&&u.navigator.sendBeacon&&(n=u.navigator.sendBeacon(e.i.toString(),"")),!n&&u.Image&&((new Image).src=e.i,n=!0),n||(e.a=Hn(e.g,null),e.a.ba(e.i)),e.u=m(),_e(e)}Kn(t)}function kn(t){t.a&&(Mn(t),t.a.cancel(),t.a=null)}function An(t){kn(t),t.j&&(u.clearTimeout(t.j),t.j=null),Un(t),t.b.cancel(),t.h&&("number"==typeof t.h&&u.clearTimeout(t.h),t.h=null)}function Nn(t,e){t.g.push(new Ze(t.Oa++,e)),3==t.v&&jn(t)}function jn(t){nn(t.b)||t.h||(t.h=!0,Dt(t.Ba,t),t.u=0)}function xn(t,e){var n;n=e?e.f:t.R++;var r=xe(t.B);Me(r,"SID",t.J),Me(r,"RID",n),Me(r,"AID",t.P),Dn(t,r),t.i&&t.l&&En(r,t.i,t.l),n=new fe(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Pn(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),an(t.b,n),ge(n,r,e)}function Dn(t,e){t.f&&Se({},function(t,n){Me(e,n,t)})}function Pn(t,e,n){n=Math.min(t.g.length,n);var r=t.f?g(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{ln(l,a,"req"+c+"_")}catch(t){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Rn(t){t.a||t.j||(t.T=1,Dt(t.Aa,t),t.o=0)}function Ln(t){return!(t.a||t.j||3<=t.o)&&(t.T++,t.j=ee(g(t.Aa,t),Vn(t,t.o)),t.o++,!0)}function Mn(t){null!=t.s&&(u.clearTimeout(t.s),t.s=null)}function Fn(t){t.a=new fe(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=xe(t.la);Me(e,"RID","rpc"),Me(e,"SID",t.J),Me(e,"CI",t.H?"0":"1"),Me(e,"AID",t.P),Dn(t,e),Me(e,"TYPE","xmlhttp"),t.i&&t.l&&En(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Fe(xe(e)),n.j=null,n.I=!0,ye(n,t)}function Un(t){null!=t.m&&(u.clearTimeout(t.m),t.m=null)}function qn(t,e){var n=null;if(t.a==e){Un(t),Mn(t),t.a=null;var r=2}else{if(!on(t.b,e))return;n=e.s,sn(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=m()-e.u;var i=t.u;Et(r=Qt(),new te(r,n,e,i)),jn(t)}else Rn(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(rn(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=ee(g(t.Ba,t,e),Vn(t,t.u)),t.u++,0)))}(t,e)||2==r&&Ln(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Bn(t,5);break;case 4:Bn(t,10);break;case 3:Bn(t,6);break;default:Bn(t,2)}}function Vn(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Bn(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=g(t.Ya,t);n||(n=new je("//www.google.com/images/cleardot.gif"),u.location&&"http"==u.location.protocol||De(n,"https"),Fe(n)),function(t,e){var n=new Ht;if(u.Image){var r=new Image;r.onload=y(hn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=y(hn,n,r,"TestLoadImage: error",!1,e),r.onabort=y(hn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=y(hn,n,r,"TestLoadImage: timeout",!1,e),u.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Zt(2);t.v=0,t.f&&t.f.ra(e),Kn(t),An(t)}function Kn(t){t.v=0,t.I=-1,t.f&&(0==un(t.b).length&&0==t.g.length||(t.b.c.length=0,E(t.g),t.g.length=0),t.f.qa())}function $n(t,e,n){var r=function(t){return t instanceof je?xe(t):new je(t,void 0)}(n);if(""!=r.c)e&&Pe(r,e+"."+r.c),Re(r,r.h);else{var i=u.location;r=function(t,e,n,r){var i=new je(null,void 0);return t&&De(i,t),e&&Pe(i,e),n&&Re(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&x(t.V,function(t,e){Me(r,e,t)}),e=t.A,n=t.na,e&&n&&Me(r,e,n),Me(r,"VER",t.ha),Dn(t,r),r}function Hn(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new pn(t.Na)).F=t.C,e}function Gn(){}function Wn(){if(q&&!(10<=Number(Z)))throw Error("Environmental error: no available transport.")}function zn(t,e){Tt.call(this),this.a=new Sn(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!O(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!O(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&(e in(t=this.b)&&delete t[e])),this.f=new Jn(this)}function Qn(t){ce.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Yn(){le.call(this),this.status=1}function Jn(t){this.a=t}(o=pn.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?oe(this.H):oe(se),this.a.onreadystatechange=g(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(t){return void mn(this,t)}t=n||"";var i=new Ce(this.headers);r&&Se(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=yn,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=u.FormData&&t instanceof u.FormData,!(0<=w(gn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{In(this),0<this.o&&((this.D=function(t){return q&&J(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=g(this.xa,this)):this.m=Ut(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){mn(this,t)}},o.xa=function(){void 0!==s&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Et(this,"timeout"),this.abort(8))},o.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Et(this,"complete"),Et(this,"abort"),wn(this))},o.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),wn(this,!0)),pn.X.G.call(this)},o.za=function(){this.j||(this.A||this.l||this.g?_n(this):this.Ua())},o.Ua=function(){_n(this)},o.W=function(){try{return 2<Tn(this)?this.a.status:-1}catch(t){return-1}},o.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},o.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),fn(e)}},o.ua=function(){return this.h},o.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(o=Sn.prototype).ha=8,o.v=1,o.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new fe(this,this.c,t,void 0),r=this.l;if(this.O&&(r?R(r=D(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Pn(this,n,e),Me(i=xe(this.B),"RID",t),Me(i,"CVER",22),this.A&&Me(i,"X-HTTP-Session-Id",this.A),Dn(this,i),this.i&&r&&En(i,this.i,r),an(this.b,n),this.Ia&&Me(i,"TYPE","init"),this.da?(Me(i,"$req",e),Me(i,"SID","null"),n.U=!0,ge(n,i,null)):ge(n,i,e),this.v=2}}else 3==this.v&&(t?xn(this,t):0==this.g.length||nn(this.b)||xn(this))},o.Aa=function(){if(this.j=null,Fn(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=ee(g(this.Ta,this),t)}},o.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Zt(10),kn(this),Fn(this))},o.Sa=function(){null!=this.m&&(this.m=null,kn(this),Ln(this),Zt(19))},o.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Zt(2)):(this.c.info("Failed to ping google.com"),Zt(1))},(o=Gn.prototype).ta=function(){},o.sa=function(){},o.ra=function(){},o.qa=function(){},o.Ja=function(){},Wn.prototype.a=function(t,e){return new zn(t,e)},b(zn,Tt),zn.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Zt(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=$n(t,null,t.fa),jn(t)},zn.prototype.close=function(){Cn(this.a)},zn.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Nn(this.a,e)}else this.l?((e={}).__data__=St(t),Nn(this.a,e)):Nn(this.a,t)},zn.prototype.G=function(){this.a.f=null,delete this.f,Cn(this.a),delete this.a,zn.X.G.call(this)},b(Qn,ce),b(Yn,le),b(Jn,Gn),Jn.prototype.ta=function(){Et(this.a,"a")},Jn.prototype.sa=function(t){Et(this.a,new Qn(t))},Jn.prototype.ra=function(t){Et(this.a,new Yn(t))},Jn.prototype.qa=function(){Et(this.a,"b")},Wn.prototype.createWebChannel=Wn.prototype.a,zn.prototype.send=zn.prototype.h,zn.prototype.open=zn.prototype.g,zn.prototype.close=zn.prototype.close,ne.NO_ERROR=0,ne.TIMEOUT=8,ne.HTTP_ERROR=6,re.COMPLETE="complete",ae.EventType=ue,ue.OPEN="a",ue.CLOSE="b",ue.ERROR="c",ue.MESSAGE="d",Tt.prototype.listen=Tt.prototype.va,pn.prototype.listenOnce=pn.prototype.wa,pn.prototype.getLastError=pn.prototype.Qa,pn.prototype.getLastErrorCode=pn.prototype.ua,pn.prototype.getStatus=pn.prototype.W,pn.prototype.getResponseJson=pn.prototype.Pa,pn.prototype.getResponseText=pn.prototype.$,pn.prototype.send=pn.prototype.ba;var Xn=function(){return new Wn},Zn=function(){return Qt()},tr=ne,er=re,nr=Wt,rr={gb:0,jb:1,kb:2,Db:3,Ib:4,Fb:5,Gb:6,Eb:7,Cb:8,Hb:9,PROXY:10,NOPROXY:11,Ab:12,wb:13,xb:14,vb:15,yb:16,zb:17,bb:18,ab:19,cb:20},ir=ae,or=pn}).call(e,n("DuR2"))},Ja5e:function(t,e,n){"use strict";var r,i=n("SHXD"),o=(n("fjI4"),n("xaOn"),n("GB/M"),n("TToO"),n("tsGP")),a=n("WDX3"),s={Firestore:o.f,GeoPoint:o.t,Timestamp:o.d,Blob:o.e,Transaction:o.o,WriteBatch:o.a,DocumentReference:o.b,DocumentSnapshot:o.j,Query:o.m,QueryDocumentSnapshot:o.r,QuerySnapshot:o.q,CollectionReference:o.n,FieldPath:o.p,FieldValue:o.l,setLogLevel:o.i,CACHE_SIZE_UNLIMITED:o.g};(function(t,e){t.INTERNAL.registerComponent(new a.a("firestore",function(t){return function(t,e){return new o.f(t,new o.c(t,e),new o.h)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},s)))})(r=i.a),r.registerVersion("@firebase/firestore","2.2.1")},MmMw:function(t,e,n){var r=n("EqjI");t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},ON07:function(t,e,n){var r=n("EqjI"),i=n("7KvD").document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},S82l:function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},SHXD:function(t,e,n){"use strict";var r,i,o=n("TToO"),a=n("xaOn"),s=n("WDX3"),u=n("fjI4"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.b("app","Firebase",c),h="@firebase/app",f="0.6.17",p="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),v=new u.b("@firebase/app"),g=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(a.m)(t),this.container=new s.b(e.name),this._addComponent(new s.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=p),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=p),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){v.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var y="8.3.1";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var m=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){if(void 0===i&&(i={}),"object"!=typeof i||null===i){var o=i;i={name:o}}var s=i;void 0===s.name&&(s.name=p);var u=s.name;if("string"!=typeof u||!u)throw l.create("bad-app-name",{appName:String(u)});if(Object(a.k)(e,u))throw l.create("duplicate-app",{appName:u});var c=new t(n,s,r);return e[u]=c,c},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var a=i.match(/\s|\//),u=e.match(/\s|\//);if(a||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return a&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void v.warn(c.join(" "))}o(new s.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:y,INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||p,!Object(a.k)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var s=o.name;if(n.has(s))return v.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[s])throw l.create("invalid-app-argument",{appName:s});return t[s]()};void 0!==o.serviceProps&&Object(a.n)(u,o.serviceProps),r[s]=u,t.prototype[s]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,s).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++){var f=h[c];e[f]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(a.n)(e,t)},createSubscribe:a.l,ErrorFactory:a.b,deepExtend:a.n}),e}(),b=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
if(Object(a.r)()&&void 0!==self.firebase){v.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var _=self.firebase.SDK_VERSION;_&&_.indexOf("LITE")>=0&&v.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var w=m.initializeApp;m.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(a.y)()&&v.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),w.apply(void 0,t)};var I=m;!function(t,e){t.INTERNAL.registerComponent(new s.a("platform-logger",function(t){return new b(t)},"PRIVATE")),t.registerVersion(h,f,e),t.registerVersion("fire-js","")}(I),e.a=I},SfB7:function(t,e,n){t.exports=!n("+E39")&&!n("S82l")(function(){return 7!=Object.defineProperty(n("ON07")("div"),"a",{get:function(){return 7}}).a})},TToO:function(t,e,n){"use strict";e.c=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},n.d(e,"a",function(){return i}),e.b=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((r=r.apply(t,e||[])).next())})},e.d=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},e.g=o,e.e=a,e.f=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};var i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.create;function o(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}Object.create},"VU/8":function(t,e){t.exports=function(t,e,n,r,i,o){var a,s=t=t||{},u=typeof t.default;"object"!==u&&"function"!==u||(a=t,s=t.default);var c,l="function"==typeof s?s.options:s;if(e&&(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0),n&&(l.functional=!0),i&&(l._scopeId=i),o?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=c):r&&(c=r),c){var h=l.functional,f=h?l.render:l.beforeCreate;h?(l._injectStyles=c,l.render=function(t,e){return c.call(e),f(t,e)}):l.beforeCreate=f?[].concat(f,c):[c]}return{esModule:a,exports:s,options:l}}},W2nU:function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,c=[],l=!1,h=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):h=-1,c.length&&p())}function p(){if(!l){var t=s(f);l=!0;for(var e=c.length;e;){for(u=c,c=[];++h<e;)u&&u[h].run();h=-1,e=c.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function v(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new d(t,e)),1!==c.length||l||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},WDX3:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return u}),n.d(e,"c",function(){return s});var r=n("TToO"),i=n("xaOn"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),a="[DEFAULT]",s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=a);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:a,optional:!1},t),n=e.identifier,i=e.optional,o=this.normalizeInstanceIdentifier(n);try{var s=this.getOrInitializeService({instanceIdentifier:o});if(!s){if(i)return null;throw Error("Service "+this.name+" is not available")}return s}catch(t){if(i)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t))try{this.getOrInitializeService({instanceIdentifier:a})}catch(t){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=Object(r.e)(o.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);try{var h=this.getOrInitializeService({instanceIdentifier:l});c.resolve(h)}catch(t){}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=a),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=a),this.instances.has(t)},t.prototype.initialize=function(t){void 0===t&&(t={});var e=t.instanceIdentifier,n=void 0===e?a:e,r=t.options,i=void 0===r?{}:r,o=this.normalizeInstanceIdentifier(n);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");return this.getOrInitializeService({instanceIdentifier:o,options:i})},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);return!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===a?void 0:e),options:i}),this.instances.set(n,o)),o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:a:t},t}();var u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},X8DO:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},ZC01:function(t,e,n){(function(t){"use strict";function e(t){return new Promise(function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function n(t,n,r){var i,o=new Promise(function(o,a){e(i=t[n].apply(t,r)).then(o,a)});return o.request=i,o}function r(t,e,n){n.forEach(function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})})}function i(t,e,r,i){i.forEach(function(i){i in r.prototype&&(t.prototype[i]=function(){return n(this[e],i,arguments)})})}function o(t,e,n,r){r.forEach(function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})})}function a(t,e,r,i){i.forEach(function(i){i in r.prototype&&(t.prototype[i]=function(){return t=this[e],(r=n(t,i,arguments)).then(function(t){if(t)return new u(t,r.request)});var t,r})})}function s(t){this._index=t}function u(t,e){this._cursor=t,this._request=e}function c(t){this._store=t}function l(t){this._tx=t,this.complete=new Promise(function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}})}function h(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new l(n)}function f(t){this._db=t}r(s,"_index",["name","keyPath","multiEntry","unique"]),i(s,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),a(s,"_index",IDBIndex,["openCursor","openKeyCursor"]),r(u,"_cursor",["direction","key","primaryKey","value"]),i(u,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(t){t in IDBCursor.prototype&&(u.prototype[t]=function(){var n=this,r=arguments;return Promise.resolve().then(function(){return n._cursor[t].apply(n._cursor,r),e(n._request).then(function(t){if(t)return new u(t,n._request)})})})}),c.prototype.createIndex=function(){return new s(this._store.createIndex.apply(this._store,arguments))},c.prototype.index=function(){return new s(this._store.index.apply(this._store,arguments))},r(c,"_store",["name","keyPath","indexNames","autoIncrement"]),i(c,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),a(c,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),o(c,"_store",IDBObjectStore,["deleteIndex"]),l.prototype.objectStore=function(){return new c(this._tx.objectStore.apply(this._tx,arguments))},r(l,"_tx",["objectStoreNames","mode"]),o(l,"_tx",IDBTransaction,["abort"]),h.prototype.createObjectStore=function(){return new c(this._db.createObjectStore.apply(this._db,arguments))},r(h,"_db",["name","version","objectStoreNames"]),o(h,"_db",IDBDatabase,["deleteObjectStore","close"]),f.prototype.transaction=function(){return new l(this._db.transaction.apply(this._db,arguments))},r(f,"_db",["name","version","objectStoreNames"]),o(f,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(t){[c,s].forEach(function(e){t in e.prototype&&(e.prototype[t.replace("open","iterate")]=function(){var e,n=(e=arguments,Array.prototype.slice.call(e)),r=n[n.length-1],i=this._store||this._index,o=i[t].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})})}),[s,c].forEach(function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise(function(i){n.iterateCursor(t,function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)})})})}),t.openDb=function(t,e,r){var i=n(indexedDB,"open",[t,e]),o=i.request;return o&&(o.onupgradeneeded=function(t){r&&r(new h(o.result,t.oldVersion,o.transaction))}),i.then(function(t){return new f(t)})},t.deleteDb=function(t){return n(indexedDB,"deleteDatabase",[t])},Object.defineProperty(t,"__esModule",{value:!0})})(e)},ZsiJ:function(t,e,n){"use strict";(function(t,e){var r,i=n("SHXD"),o=n("TToO"),a=n("xaOn"),s=n("fjI4"),u=n("WDX3"),c=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Object(a.J)(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:Object(a.D)(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),l=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return Object(a.k)(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),h=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new c(e)}}catch(t){}return new l},f=h("localStorage"),p=h("sessionStorage"),d=new s.b("@firebase/database"),v=(r=1,function(){return r++}),g=function(t){var e=Object(a.I)(t),n=new a.d;n.update(e);var r=n.digest();return a.h.encodeByteArray(r)},y=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var i=t[r];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=y.apply(null,i):n+="object"==typeof i?Object(a.J)(i):i,n+=" "}return n},m=null,b=!0,_=function(t,e){Object(a.f)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(d.logLevel=s.a.VERBOSE,m=d.log.bind(d),e&&p.set("logging_enabled",!0)):"function"==typeof t?m=t:(m=null,p.remove("logging_enabled"))},w=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===b&&(b=!1,null===m&&!0===p.get("logging_enabled")&&_(!0)),m){var n=y.apply(null,t);m(n)}},I=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];w.apply(void 0,Object(o.f)([t],Object(o.e)(e)))}},T=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+y.apply(void 0,Object(o.f)([],Object(o.e)(t)));d.error(n)},E=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+y.apply(void 0,Object(o.f)([],Object(o.e)(t)));throw d.error(n),new Error(n)},O=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+y.apply(void 0,Object(o.f)([],Object(o.e)(t)));d.warn(n)},S=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},C="[MIN_NAME]",k="[MAX_NAME]",A=function(t,e){if(t===e)return 0;if(t===C||e===k)return-1;if(e===C||t===k)return 1;var n=F(t),r=F(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},N=function(t,e){return t===e?0:t<e?-1:1},j=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Object(a.J)(e))},x=function(t){if("object"!=typeof t||null===t)return Object(a.J)(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)0!==i&&(r+=","),r+=Object(a.J)(e[i]),r+=":",r+=x(t[e[i]]);return r+="}"},D=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function P(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var R=function(t){Object(a.f)(!S(t),"Invalid JSON number");var e,n,r,i,o;0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var s=[];for(o=52;o;o-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(e?1:0),s.reverse();var u=s.join(""),c="";for(o=0;o<64;o+=8){var l=parseInt(u.substr(o,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()},L=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r},M=new RegExp("^-?(0*)\\d{1,10}$"),F=function(t){if(M.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},U=function(t){try{t()}catch(t){setTimeout(function(){var e=t.stack||"";throw O("Exception was thrown by user callback.",e),t},Math.floor(0))}},q=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},V=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},B=32,K=768,$=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t}();function H(){return new $("")}function G(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function W(t){return t.pieces_.length-t.pieceNum_}function z(t){var e=t.pieceNum_;return e<t.pieces_.length&&e++,new $(t.pieces_,e)}function Q(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Y(t,e){return void 0===e&&(e=0),t.pieces_.slice(t.pieceNum_+e)}function J(t){if(t.pieceNum_>=t.pieces_.length)return null;for(var e=[],n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new $(e,0)}function X(t,e){for(var n=[],r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof $)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new $(n,0)}function Z(t){return t.pieceNum_>=t.pieces_.length}function tt(t,e){var n=G(t),r=G(e);if(null===n)return e;if(n===r)return tt(z(t),z(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function et(t,e){for(var n=Y(t,0),r=Y(e,0),i=0;i<n.length&&i<r.length;i++){var o=A(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function nt(t,e){if(W(t)!==W(e))return!1;for(var n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function rt(t,e){var n=t.pieceNum_,r=e.pieceNum_;if(W(t)>W(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var it=function(){return function(t,e){this.errorPrefix_=e,this.parts_=Y(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Object(a.H)(this.parts_[n]);ot(this)}}();function ot(t){if(t.byteLength_>K)throw new Error(t.errorPrefix_+"has a key path longer than "+K+" bytes ("+t.byteLength_+").");if(t.parts_.length>B)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+B+") or object contains a cycle "+at(t))}function at(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ut="websocket",ct="long_polling",lt=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=f.get("host:"+t)||this._host}return t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&f.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){var t=this.secure?"https://":"http://",e=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+t+this.host+"/"+e},t}();function ht(t,e,n){var r;if(Object(a.f)("string"==typeof e,"typeof type must == string"),Object(a.f)("object"==typeof n,"typeof params must == object"),e===ut)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==ct)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);var i=[];return P(n,function(t,e){i.push(t+"="+e)}),r+i.join("&")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft,pt=function(t,e){var n=dt(t),r=n.namespace;"firebase.com"===n.domain&&E(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||E("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&O("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new lt(n.host,n.secure,r,e,i,"",r!==n.subdomain),path:new $(n.pathString)}},dt=function(t){var e="",n="",r="",i="",a="",s=!0,u="https",c=443;if("string"==typeof t){var l=t.indexOf("//");l>=0&&(u=t.substring(0,l-1),t=t.substring(l+2));var h=t.indexOf("/");-1===h&&(h=t.length);var f=t.indexOf("?");-1===f&&(f=t.length),e=t.substring(0,Math.min(h,f)),h<f&&(i=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(t){}e+="/"+i}return e}(t.substring(h,f)));var p=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var i=Object(o.g)(t.split("&")),a=i.next();!a.done;a=i.next()){var s=a.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):O("Invalid query segment '"+s+"' in query '"+t+"'")}}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,f)));(l=e.indexOf(":"))>=0?(s="https"===u||"wss"===u,c=parseInt(e.substring(l+1),10)):l=e.length;var d=e.slice(0,l);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),a=r}"ns"in p&&(a=p.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:s,scheme:u,pathString:i,namespace:a}},vt=/[\[\].#$\/\u0000-\u001F\u007F]/,gt=/[\[\].#$\u0000-\u001F\u007F]/,yt=function(t){return"string"==typeof t&&0!==t.length&&!vt.test(t)},mt=function(t){return"string"==typeof t&&0!==t.length&&!gt.test(t)},bt=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!S(t)||t&&"object"==typeof t&&Object(a.k)(t,".sv")},_t=function(t,e,n,r,i){i&&void 0===n||wt(Object(a.o)(t,e,i),n,r)},wt=function(t,e,n){var r=n instanceof $?new it(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+at(r));if("function"==typeof e)throw new Error(t+"contains a function "+at(r)+" with contents = "+e.toString());if(S(e))throw new Error(t+"contains "+e.toString()+" "+at(r));if("string"==typeof e&&e.length>10485760/3&&Object(a.H)(e)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+at(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var i=!1,o=!1;if(P(e,function(e,n){if(".value"===e)i=!0;else if(".priority"!==e&&".sv"!==e&&(o=!0,!yt(e)))throw new Error(t+" contains an invalid key ("+e+") "+at(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var s,u;u=e,(s=r).parts_.length>0&&(s.byteLength_+=1),s.parts_.push(u),s.byteLength_+=Object(a.H)(u),ot(s),wt(t,n,r),function(t){var e=t.parts_.pop();t.byteLength_-=Object(a.H)(e),t.parts_.length>0&&(t.byteLength_-=1)}(r)}),i&&o)throw new Error(t+' contains ".value" child '+at(r)+" in addition to actual children.")}},It=function(t,e,n,r,i){if(!i||void 0!==n){var o=Object(a.o)(t,e,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");var s=[];P(n,function(t,e){var n=new $(t);if(wt(o,e,X(r,n)),".priority"===Q(n)&&!bt(e))throw new Error(o+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(n)}),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=Y(r=e[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!yt(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(et);var a=null;for(n=0;n<e.length;n++){if(r=e[n],null!==a&&rt(a,r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(o,s)}},Tt=function(t,e,n,r){if(!r||void 0!==n){if(S(n))throw new Error(Object(a.o)(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!bt(n))throw new Error(Object(a.o)(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Et=function(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(a.o)(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Ot=function(t,e,n,r){if(!(r&&void 0===n||yt(n)))throw new Error(Object(a.o)(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},St=function(t,e,n,r){if(!(r&&void 0===n||mt(n)))throw new Error(Object(a.o)(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Ct=function(t,e){if(".info"===G(e))throw new Error(t+" failed = Can't modify data under /.info/")},kt=function(t,e,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!yt(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),mt(t)}(r))throw new Error(Object(a.o)(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};var At,Nt,jt,xt=function(t){return"number"==typeof t?"number:"+R(t):"string:"+t},Dt=function(t){if(t.isLeafNode()){var e=t.val();Object(a.f)("string"==typeof e||"number"==typeof e||"object"==typeof e&&Object(a.k)(e,".sv"),"Priority must be a string or number.")}else Object(a.f)(t===ft||t.isEmpty(),"priority of unexpected type.");Object(a.f)(t===ft||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Pt=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Object(a.f)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Dt(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return At},set:function(t){At=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return Z(e)?this:".priority"===G(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=G(e);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Object(a.f)(".priority"!==r||1===W(e),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(z(e),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+xt(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?R(this.value_):this.value_,this.lazyHash_=g(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(Object(a.f)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),o=t.VALUE_TYPE_ORDER.indexOf(r);return Object(a.f)(i>=0,"Unknown leaf type: "+n),Object(a.f)(o>=0,"Unknown leaf type: "+r),i===o?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),Rt=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Lt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Ft.EMPTY_NODE,this.right=null!=o?o:Ft.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Ft.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Ft.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Mt=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Lt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Ft=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Lt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Lt.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Rt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Rt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Rt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Rt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Mt,t}(),Ut=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),qt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new Ut(C,t),r=new Ut(C,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return Ut.MIN},t}();var Vt,Bt,Kt,$t=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?A(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return Ut.MIN},e.prototype.maxPost=function(){return new Ut(k,new Pt("[PRIORITY-POST]",jt))},e.prototype.makePost=function(t,e){var n=Nt(t);return new Ut(e,new Pt("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(qt)),Ht=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return Vt},set:function(t){Vt=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return A(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw Object(a.g)("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return Ut.MIN},e.prototype.maxPost=function(){return new Ut(k,Vt)},e.prototype.makePost=function(t,e){return Object(a.f)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Ut(t,Vt)},e.prototype.toString=function(){return".key"},e}(qt),Gt=new Ht,Wt=Math.log(2),zt=function(){function t(t){var e;this.count=(e=t+1,parseInt(Math.log(e)/Wt,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=t+1&r}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Qt=function(t,e,n,r){t.sort(e);var i=function(e,r){var o,a,s=r-e;if(0===s)return null;if(1===s)return o=t[e],a=n?n(o):o,new Lt(a,o.node,Lt.BLACK,null,null);var u=parseInt(s/2,10)+e,c=i(e,u),l=i(u+1,r);return o=t[u],a=n?n(o):o,new Lt(a,o.node,Lt.BLACK,c,l)},o=function(e){for(var r=null,o=null,a=t.length,s=function(e,r){var o=a-e,s=a;a-=e;var c=i(o+1,s),l=t[o],h=n?n(l):l;u(new Lt(h,l.node,r,null,c))},u=function(t){r?(r.left=t,r=t):(o=t,r=t)},c=0;c<e.count;++c){var l=e.nextBitIsOne(),h=Math.pow(2,e.count-(c+1));l?s(h,Lt.BLACK):(s(h,Lt.BLACK),s(h,Lt.RED))}return o}(new zt(t.length));return new Ft(r||e,o)},Yt={},Jt=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return Object(a.f)(Yt&&$t,"ChildrenNode.ts has not been loaded"),Bt=Bt||new t({".priority":Yt},{".priority":$t})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=Object(a.G)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Ft?e:null},t.prototype.hasIndex=function(t){return Object(a.k)(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){Object(a.f)(e!==Gt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],s=!1,u=n.getIterator(Ut.Wrap),c=u.getNext();c;)s=s||e.isDefinedOn(c.node),i.push(c),c=u.getNext();r=s?Qt(i,e.getCompare()):Yt;var l=e.toString(),h=Object(o.a)({},this.indexSet_);h[l]=e;var f=Object(o.a)({},this.indexes_);return f[l]=r,new t(f,h)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(Object(a.E)(this.indexes_,function(t,i){var o=Object(a.G)(r.indexSet_,i);if(Object(a.f)(o,"Missing index implementation for "+i),t===Yt){if(o.isDefinedOn(e.node)){for(var s=[],u=n.getIterator(Ut.Wrap),c=u.getNext();c;)c.name!==e.name&&s.push(c),c=u.getNext();return s.push(e),Qt(s,o.getCompare())}return Yt}var l=n.get(e.name),h=t;return l&&(h=h.remove(new Ut(e.name,l))),h.insert(e,e.node)}),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(Object(a.E)(this.indexes_,function(t){if(t===Yt)return t;var r=n.get(e.name);return r?t.remove(new Ut(e.name,r)):t}),this.indexSet_)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Xt(t,e){return A(t.name,e.name)}function Zt(t,e){return A(t,e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var te=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Dt(this.priorityNode_),this.children_.isEmpty()&&Object(a.f)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return Kt||(Kt=new t(new Ft(Zt),null,Jt.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||Kt},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?Kt:e},t.prototype.getChild=function(t){var e=G(t);return null===e?this:this.getImmediateChild(e).getChild(z(t))},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(Object(a.f)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new Ut(e,n),i=void 0,o=void 0;return n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_)),new t(i,i.isEmpty()?Kt:this.priorityNode_,o)},t.prototype.updateChild=function(t,e){var n=G(t);if(null===n)return e;Object(a.f)(".priority"!==G(t)||1===W(t),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(z(t),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild($t,function(a,s){n[a]=s.val(e),r++,o&&t.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1}),!e&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+xt(this.getPriority().val())+":"),this.forEachChild($t,function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)}),this.lazyHash_=""===t?"":g(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Ut(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new Ut(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new Ut(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal(function(t){return e(t.name,t.node)}):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,function(t){return t});for(var r=this.children_.getIteratorFrom(t.name,Ut.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,function(t){return t});for(var r=this.children_.getReverseIteratorFrom(t.name,Ut.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===ee?-1:0},t.prototype.withIndex=function(e){if(e===Gt||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Gt||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator($t),r=e.getIterator($t),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Gt?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),ee=new(function(t){function e(){return t.call(this,new Ft(Zt),te.EMPTY_NODE,Jt.Default)||this}return Object(o.c)(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return te.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(te));Object.defineProperties(Ut,{MIN:{value:new Ut(C,te.EMPTY_NODE)},MAX:{value:new Ut(k,ee)}}),Ht.__EMPTY_NODE=te.EMPTY_NODE,Pt.__childrenNodeConstructor=te,ft=ee,function(t){jt=t}(ee);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ne,re=!0;function ie(t,e){if(void 0===e&&(e=null),null===t)return te.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),Object(a.f)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Pt(t,ie(e));if(t instanceof Array||!re){var n=te.EMPTY_NODE;return P(t,function(e,r){if(Object(a.k)(t,e)&&"."!==e.substring(0,1)){var i=ie(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}}),n.updatePriority(ie(e))}var r=[],i=!1;if(P(t,function(t,e){if("."!==t.substring(0,1)){var n=ie(e);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Ut(t,n)))}}),0===r.length)return te.EMPTY_NODE;var o=Qt(r,Xt,function(t){return t.name},Zt);if(i){var s=Qt(r,$t.getCompare());return new te(o,ie(e),new Jt({".priority":s},{".priority":$t}))}return new te(o,ie(e),Jt.Default)}function oe(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t){Nt=t}(ie),function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(ne||(ne={}));var ae,se=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=ne.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return t.prototype.operationForChild=function(e){if(Z(this.path)){if(null!=this.affectedTree.value)return Object(a.f)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new $(e));return new t(H(),n,this.revert)}return Object(a.f)(G(this.path)===e,"operationForChild called for unrelated child."),new t(z(this.path),this.affectedTree,this.revert)},t}(),ue=function(){return ae||(ae=new Ft(N)),ae},ce=function(){function t(t,e){void 0===e&&(e=ue()),this.value=t,this.children=e}return t.fromObject=function(e){var n=new t(null);return P(e,function(t,e){n=n.set(new $(t),e)}),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:H(),value:this.value};if(Z(t))return null;var n=G(t),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(z(t),e);return null!=i?{path:X(new $(n),i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},t.prototype.subtree=function(e){if(Z(e))return this;var n=G(e),r=this.children.get(n);return null!==r?r.subtree(z(e)):new t(null)},t.prototype.set=function(e,n){if(Z(e))return new t(n,this.children);var r=G(e),i=(this.children.get(r)||new t(null)).set(z(e),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(Z(e))return this.children.isEmpty()?new t(null):new t(null,this.children);var n=G(e),r=this.children.get(n);if(r){var i=r.remove(z(e)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new t(null):new t(this.value,o)}return this},t.prototype.get=function(t){if(Z(t))return this.value;var e=G(t),n=this.children.get(e);return n?n.get(z(t)):null},t.prototype.setTree=function(e,n){if(Z(e))return n;var r=G(e),i=(this.children.get(r)||new t(null)).setTree(z(e),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new t(this.value,o)},t.prototype.fold=function(t){return this.fold_(H(),t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal(function(r,i){n[r]=i.fold_(X(t,r),e)}),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,H(),e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(Z(t))return null;var i=G(t),o=this.children.get(i);return o?o.findOnPath_(z(t),X(e,i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,H(),e)},t.prototype.foreachOnPath_=function(e,n,r){if(Z(e))return this;this.value&&r(n,this.value);var i=G(e),o=this.children.get(i);return o?o.foreachOnPath_(z(e),X(n,i),r):new t(null)},t.prototype.foreach=function(t){this.foreach_(H(),t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal(function(n,r){r.foreach_(X(t,n),e)}),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal(function(e,n){n.value&&t(e,n.value)})},t}(),le=function(){function t(t,e){this.source=t,this.path=e,this.type=ne.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return Z(this.path)?new t(this.source,H()):new t(this.source,z(this.path))},t}(),he=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=ne.OVERWRITE}return t.prototype.operationForChild=function(e){return Z(this.path)?new t(this.source,H(),this.snap.getImmediateChild(e)):new t(this.source,z(this.path),this.snap)},t}(),fe=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=ne.MERGE}return t.prototype.operationForChild=function(e){if(Z(this.path)){var n=this.children.subtree(new $(e));return n.isEmpty()?null:n.value?new he(this.source,H(),n.value):new t(this.source,H(),n)}return Object(a.f)(G(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,z(this.path),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),pe=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(Z(t))return this.isFullyInitialized()&&!this.filtered_;var e=G(t);return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function de(t,e){return{eventCache:t,serverCache:e}}function ve(t,e,n,r){return de(new pe(e,n,r),t.serverCache)}function ge(t,e,n,r){return de(t.eventCache,new pe(e,n,r))}function ye(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function me(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(t){return{type:"value",snapshotNode:t}}function _e(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function we(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Ie(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Te=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,o){Object(a.f)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=t.getImmediateChild(e);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?t:(null!=o&&(n.isEmpty()?t.hasChild(e)?o.trackChildChange(we(e,s)):Object(a.f)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(_e(e,n)):o.trackChildChange(Ie(e,n,s))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild($t,function(t,r){e.hasChild(t)||n.trackChildChange(we(t,r))}),e.isLeafNode()||e.forEachChild($t,function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(Ie(e,r,i))}else n.trackChildChange(_e(e,r))})),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?te.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),Ee=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;Object(a.f)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),Object(a.f)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===e&&"child_removed"===i)this.changeMap.set(n,Ie(n,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===e&&"child_changed"===i)this.changeMap.set(n,we(n,r.oldSnap));else if("child_changed"===e&&"child_added"===i)this.changeMap.set(n,_e(n,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==i)throw Object(a.g)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,Ie(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),Oe=function(){function t(t){this.writeTree_=t}return t.empty=function(){return new t(new ce(null))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(t,e,n){if(Z(e))return new Oe(new ce(n));var r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,a=tt(i,e);return o=o.updateChild(a,n),new Oe(t.writeTree_.set(i,o))}var s=new ce(n),u=t.writeTree_.setTree(e,s);return new Oe(u)}function Ce(t,e,n){var r=t;return P(n,function(t,n){r=Se(r,X(e,t),n)}),r}function ke(t,e){if(Z(e))return Oe.empty();var n=t.writeTree_.setTree(e,new ce(null));return new Oe(n)}function Ae(t,e){return null!=Ne(t,e)}function Ne(t,e){var n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(tt(n.path,e)):null}function je(t){var e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild($t,function(t,n){e.push(new Ut(t,n))}):t.writeTree_.children.inorderTraversal(function(t,n){null!=n.value&&e.push(new Ut(t,n.value))}),e}function xe(t,e){if(Z(e))return t;var n=Ne(t,e);return new Oe(null!=n?new ce(n):t.writeTree_.subtree(e))}function De(t){return t.writeTree_.isEmpty()}function Pe(t,e){return function t(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var i=null;return n.children.inorderTraversal(function(n,o){".priority"===n?(Object(a.f)(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):r=t(X(e,n),o,r)}),r.getChild(e).isEmpty()||null===i||(r=r.updateChild(X(e,".priority"),i)),r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(H(),t.writeTree_,e)}function Re(t,e){return ze(e,t)}function Le(t,e){var n=t.allWrites.findIndex(function(t){return t.writeId===e});Object(a.f)(n>=0,"removeWrite called with nonexistent writeId.");var r=t.allWrites[n];t.allWrites.splice(n,1);for(var i=r.visible,o=!1,s=t.allWrites.length-1;i&&s>=0;){var u=t.allWrites[s];u.visible&&(s>=n&&Me(u,r.path)?i=!1:rt(r.path,u.path)&&(o=!0)),s--}if(i){if(o)return function(t){t.visibleWrites=Ue(t.allWrites,Fe,H()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}(t),!0;r.snap?t.visibleWrites=ke(t.visibleWrites,r.path):P(r.children,function(e){t.visibleWrites=ke(t.visibleWrites,X(r.path,e))});return!0}return!1}function Me(t,e){if(t.snap)return rt(t.path,e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&rt(X(t.path,n),e))return!0;return!1}function Fe(t){return t.visible}function Ue(t,e,n){for(var r=Oe.empty(),i=0;i<t.length;++i){var o=t[i];if(e(o)){var s=o.path,u=void 0;if(o.snap)rt(n,s)?r=Se(r,u=tt(n,s),o.snap):rt(s,n)&&(u=tt(s,n),r=Se(r,H(),o.snap.getChild(u)));else{if(!o.children)throw Object(a.g)("WriteRecord should have .snap or .children");if(rt(n,s))r=Ce(r,u=tt(n,s),o.children);else if(rt(s,n))if(Z(u=tt(s,n)))r=Ce(r,H(),o.children);else{var c=Object(a.G)(o.children,G(u));if(c){var l=c.getChild(z(u));r=Se(r,H(),l)}}}}}return r}function qe(t,e,n,r,i){if(r||i){var o=xe(t.visibleWrites,e);if(!i&&De(o))return n;if(i||null!=n||Ae(o,H())){return Pe(Ue(t.allWrites,function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(rt(t.path,e)||rt(e,t.path))},e),n||te.EMPTY_NODE)}return null}var a=Ne(t.visibleWrites,e);if(null!=a)return a;var s=xe(t.visibleWrites,e);return De(s)?n:null!=n||Ae(s,H())?Pe(s,n||te.EMPTY_NODE):null}function Ve(t,e,n,r){return qe(t.writeTree,t.treePath,e,n,r)}function Be(t,e){return function(t,e,n){var r=te.EMPTY_NODE,i=Ne(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild($t,function(t,e){r=r.updateImmediateChild(t,e)}),r;if(n){var o=xe(t.visibleWrites,e);return n.forEachChild($t,function(t,e){var n=Pe(xe(o,new $(t)),e);r=r.updateImmediateChild(t,n)}),je(o).forEach(function(t){r=r.updateImmediateChild(t.name,t.node)}),r}return je(xe(t.visibleWrites,e)).forEach(function(t){r=r.updateImmediateChild(t.name,t.node)}),r}(t.writeTree,t.treePath,e)}function Ke(t,e,n,r){return function(t,e,n,r,i){Object(a.f)(r||i,"Either existingEventSnap or existingServerSnap must exist");var o=X(e,n);if(Ae(t.visibleWrites,o))return null;var s=xe(t.visibleWrites,o);return De(s)?i.getChild(n):Pe(s,i.getChild(n))}(t.writeTree,t.treePath,e,n,r)}function $e(t,e){return function(t,e){return Ne(t.visibleWrites,e)}(t.writeTree,X(t.treePath,e))}function He(t,e,n,r,i,o){return function(t,e,n,r,i,o,a){var s,u=xe(t.visibleWrites,e),c=Ne(u,H());if(null!=c)s=c;else{if(null==n)return[];s=Pe(u,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var l=[],h=a.getCompare(),f=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),p=f.getNext();p&&l.length<i;)0!==h(p,r)&&l.push(p),p=f.getNext();return l}(t.writeTree,t.treePath,e,n,r,i,o)}function Ge(t,e,n){return function(t,e,n,r){var i=X(e,n),o=Ne(t.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?Pe(xe(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function We(t,e){return ze(X(t.treePath,e),t.writeTree)}function ze(t,e){return{treePath:t,writeTree:e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),Ye=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new pe(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ge(this.writes_,t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:me(this.viewCache_),i=He(this.writes_,r,e,1,n,t);return 0===i.length?null:i[0]},t}();function Je(t,e,n,r,i){var o,s,u=new Ee;if(n.type===ne.OVERWRITE){var c=n;c.source.fromUser?o=tn(t,e,c.path,c.snap,r,i,u):(Object(a.f)(c.source.fromServer,"Unknown source."),s=c.source.tagged||e.serverCache.isFiltered()&&!Z(c.path),o=Ze(t,e,c.path,c.snap,r,i,s,u))}else if(n.type===ne.MERGE){var l=n;l.source.fromUser?o=function(t,e,n,r,i,o,a){var s=e;return r.foreach(function(r,u){var c=X(n,r);en(e,G(c))&&(s=tn(t,s,c,u,i,o,a))}),r.foreach(function(r,u){var c=X(n,r);en(e,G(c))||(s=tn(t,s,c,u,i,o,a))}),s}(t,e,l.path,l.children,r,i,u):(Object(a.f)(l.source.fromServer,"Unknown source."),s=l.source.tagged||e.serverCache.isFiltered(),o=rn(t,e,l.path,l.children,r,i,s,u))}else if(n.type===ne.ACK_USER_WRITE){var h=n;o=h.revert?function(t,e,n,r,i,o){var s;if(null!=$e(r,n))return e;var u=new Ye(r,e,i),c=e.eventCache.getNode(),l=void 0;if(Z(n)||".priority"===G(n)){var h=void 0;if(e.serverCache.isFullyInitialized())h=Ve(r,me(e));else{var f=e.serverCache.getNode();Object(a.f)(f instanceof te,"serverChildren would be complete if leaf node"),h=Be(r,f)}h=h,l=t.filter.updateFullNode(c,h,o)}else{var p=G(n),d=Ge(r,p,e.serverCache);null==d&&e.serverCache.isCompleteForChild(p)&&(d=c.getImmediateChild(p)),(l=null!=d?t.filter.updateChild(c,p,d,z(n),u,o):e.eventCache.getNode().hasChild(p)?t.filter.updateChild(c,p,te.EMPTY_NODE,z(n),u,o):c).isEmpty()&&e.serverCache.isFullyInitialized()&&(s=Ve(r,me(e))).isLeafNode()&&(l=t.filter.updateFullNode(l,s,o))}return s=e.serverCache.isFullyInitialized()||null!=$e(r,H()),ve(e,l,s,t.filter.filtersNodes())}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,e,h.path,r,i,u):function(t,e,n,r,i,o,a){if(null!=$e(i,n))return e;var s=e.serverCache.isFiltered(),u=e.serverCache;if(null!=r.value){if(Z(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Ze(t,e,n,u.getNode().getChild(n),i,o,s,a);if(Z(n)){var c=new ce(null);return u.getNode().forEachChild(Gt,function(t,e){c=c.set(new $(t),e)}),rn(t,e,n,c,i,o,s,a)}return e}var l=new ce(null);return r.foreach(function(t,e){var r=X(n,t);u.isCompleteForPath(r)&&(l=l.set(t,u.getNode().getChild(r)))}),rn(t,e,n,l,i,o,s,a)}(t,e,h.path,h.affectedTree,r,i,u)}else{if(n.type!==ne.LISTEN_COMPLETE)throw Object(a.g)("Unknown operation type: "+n.type);o=function(t,e,n,r,i){var o=e.serverCache,a=ge(e,o.getNode(),o.isFullyInitialized()||Z(n),o.isFiltered());return Xe(t,a,n,r,Qe,i)}(t,e,n.path,r,u)}var f=u.getChanges();return function(t,e,n){var r=e.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=ye(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(be(ye(e)))}}(e,o,f),{viewCache:o,changes:f}}function Xe(t,e,n,r,i,o){var s=e.eventCache;if(null!=$e(r,n))return e;var u=void 0,c=void 0;if(Z(n))if(Object(a.f)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){var l=me(e),h=Be(r,l instanceof te?l:te.EMPTY_NODE);u=t.filter.updateFullNode(e.eventCache.getNode(),h,o)}else{var f=Ve(r,me(e));u=t.filter.updateFullNode(e.eventCache.getNode(),f,o)}else{var p=G(n);if(".priority"===p){Object(a.f)(1===W(n),"Can't have a priority with additional path components");var d=s.getNode(),v=Ke(r,n,d,c=e.serverCache.getNode());u=null!=v?t.filter.updatePriority(d,v):s.getNode()}else{var g=z(n),y=void 0;if(s.isCompleteForChild(p)){c=e.serverCache.getNode();var m=Ke(r,n,s.getNode(),c);y=null!=m?s.getNode().getImmediateChild(p).updateChild(g,m):s.getNode().getImmediateChild(p)}else y=Ge(r,p,e.serverCache);u=null!=y?t.filter.updateChild(s.getNode(),p,y,g,i,o):s.getNode()}}return ve(e,u,s.isFullyInitialized()||Z(n),t.filter.filtersNodes())}function Ze(t,e,n,r,i,o,a,s){var u,c=e.serverCache,l=a?t.filter:t.filter.getIndexedFilter();if(Z(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var h=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),h,null)}else{var f=G(n);if(!c.isCompleteForPath(n)&&W(n)>1)return e;var p=z(n),d=c.getNode().getImmediateChild(f).updateChild(p,r);u=".priority"===f?l.updatePriority(c.getNode(),d):l.updateChild(c.getNode(),f,d,p,Qe,null)}var v=ge(e,u,c.isFullyInitialized()||Z(n),l.filtersNodes());return Xe(t,v,n,i,new Ye(i,v,o),s)}function tn(t,e,n,r,i,o,a){var s,u=e.eventCache,c=new Ye(i,e,o);if(Z(n))s=ve(e,t.filter.updateFullNode(e.eventCache.getNode(),r,a),!0,t.filter.filtersNodes());else{var l=G(n);if(".priority"===l)s=ve(e,t.filter.updatePriority(e.eventCache.getNode(),r),u.isFullyInitialized(),u.isFiltered());else{var h=z(n),f=u.getNode().getImmediateChild(l),p=void 0;if(Z(h))p=r;else{var d=c.getCompleteChild(l);p=null!=d?".priority"===Q(h)&&d.getChild(J(h)).isEmpty()?d:d.updateChild(h,r):te.EMPTY_NODE}if(f.equals(p))s=e;else s=ve(e,t.filter.updateChild(u.getNode(),l,p,h,c,a),u.isFullyInitialized(),t.filter.filtersNodes())}}return s}function en(t,e){return t.eventCache.isCompleteForChild(e)}function nn(t,e,n){return n.foreach(function(t,n){e=e.updateChild(t,n)}),e}function rn(t,e,n,r,i,o,a,s){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;var u,c=e;u=Z(n)?r:new ce(null).setTree(n,r);var l=e.serverCache.getNode();return u.children.inorderTraversal(function(n,r){if(l.hasChild(n)){var u=nn(0,e.serverCache.getNode().getImmediateChild(n),r);c=Ze(t,c,new $(n),u,i,o,a,s)}}),u.children.inorderTraversal(function(n,r){var u=!e.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var h=nn(0,e.serverCache.getNode().getImmediateChild(n),r);c=Ze(t,c,new $(n),h,i,o,a,s)}}),c}var on=function(){return function(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}}();function an(t,e,n,r,i,o){var s=r.filter(function(t){return t.type===n});s.sort(function(e,n){return function(t,e,n){if(null==e.childName||null==n.childName)throw Object(a.g)("Should only compare child_ events.");var r=new Ut(e.childName,e.snapshotNode),i=new Ut(n.childName,n.snapshotNode);return t.index_.compare(r,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,e,n)}),s.forEach(function(n){var r=function(t,e,n){return"value"===e.type||"child_removed"===e.type?e:(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_),e)}(t,n,o);i.forEach(function(i){i.respondsTo(n.type)&&e.push(i.createEvent(r,t.query_))})})}var sn,un,cn="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ln=(sn=0,un=[],function(t){var e,n=t===sn;sn=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=cn.charAt(t%64),t=Math.floor(t/64);Object(a.f)(0===t,"Cannot push at time == 0");var i=r.join("");if(n){for(e=11;e>=0&&63===un[e];e--)un[e]=0;un[e]++}else for(e=0;e<12;e++)un[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)i+=cn.charAt(un[e]);return Object(a.f)(20===i.length,"nextPushId: Length should be 20."),i}),hn=function(t){if("2147483647"===t)return"-";var e=F(t);if(null!=e)return""+(e+1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return k;var o=n[i],a=cn.charAt(cn.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},fn=function(t){if("-2147483648"===t)return C;var e=F(t);if(null!=e)return""+(e-1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=cn.charAt(cn.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))},pn=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.c)(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?A(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return Ut.MIN},e.prototype.maxPost=function(){return Ut.MAX},e.prototype.makePost=function(t,e){var n=ie(t);return new Ut(e,n)},e.prototype.toString=function(){return".value"},e}(qt)),dn=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,Object(a.f)(!Z(e)&&".priority"!==G(e),"Can't create PathIndex with empty path or .priority key"),n}return Object(o.c)(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?A(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=ie(t),r=te.EMPTY_NODE.updateChild(this.indexPath_,n);return new Ut(e,r)},e.prototype.maxPost=function(){var t=te.EMPTY_NODE.updateChild(this.indexPath_,ee);return new Ut(k,t)},e.prototype.toString=function(){return Y(this.indexPath_,0).join("/")},e}(qt),vn=function(){function t(e){this.indexedFilter_=new Te(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new Ut(e,n))||(n=te.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=te.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(te.EMPTY_NODE);var i=this;return e.forEachChild($t,function(t,e){i.matches(new Ut(t,e))||(r=r.updateImmediateChild(t,te.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),gn=function(){function t(t){this.rangedFilter_=new vn(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new Ut(e,n))||(n=te.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=te.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=te.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(te.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(t,e){return l(e,t)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();){a=i.getNext();!h&&c(s,a)<=0&&(h=!0),h&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,te.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var o;if(this.reverse_){var s=this.index_.getCompare();o=function(t,e){return s(e,t)}}else o=this.index_.getCompare();var u=t;Object(a.f)(u.numChildren()===this.limit_,"");var c=new Ut(e,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(e)){for(var f=u.getImmediateChild(e),p=r.getChildAfterChild(this.index_,l,this.reverse_);null!=p&&(p.name===e||u.hasChild(p.name));)p=r.getChildAfterChild(this.index_,p,this.reverse_);var d=null==p?1:o(p,c);if(h&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(Ie(e,n,f)),u.updateImmediateChild(e,n);null!=i&&i.trackChildChange(we(e,f));var v=u.updateImmediateChild(e,te.EMPTY_NODE);return null!=p&&this.rangedFilter_.matches(p)?(null!=i&&i.trackChildChange(_e(p.name,p.node)),v.updateImmediateChild(p.name,p.node)):v}return n.isEmpty()?t:h&&o(l,c)>=0?(null!=i&&(i.trackChildChange(we(l.name,l.node)),i.trackChildChange(_e(e,n))),u.updateImmediateChild(e,n).updateImmediateChild(l.name,te.EMPTY_NODE)):t},t}(),yn=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=$t}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},t.prototype.getIndexStartValue=function(){return Object(a.f)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return Object(a.f)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:C},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return Object(a.f)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return Object(a.f)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:k},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return Object(a.f)(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===$t},t.prototype.copy=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t}();function mn(t,e,n){var r=t.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function bn(t,e,n){var r=t.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function _n(t,e){var n=t.copy();return n.index_=e,n}function wn(t){var e,n={};return t.isDefault()?n:(t.index_===$t?e="$priority":t.index_===pn?e="$value":t.index_===Gt?e="$key":(Object(a.f)(t.index_ instanceof dn,"Unrecognized index type!"),e=t.index_.toString()),n.orderBy=Object(a.J)(e),t.startSet_&&(n.startAt=Object(a.J)(t.indexStartValue_),t.startNameSet_&&(n.startAt+=","+Object(a.J)(t.indexStartName_))),t.endSet_&&(n.endAt=Object(a.J)(t.indexEndValue_),t.endNameSet_&&(n.endAt+=","+Object(a.J)(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?n.limitToFirst=t.limit_:n.limitToLast=t.limit_),n)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var In,Tn=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n,r=this.query_.getQueryParams(),i=new Te(r.getIndex()),o=(n=r).loadsAllData()?new Te(n.getIndex()):n.hasLimit()?new gn(n):new vn(n);this.processor_=
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t){return{filter:t}}(o);var a=e.serverCache,s=e.eventCache,u=i.updateFullNode(te.EMPTY_NODE,a.getNode(),null),c=o.updateFullNode(te.EMPTY_NODE,s.getNode(),null),l=new pe(u,a.isFullyInitialized(),i.filtersNodes()),h=new pe(c,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=de(h,l),this.eventGenerator_=new on(this.query_)}return Object.defineProperty(t.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),t}();function En(t,e){var n=me(t.viewCache_);return n&&(t.query.getQueryParams().loadsAllData()||!Z(e)&&!n.getImmediateChild(G(e)).isEmpty())?n.getChild(e):null}function On(t){return 0===t.eventRegistrations_.length}function Sn(t,e,n){var r=[];if(n){Object(a.f)(null==e,"A cancel should cancel all event registrations.");var i=t.query.path;t.eventRegistrations_.forEach(function(t){var e=t.createCancelEvent(n,i);e&&r.push(e)})}if(e){for(var o=[],s=0;s<t.eventRegistrations_.length;++s){var u=t.eventRegistrations_[s];if(u.matches(e)){if(e.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(s+1));break}}else o.push(u)}t.eventRegistrations_=o}else t.eventRegistrations_=[];return r}function Cn(t,e,n,r){e.type===ne.MERGE&&null!==e.source.queryId&&(Object(a.f)(me(t.viewCache_),"We should always have a full cache before handling merges"),Object(a.f)(ye(t.viewCache_),"Missing event cache, even though we have a server cache"));var i,o,s=t.viewCache_,u=Je(t.processor_,s,e,n,r);return i=t.processor_,o=u.viewCache,Object(a.f)(o.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Object(a.f)(o.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),Object(a.f)(u.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=u.viewCache,kn(t,u.changes,u.viewCache.eventCache.getNode(),null)}function kn(t,e,n,r){var i=r?[r]:t.eventRegistrations_;return function(t,e,n,r){var i=[],o=[];return e.forEach(function(e){var n;"child_changed"===e.type&&t.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push((n=e.childName,{type:"child_moved",snapshotNode:e.snapshotNode,childName:n}))}),an(t,i,"child_removed",e,r,n),an(t,i,"child_added",e,r,n),an(t,i,"child_moved",o,r,n),an(t,i,"child_changed",e,r,n),an(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var An=function(){return function(){this.views=new Map}}();function Nn(t,e,n,r){var i,s,u=e.source.queryId;if(null!==u){var c=t.views.get(u);return Object(a.f)(null!=c,"SyncTree gave us an op for an invalid query."),Cn(c,e,n,r)}var l=[];try{for(var h=Object(o.g)(t.views.values()),f=h.next();!f.done;f=h.next()){c=f.value;l=l.concat(Cn(c,e,n,r))}}catch(t){i={error:t}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}return l}function jn(t,e,n,r,i){var o=e.queryIdentifier(),a=t.views.get(o);if(!a){var s=Ve(n,i?r:null),u=!1;s?u=!0:r instanceof te?(s=Be(n,r),u=!1):(s=te.EMPTY_NODE,u=!1);var c=de(new pe(s,u,!1),new pe(r,i,!1));return new Tn(e,c)}return a}function xn(t,e,n,r,i,o){var a=jn(t,e,r,i,o);return t.views.has(e.queryIdentifier())||t.views.set(e.queryIdentifier(),a),function(t,e){t.eventRegistrations_.push(e)}(a,n),function(t,e){var n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild($t,function(t,e){r.push(_e(t,e))}),n.isFullyInitialized()&&r.push(be(n.getNode())),kn(t,r,n.getNode(),e)}(a,n)}function Dn(t,e,n,r){var i,s,u=e.queryIdentifier(),c=[],l=[],h=Fn(t);if("default"===u)try{for(var f=Object(o.g)(t.views.entries()),p=f.next();!p.done;p=f.next()){var d=Object(o.e)(p.value,2),v=d[0],g=d[1];l=l.concat(Sn(g,n,r)),On(g)&&(t.views.delete(v),g.query.getQueryParams().loadsAllData()||c.push(g.query))}}catch(t){i={error:t}}finally{try{p&&!p.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}else(g=t.views.get(u))&&(l=l.concat(Sn(g,n,r)),On(g)&&(t.views.delete(u),g.query.getQueryParams().loadsAllData()||c.push(g.query)));return h&&!Fn(t)&&c.push(new(Object(a.f)(In,"Reference.ts has not been loaded"),In)(e.repo,e.path)),{removed:c,events:l}}function Pn(t){var e,n,r=[];try{for(var i=Object(o.g)(t.views.values()),a=i.next();!a.done;a=i.next()){var s=a.value;s.query.getQueryParams().loadsAllData()||r.push(s)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function Rn(t,e){var n,r,i=null;try{for(var a=Object(o.g)(t.views.values()),s=a.next();!s.done;s=a.next()){var u=s.value;i=i||En(u,e)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i}function Ln(t,e){if(e.getQueryParams().loadsAllData())return Un(t);var n=e.queryIdentifier();return t.views.get(n)}function Mn(t,e){return null!=Ln(t,e)}function Fn(t){return null!=Un(t)}function Un(t){var e,n;try{for(var r=Object(o.g)(t.views.values()),i=r.next();!i.done;i=r.next()){var a=i.value;if(a.query.getQueryParams().loadsAllData())return a}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qn=1,Vn=function(){return function(t){this.listenProvider_=t,this.syncPointTree_=new ce(null),this.pendingWriteTree_={visibleWrites:Oe.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}();function Bn(t,e,n,r,i){return function(t,e,n,r,i){Object(a.f)(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Se(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?Yn(t,new he({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function Kn(t,e,n,r){!function(t,e,n,r){Object(a.f)(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Ce(t.visibleWrites,e,n),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r);var i=ce.fromObject(n);return Yn(t,new fe({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,i))}function $n(t,e,n){void 0===n&&(n=!1);var r=function(t,e){for(var n=0;n<t.allWrites.length;n++){var r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(Le(t.pendingWriteTree_,e)){var i=new ce(null);return null!=r.snap?i=i.set(H(),!0):P(r.children,function(t){i=i.set(new $(t),!0)}),Yn(t,new se(r.path,i,n))}return[]}function Hn(t,e,n){return Yn(t,new he({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function Gn(t,e,n,r){var i=e.path,o=t.syncPointTree_.get(i),a=[];if(o&&("default"===e.queryIdentifier()||Mn(o,e))){var s=Dn(o,e,n,r);0===o.views.size&&(t.syncPointTree_=t.syncPointTree_.remove(i));var u=s.removed;a=s.events;var c=-1!==u.findIndex(function(t){return t.getQueryParams().loadsAllData()}),l=t.syncPointTree_.findOnPath(i,function(t,e){return Fn(e)});if(c&&!l){var h=t.syncPointTree_.subtree(i);if(!h.isEmpty())for(var f=function(t){return t.fold(function(t,e,n){if(e&&Fn(e)){var r=Un(e);return[r]}var i=[];return e&&(i=Pn(e)),P(n,function(t,e){i=i.concat(e)}),i})}(h),p=0;p<f.length;++p){var d=f[p],v=d.query,g=Jn(t,d);t.listenProvider_.startListening(rr(v),Xn(t,v),g.hashFn,g.onComplete)}}if(!l&&u.length>0&&!r)if(c){t.listenProvider_.stopListening(rr(e),null)}else u.forEach(function(e){var n=t.queryToTagMap.get(Zn(e));t.listenProvider_.stopListening(rr(e),n)});!function(t,e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=Zn(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}(t,u)}return a}function Wn(t,e,n){var r=e.path,i=null,o=!1;t.syncPointTree_.foreachOnPath(r,function(t,e){var n=tt(t,r);i=i||Rn(e,n),o=o||Fn(e)});var s,u=t.syncPointTree_.get(r);(u?(o=o||Fn(u),i=i||Rn(u,H())):(u=new An,t.syncPointTree_=t.syncPointTree_.set(r,u)),null!=i)?s=!0:(s=!1,i=te.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild(function(t,e){var n=Rn(e,H());n&&(i=i.updateImmediateChild(t,n))}));var c=Mn(u,e);if(!c&&!e.getQueryParams().loadsAllData()){var l=Zn(e);Object(a.f)(!t.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=qn++;t.queryToTagMap.set(l,h),t.tagToQueryMap.set(h,l)}var f=xn(u,e,n,Re(t.pendingWriteTree_,r),i,s);if(!c&&!o){var p=Ln(u,e);f=f.concat(function(t,e,n){var r=e.path,i=Xn(t,e),o=Jn(t,n),s=t.listenProvider_.startListening(rr(e),i,o.hashFn,o.onComplete),u=t.syncPointTree_.subtree(r);if(i)Object(a.f)(!Fn(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold(function(t,e,n){if(!Z(t)&&e&&Fn(e))return[Un(e).query];var r=[];return e&&(r=r.concat(Pn(e).map(function(t){return t.query}))),P(n,function(t,e){r=r.concat(e)}),r}),l=0;l<c.length;++l){var h=c[l];t.listenProvider_.stopListening(rr(h),Xn(t,h))}return s}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,e,p))}return f}function zn(t,e,n){var r=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,function(t,n){var r=Rn(n,tt(t,e));if(r)return r});return qe(r,e,i,n,!0)}function Qn(t,e){var n=e.path,r=null;t.syncPointTree_.foreachOnPath(n,function(t,e){var i=tt(t,n);r=r||Rn(e,i)});var i=t.syncPointTree_.get(n);i?r=r||Rn(i,H()):(i=new An,t.syncPointTree_=t.syncPointTree_.set(n,i));var o=null!=r,a=o?new pe(r,!0,!1):null;return function(t){return ye(t.viewCache_)}(jn(i,e,Re(t.pendingWriteTree_,e.path),o?a.getNode():te.EMPTY_NODE,o))}function Yn(t,e){return function t(e,n,r,i){if(Z(e.path))return function t(e,n,r,i){var o=n.get(H());null==r&&null!=o&&(r=Rn(o,H()));var a=[];n.children.inorderTraversal(function(n,o){var s=r?r.getImmediateChild(n):null,u=We(i,n),c=e.operationForChild(n);c&&(a=a.concat(t(c,o,s,u)))});o&&(a=a.concat(Nn(o,e,i,r)));return a}(e,n,r,i);var o=n.get(H());null==r&&null!=o&&(r=Rn(o,H()));var a=[],s=G(e.path),u=e.operationForChild(s),c=n.children.get(s);if(c&&u){var l=r?r.getImmediateChild(s):null,h=We(i,s);a=a.concat(t(u,c,l,h))}return o&&(a=a.concat(Nn(o,e,i,r))),a}(e,t.syncPointTree_,null,Re(t.pendingWriteTree_,H()))}function Jn(t,e){var n=e.query,r=Xn(t,n);return{hashFn:function(){return(function(t){return t.viewCache_.serverCache.getNode()}(e)||te.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return r?function(t,e,n){var r=tr(t,n);if(r){var i=er(r),o=i.path,a=i.queryId,s=tt(o,e);return nr(t,o,new le(oe(a),s))}return[]}(t,n.path,r):function(t,e){return Yn(t,new le({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n.path);var i=L(e,n);return Gn(t,n,null,i)}}}function Xn(t,e){var n=Zn(e);return t.queryToTagMap.get(n)}function Zn(t){return t.path.toString()+"$"+t.queryIdentifier()}function tr(t,e){return t.tagToQueryMap.get(e)}function er(t){var e=t.indexOf("$");return Object(a.f)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new $(t.substr(0,e))}}function nr(t,e,n){var r=t.syncPointTree_.get(e);return Object(a.f)(r,"Missing sync point for query tag that we're tracking"),Nn(r,n,Re(t.pendingWriteTree_,e),null)}function rr(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t}var ir=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),or=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=X(this.path_,e);return new t(this.syncTree_,n)},t.prototype.node=function(){return zn(this.syncTree_,this.path_)},t}(),ar=function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t},sr=function(t,e,n){return t&&"object"==typeof t?(Object(a.f)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?ur(t[".sv"],e,n):"object"==typeof t[".sv"]?cr(t[".sv"],e):void Object(a.f)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},ur=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Object(a.f)(!1,"Unexpected server value: "+t)}},cr=function(t,e,n){t.hasOwnProperty("increment")||Object(a.f)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!=typeof r&&Object(a.f)(!1,"Unexpected increment value: "+r);var i=e.node();if(Object(a.f)(null!==i&&void 0!==i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var o=i.getValue();return"number"!=typeof o?r:o+r},lr=function(t,e,n,r){return fr(e,new or(n,t),r)},hr=function(t,e,n){return fr(t,new ir(e),n)};function fr(t,e,n){var r,i=t.getPriority().val(),o=sr(i,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var a=t,s=sr(a.getValue(),e,n);return s!==a.getValue()||o!==a.getPriority().val()?new Pt(s,ie(o)):t}var u=t;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new Pt(o))),u.forEachChild($t,function(t,i){var o=fr(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))}),r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(){return{value:null,children:new Map}}function dr(t,e,n){if(Z(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{var r=G(e);t.children.has(r)||t.children.set(r,pr()),dr(t.children.get(r),e=z(e),n)}}function vr(t,e,n){null!==t.value?n(e,t.value):function(t,e){t.children.forEach(function(t,n){e(n,t)})}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,function(t,r){vr(r,new $(e.toString()+"/"+t),n)})}var gr=function(){function t(){this.rootNode_=te.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),yr=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),Object(a.k)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return Object(a.m)(this.counters_)},t}(),mr={},br={};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(t){var e=t.toString();return mr[e]||(mr[e]=new yr),mr[e]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var wr=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=Object(o.a)({},t);return this.last_&&P(this.last_,function(t,n){e[t]=e[t]-n}),this.last_=t,e},t}(),Ir=1e4,Tr=3e4,Er=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new wr(t);var n=Ir+(Tr-Ir)*Math.random();V(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.reportStats_=function(){var t=this,e={},n=!1;P(this.statsListener_.get(),function(r,i){i>0&&Object(a.k)(t.statsToReport_,r)&&(e[r]=i,n=!0)}),n&&this.server_.reportStats(e),V(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Or=function(){return function(){this.eventLists_=[],this.recursionDepth_=0}}();function Sr(t,e){for(var n=null,r=0;r<e.length;r++){var i=e[r],o=i.getPath();null===n||nt(o,n.path)||(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function Cr(t,e,n){Sr(t,n),Ar(t,function(t){return nt(t,e)})}function kr(t,e,n){Sr(t,n),Ar(t,function(t){return rt(t,e)||rt(e,t)})}function Ar(t,e){t.recursionDepth_++;for(var n=!0,r=0;r<t.eventLists_.length;r++){var i=t.eventLists_[r];if(i)e(i.path)?(Nr(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}n&&(t.eventLists_=[]),t.recursionDepth_--}function Nr(t){for(var e=0;e<t.events.length;e++){var n=t.events[e];if(null!==n){t.events[e]=null;var r=n.getEventRunner();m&&w("event: "+n.toString()),U(r)}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jr=function(){function t(t){this.allowedEvents_=t,this.listeners_={},Object(a.f)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=Object(o.f)([],Object(o.e)(this.listeners_[t])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){Object(a.f)(this.allowedEvents_.find(function(e){return e===t}),"Unknown event: "+t)},t}(),xr=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))},!1),r}return Object(o.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(a.f)("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(jr),Dr=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Object(a.x)()||(window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)),e}return Object(o.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(a.f)("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(jr),Pr=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&U(function(){n.onMessage_(t[e])})},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},t}(),Rr="pLPCommand",Lr="pRTLPCB",Mr=function(){function t(t,e,n,r,i){this.connId=t,this.repoInfo=e,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=I(t),this.stats_=_r(e),this.urlFn=function(t){return ht(e,ct,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Pr(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if(Object(a.z)()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(function(){if(!n.isClosed_){n.scriptTagHolder=new Fr(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(o.e)(t,5),i=r[0],a=r[1],s=r[2];r[3],r[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===i)n.id=a,n.password=s;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(o.e)(t,2),i=r[0],a=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)},function(){n.onClosed_()},n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),"undefined"!=typeof location&&location.hostname&&st.test(location.hostname)&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!Object(a.z)()&&(!!t.forceAllow_||!(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=Object(a.J)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=Object(a.i)(e),r=D(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!Object(a.z)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=Object(a.J)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),Fr=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(a.z)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=v(),window[Rr+this.uniqueCallbackIdentifier]=e,window[Lr+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var o="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))o='<script>document.domain="'+document.domain+'";<\/script>';var s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(t){w("frame writing exception"),t.stack&&w(t.stack),w(t)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||w("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,function(){clearTimeout(i),r()})},t.prototype.addTag=function(t,e){var n=this;Object(a.z)()?this.doNodeLongPoll(t,e):setTimeout(function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){w("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(t){}},Math.floor(1))},t}(),Ur="";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(t){Ur=t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vr=null;"undefined"!=typeof MozWebSocket?Vr=MozWebSocket:"undefined"!=typeof WebSocket&&(Vr=WebSocket);var Br=function(){function e(t,n,r,i,o){this.connId=t,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=I(this.connId),this.stats_=_r(n),this.connURL=e.connectionURL_(n,i,o),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(t,e,n){var r={v:"5"};return!Object(a.z)()&&"undefined"!=typeof location&&location.hostname&&st.test(location.hostname)&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),ht(t,ut,r)},e.prototype.open=function(e,n){var r=this;this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,f.set("previous_websocket_failure",!0);try{if(Object(a.z)()){var i=this.nodeAdmin?"AdminNode":"Node",o={headers:{"User-Agent":"Firebase/5/"+Ur+"/"+t.platform+"/"+i,"X-Firebase-GMPID":this.applicationId||""}},s=Object({NODE_ENV:"production"}),u=0===this.connURL.indexOf("wss://")?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;u&&(o.proxy={origin:u}),this.mySock=new Vr(this.connURL,[],o)}else{o={headers:{"X-Firebase-GMPID":this.applicationId||""}};this.mySock=new Vr(this.connURL,[],o)}}catch(t){this.log_("Error instantiating WebSocket.");var c=t.message||t.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(t){r.handleIncomingFrame(t)},this.mySock.onerror=function(t){r.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&r.log_(e),r.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==Vr&&!e.forceDisallow_},e.previouslyFailed=function(){return f.isInMemoryStorage||!0===f.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){f.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=Object(a.D)(e);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},e.prototype.extractFrameCount_=function(t){if(Object(a.f)(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},e.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(t){this.resetKeepAlive();var e=Object(a.J)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=D(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(45e3))},e.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),Kr=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[Mr,Br]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=Br&&Br.isAvailable(),a=i&&!Br.previouslyFailed();if(e.webSocketOnly&&(i||O("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[Br];else{var s=this.transports_=[];try{for(var u=Object(o.g)(t.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&s.push(l)}}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),$r=function(){function t(t,e,n,r,i,o,a,s){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=a,this.lastSessionId=s,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=I("c:"+this.id+":"),this.transportManager_=new Kr(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(n,r)},Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=V(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){var e={t:"d",d:t};this.sendData_(e)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=j("t",t),n=j("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=j("t",t),n=j("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=j("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?T("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):T("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&O("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),V(function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())},Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):V(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(f.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),Hr=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),Gr=1e3,Wr=3e5,zr=function(t){function e(n,r,i,o,s,u,c){var l=t.call(this)||this;if(l.repoInfo_=n,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=o,l.onServerInfoUpdate_=s,l.authTokenProvider_=u,l.authOverride_=c,l.id=e.nextPersistentConnectionId_++,l.log_=I("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=Gr,l.maxReconnectDelay_=Wr,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!Object(a.z)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return l.scheduleConnect_(0),xr.getInstance().on("visible",l.onVisible_,l),-1===n.host.indexOf("fblocal")&&Dr.getInstance().on("online",l.onOnline_,l),l}return Object(o.c)(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_(Object(a.J)(i)),Object(a.f)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.get=function(t){var e=this,n=new a.a,r={p:t.path.toString(),q:t.queryObject()},i={action:"g",request:r,onComplete:function(t){var i=t.d;"ok"===t.s?(e.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var o=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var t=e.outstandingGets_[o];void 0!==t&&i===t&&(delete e.outstandingGets_[o],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),e.log_("get "+o+" timed out on connection"),n.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(o),n.promise},e.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),o=t.path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),Object(a.f)(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),Object(a.f)(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(o).set(i,s),this.connected_&&this.sendListen_(s)},e.prototype.sendGet_=function(t){var e=this,n=this.outstandingGets_[t];this.sendRequest("g",n.request,function(r){delete e.outstandingGets_[t],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var a={p:i};t.tag&&(a.q=r.queryObject(),a.t=t.tag),a.h=t.hashFn(),this.sendRequest("q",a,function(a){var s=a.d,u=a.s;e.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),t.onComplete&&t.onComplete(u,s))})},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&Object(a.k)(t,"w")){var n=Object(a.G)(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',i=e.path.toString();O("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||Object(a.q)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=Object(a.C)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))})}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),Object(a.f)(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,function(t){r&&setTimeout(function(){r(t.s,t.d)},Math.floor(0))})},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)})},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,function(t){if("ok"!==t.s){var n=t.d;e.log_("reportStats","Error sending stats: "+n)}})}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+Object(a.J)(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):T("Unrecognized action received from server: "+Object(a.J)(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;Object(a.f)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){e.establishConnectionTimer_=null,e.establishConnection_()},Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Gr,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Gr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Gr),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){var t=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,s=this,u=this.lastSessionId,c=!1,l=null,h=function(){l?l.close():(c=!0,i())};this.realtime_={close:h,sendRequest:function(t){Object(a.f)(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(t)}};var f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(f).then(function(t){c?w("getToken() completed but was canceled"):(w("getToken() completed. Creating connection."),s.authToken_=t&&t.accessToken,l=new $r(o,s.repoInfo_,s.applicationId_,n,r,i,function(t){O(t+" ("+s.repoInfo_.toString()+")"),s.interrupt("server_kill")},u))}).then(null,function(e){s.log_("Failed to get token: "+e),c||(t.repoInfo_.nodeAdmin&&O(e),h())})}},e.prototype.interrupt=function(t){w("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){w("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Object(a.u)(this.interruptReasons_)&&(this.reconnectDelay_=Gr,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map(function(t){return x(t)}).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new $(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){w("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth();try{for(var i=Object(o.g)(this.listens.values()),a=i.next();!a.done;a=i.next()){var s=a.value;try{for(var u=(n=void 0,Object(o.g)(s.values())),c=u.next();!c.done;c=u.next()){var l=c.value;this.sendListen_(l)}}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var h=0;h<this.outstandingPuts_.length;h++)this.outstandingPuts_[h]&&this.sendPut_(h);for(;this.onDisconnectRequestQueue_.length;){var f=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(f.action,f.pathString,f.data,f.onComplete)}for(h=0;h<this.outstandingGets_.length;h++)this.outstandingGets_[h]&&this.sendGet_(h)},e.prototype.sendConnectStats_=function(){var t={},e="js";Object(a.z)()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+Ur.replace(/\./g,"-")]=1,Object(a.x)()?t["framework.cordova"]=1:Object(a.A)()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=Dr.getInstance().currentlyOnline();return Object(a.u)(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(Hr),Qr=function(t){function e(e,n,r){var i=t.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=I("p:rest:"),i.listens_={},i}return Object(o.c)(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(Object(a.f)(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,r,i){var o=this,s=t.path.toString();this.log_("Listen called for "+s+" "+t.queryIdentifier());var u=e.getListenId_(t,r),c={};this.listens_[u]=c;var l=wn(t.getQueryParams());this.restRequest_(s+".json",l,function(t,e){var n=e;(404===t&&(n=null,t=null),null===t&&o.onDataUpdate_(s,n,!1,r),Object(a.G)(o.listens_,u)===c)&&i(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)})},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.get=function(t){var e=this,n=wn(t.getQueryParams()),r=t.path.toString(),i=new a.a;return this.restRequest_(r+".json",n,function(t,n){var o=n;404===t&&(o=null,t=null),null===t?(e.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))}),i.promise},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then(function(i){var o=i&&i.accessToken;o&&(e.auth=o);var s=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+Object(a.F)(e);r.log_("Sending REST request for "+s);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(n&&4===u.readyState){r.log_("REST Response for "+s+" received. status:",u.status,"response:",u.responseText);var t=null;if(u.status>=200&&u.status<300){try{t=Object(a.D)(u.responseText)}catch(t){O("Failed to parse JSON response for "+s+": "+u.responseText)}n(null,t)}else 401!==u.status&&404!==u.status&&O("Got unsuccessful REST response for "+s+" Status: "+u.status),n(u.status);n=null}},u.open("GET",s,!0),u.send()})},e}(Hr),Yr=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return Object(a.K)("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return Object(a.K)("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return Object(a.K)("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return Object(a.K)("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){Object(a.K)("DataSnapshot.child",0,1,arguments.length),e=String(e),St("DataSnapshot.child",1,e,!1);var n=new $(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,$t)},t.prototype.hasChild=function(t){Object(a.K)("DataSnapshot.hasChild",1,1,arguments.length),St("DataSnapshot.hasChild",1,t,!1);var e=new $(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return Object(a.K)("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;return Object(a.K)("DataSnapshot.forEach",1,1,arguments.length),Object(a.L)("DataSnapshot.forEach",1,e,!1),!this.node_.isLeafNode()&&!!this.node_.forEachChild(this.index_,function(r,i){return e(new t(i,n.ref_.child(r),$t))})},t.prototype.hasChildren=function(){return Object(a.K)("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return Object(a.K)("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return Object(a.K)("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Jr=function(){return function(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n={children:{},childCount:0}),this.name=t,this.parent=e,this.node=n}}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(t,e){for(var n=e instanceof $?e:new $(e),r=t,i=G(n);null!==i;){var o=Object(a.G)(r.node.children,i)||{children:{},childCount:0};r=new Jr(i,r,o),i=G(n=z(n))}return r}function Zr(t){return t.node.value}function ti(t,e){t.node.value=e,ii(t)}function ei(t){return t.node.childCount>0}function ni(t,e){P(t.node.children,function(n,r){e(new Jr(n,t,r))})}function ri(t){return new $(null===t.parent?t.name:ri(t.parent)+"/"+t.name)}function ii(t){null!==t.parent&&function(t,e,n){var r=function(t){return void 0===Zr(t)&&!ei(t)}(n),i=Object(a.k)(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,ii(t)):r||i||(t.node.children[e]=n.node,t.node.childCount++,ii(t))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t.parent,t.name,t)}var oi="repo_interrupt",ai=25,si=function(){function t(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.app=n,this.authTokenProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Or,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=pr(),this.transactionQueueTree_=new Jr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t}();function ui(t){if(t.stats_=_r(t.repoInfo_),t.forceRestClient_||q())t.server_=new Qr(t.repoInfo_,function(e,n,r,i){hi(t,e,n,r,i)},t.authTokenProvider_),setTimeout(function(){return fi(t,!0)},0);else{var e=t.app.options.databaseAuthVariableOverride;if(void 0!==e&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(a.J)(e)}catch(t){throw new Error("Invalid authOverride provided: "+t)}}t.persistentConnection_=new zr(t.repoInfo_,t.app.options.appId,function(e,n,r,i){hi(t,e,n,r,i)},function(e){fi(t,e)},function(e){!function(t,e){P(e,function(e,n){pi(t,e,n)})}(t,e)},t.authTokenProvider_,e),t.server_=t.persistentConnection_}var n,r,i;t.authTokenProvider_.addTokenChangeListener(function(e){t.server_.refreshAuthToken(e)}),t.statsReporter_=(n=t.repoInfo_,r=function(){return new Er(t.stats_,t.server_)},i=n.toString(),br[i]||(br[i]=r()),br[i]),t.infoData_=new gr,t.infoSyncTree_=new Vn({startListening:function(e,n,r,i){var o=[],a=t.infoData_.getNode(e.path);return a.isEmpty()||(o=Hn(t.infoSyncTree_,e.path,a),setTimeout(function(){i("ok")},0)),o},stopListening:function(){}}),pi(t,"connected",!1),t.serverSyncTree_=new Vn({startListening:function(e,n,r,i){return t.server_.listen(e,r,n,function(n,r){var o=i(n,r);kr(t.eventQueue_,e.path,o)}),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})}function ci(t){var e=t.infoData_.getNode(new $(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function li(t){return ar({timestamp:ci(t)})}function hi(t,e,n,r,i){t.dataUpdateCount++;var o=new $(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;var s=[];if(i)if(r){var u=Object(a.E)(n,function(t){return ie(t)});s=function(t,e,n,r){var i=tr(t,r);if(i){var o=er(i),a=o.path,s=o.queryId,u=tt(a,e),c=ce.fromObject(n);return nr(t,a,new fe(oe(s),u,c))}return[]}(t.serverSyncTree_,o,u,i)}else{var c=ie(n);s=function(t,e,n,r){var i=tr(t,r);if(null!=i){var o=er(i),a=o.path,s=o.queryId,u=tt(a,e);return nr(t,a,new he(oe(s),u,n))}return[]}(t.serverSyncTree_,o,c,i)}else if(r){var l=Object(a.E)(n,function(t){return ie(t)});s=function(t,e,n){var r=ce.fromObject(n);return Yn(t,new fe({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,o,l)}else{var h=ie(n);s=Hn(t.serverSyncTree_,o,h)}var f=o;s.length>0&&(f=Si(t,o)),kr(t.eventQueue_,f,s)}function fi(t,e){pi(t,"connected",e),!1===e&&function(t){_i(t,"onDisconnectEvents");var e=li(t),n=pr();vr(t.onDisconnect_,H(),function(r,i){var o=lr(r,i,t.serverSyncTree_,e);dr(n,r,o)});var r=[];vr(n,H(),function(e,n){r=r.concat(Hn(t.serverSyncTree_,e,n));var i=Ni(t,e);Si(t,i)}),t.onDisconnect_=pr(),kr(t.eventQueue_,H(),r)}(t)}function pi(t,e,n){var r=new $("/.info/"+e),i=ie(n);t.infoData_.updateSnapshot(r,i);var o=Hn(t.infoSyncTree_,r,i);kr(t.eventQueue_,r,o)}function di(t){return t.nextWriteId_++}function vi(t,e,n,r,i){_i(t,"set",{path:e.toString(),value:n,priority:r});var o=li(t),a=ie(n,r),s=zn(t.serverSyncTree_,e),u=hr(a,s,o),c=di(t),l=Bn(t.serverSyncTree_,e,u,c,!0);Sr(t.eventQueue_,l),t.server_.put(e.toString(),a.val(!0),function(n,r){var o="ok"===n;o||O("set at "+e+" failed: "+n);var a=$n(t.serverSyncTree_,c,!o);kr(t.eventQueue_,e,a),wi(t,i,n,r)});var h=Ni(t,e);Si(t,h),kr(t.eventQueue_,h,[])}function gi(t,e,n){t.server_.onDisconnectCancel(e.toString(),function(r,i){"ok"===r&&function t(e,n){if(Z(n))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var r=e.value;return e.value=null,r.forEachChild($t,function(t,n){dr(e,new $(t),n)}),t(e,n)}if(e.children.size>0){var i=G(n);return n=z(n),e.children.has(i)&&t(e.children.get(i),n)&&e.children.delete(i),0===e.children.size}return!0}(t.onDisconnect_,e),wi(t,n,r,i)})}function yi(t,e,n,r){var i=ie(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),function(n,o){"ok"===n&&dr(t.onDisconnect_,e,i),wi(t,r,n,o)})}function mi(t,e,n){var r;r=".info"===G(e.path)?Wn(t.infoSyncTree_,e,n):Wn(t.serverSyncTree_,e,n),Cr(t.eventQueue_,e.path,r)}function bi(t){t.persistentConnection_&&t.persistentConnection_.interrupt(oi)}function _i(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),w.apply(void 0,Object(o.f)([r],Object(o.e)(e)))}function wi(t,e,n,r){e&&U(function(){if("ok"===n)e(null);else{var t=(n||"error").toUpperCase(),i=t;r&&(i+=": "+r);var o=new Error(i);o.code=t,e(o)}})}function Ii(t){return t.__database||(t.__database=new Wi(t))}function Ti(t,e,n,r,i){_i(t,"transaction on "+e);var o=function(){},s=new qi(t,e);s.on("value",o);var u={path:e,update:n,onComplete:r,status:null,order:v(),applyLocally:i,retryCount:0,unwatcher:function(){s.off("value",o)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=Ei(t,e,void 0);u.currentInputSnapshot=c;var l=u.update(c.val());if(void 0===l){if(u.unwatcher(),u.currentOutputSnapshotRaw=null,u.currentOutputSnapshotResolved=null,u.onComplete){var h=new Yr(u.currentInputSnapshot,new qi(t,u.path),$t);u.onComplete(null,!1,h)}}else{wt("transaction failed: Data returned ",l,u.path),u.status=0;var f=Xr(t.transactionQueueTree_,e),p=Zr(f)||[];p.push(u),ti(f,p);var d=void 0;if("object"==typeof l&&null!==l&&Object(a.k)(l,".priority"))d=Object(a.G)(l,".priority"),Object(a.f)(bt(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else d=(zn(t.serverSyncTree_,e)||te.EMPTY_NODE).getPriority().val();var g=li(t),y=ie(l,d),m=hr(y,c,g);u.currentOutputSnapshotRaw=y,u.currentOutputSnapshotResolved=m,u.currentWriteId=di(t);var b=Bn(t.serverSyncTree_,e,m,u.currentWriteId,u.applyLocally);kr(t.eventQueue_,e,b),Oi(t,t.transactionQueueTree_)}}function Ei(t,e,n){return zn(t.serverSyncTree_,e,n)||te.EMPTY_NODE}function Oi(t,e){if(void 0===e&&(e=t.transactionQueueTree_),e||Ai(t,e),Zr(e)){var n=ki(t,e);Object(a.f)(n.length>0,"Sending zero length transaction queue"),n.every(function(t){return 0===t.status})&&function(t,e,n){for(var r=n.map(function(t){return t.currentWriteId}),i=Ei(t,e,r),o=i,s=i.hash(),u=0;u<n.length;u++){var c=n[u];Object(a.f)(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var l=tt(e,c.path);o=o.updateChild(l,c.currentOutputSnapshotRaw)}var h=o.val(!0),f=e;t.server_.put(f.toString(),h,function(r){_i(t,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=0;a<n.length;a++){if(n[a].status=2,i=i.concat($n(t.serverSyncTree_,n[a].currentWriteId)),n[a].onComplete){var s=n[a].currentOutputSnapshotResolved,u=new qi(t,n[a].path),c=new Yr(s,u,$t);o.push(n[a].onComplete.bind(null,null,!0,c))}n[a].unwatcher()}Ai(t,Xr(t.transactionQueueTree_,e)),Oi(t,t.transactionQueueTree_),kr(t.eventQueue_,e,i);for(var a=0;a<o.length;a++)U(o[a])}else{if("datastale"===r)for(var a=0;a<n.length;a++)3===n[a].status?n[a].status=4:n[a].status=0;else{O("transaction at "+f.toString()+" failed: "+r);for(var a=0;a<n.length;a++)n[a].status=4,n[a].abortReason=r}Si(t,e)}},s)}(t,ri(e),n)}else ei(e)&&ni(e,function(e){Oi(t,e)})}function Si(t,e){var n=Ci(t,e),r=ri(n);return function(t,e,n){if(0===e.length)return;for(var r=[],i=[],o=e.filter(function(t){return 0===t.status}).map(function(t){return t.currentWriteId}),s=0;s<e.length;s++){var u=e[s],c=tt(n,u.path),l=!1,h=void 0;if(Object(a.f)(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)l=!0,h=u.abortReason,i=i.concat($n(t.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=ai)l=!0,h="maxretry",i=i.concat($n(t.serverSyncTree_,u.currentWriteId,!0));else{var f=Ei(t,u.path,o);u.currentInputSnapshot=f;var p=e[s].update(f.val());if(void 0!==p){wt("transaction failed: Data returned ",p,u.path);var d=ie(p),v="object"==typeof p&&null!=p&&Object(a.k)(p,".priority");v||(d=d.updatePriority(f.getPriority()));var g=u.currentWriteId,y=li(t),m=hr(d,f,y);u.currentOutputSnapshotRaw=d,u.currentOutputSnapshotResolved=m,u.currentWriteId=di(t),o.splice(o.indexOf(g),1),i=(i=i.concat(Bn(t.serverSyncTree_,u.path,m,u.currentWriteId,u.applyLocally))).concat($n(t.serverSyncTree_,g,!0))}else l=!0,h="nodata",i=i.concat($n(t.serverSyncTree_,u.currentWriteId,!0))}if(kr(t.eventQueue_,n,i),i=[],l&&(e[s].status=2,I=e[s].unwatcher,setTimeout(I,Math.floor(0)),e[s].onComplete))if("nodata"===h){var b=new qi(t,e[s].path),_=e[s].currentInputSnapshot,w=new Yr(_,b,$t);r.push(e[s].onComplete.bind(null,null,!1,w))}else r.push(e[s].onComplete.bind(null,new Error(h),!1,null))}var I;Ai(t,t.transactionQueueTree_);for(var s=0;s<r.length;s++)U(r[s]);Oi(t,t.transactionQueueTree_)}(t,ki(t,n),r),r}function Ci(t,e){var n,r=t.transactionQueueTree_;for(n=G(e);null!==n&&void 0===Zr(r);)r=Xr(r,n),n=G(e=z(e));return r}function ki(t,e){var n=[];return function t(e,n,r){var i=Zr(n);if(i)for(var o=0;o<i.length;o++)r.push(i[o]);ni(n,function(n){t(e,n,r)})}(t,e,n),n.sort(function(t,e){return t.order-e.order}),n}function Ai(t,e){var n=Zr(e);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,ti(e,n.length>0?n:void 0)}ni(e,function(e){Ai(t,e)})}function Ni(t,e){var n=ri(Ci(t,e)),r=Xr(t.transactionQueueTree_,e);return function(t,e,n){for(var r=n?t:t.parent;null!==r;){if(e(r))return!0;r=r.parent}}(r,function(e){ji(t,e)}),ji(t,r),function t(e,n,r,i){r&&!i&&n(e),ni(e,function(e){t(e,n,!0,i)}),r&&i&&n(e)}(r,function(e){ji(t,e)}),n}function ji(t,e){var n=Zr(e);if(n){for(var r=[],i=[],o=-1,s=0;s<n.length;s++)if(3===n[s].status);else if(1===n[s].status)Object(a.f)(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set";else if(Object(a.f)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat($n(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete){r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))}-1===o?ti(e,void 0):n.length=o+1,kr(t.eventQueue_,ri(e),i);for(s=0;s<r.length;s++)U(r[s])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xi,Di=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){Object(a.K)("OnDisconnect.cancel",0,1,arguments.length),Object(a.L)("OnDisconnect.cancel",1,t,!0);var e=new a.a;return gi(this.repo_,this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){Object(a.K)("OnDisconnect.remove",0,1,arguments.length),Ct("OnDisconnect.remove",this.path_),Object(a.L)("OnDisconnect.remove",1,t,!0);var e=new a.a;return yi(this.repo_,this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){Object(a.K)("OnDisconnect.set",1,2,arguments.length),Ct("OnDisconnect.set",this.path_),_t("OnDisconnect.set",1,t,this.path_,!1),Object(a.L)("OnDisconnect.set",2,e,!0);var n=new a.a;return yi(this.repo_,this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){Object(a.K)("OnDisconnect.setWithPriority",2,3,arguments.length),Ct("OnDisconnect.setWithPriority",this.path_),_t("OnDisconnect.setWithPriority",1,t,this.path_,!1),Tt("OnDisconnect.setWithPriority",2,e,!1),Object(a.L)("OnDisconnect.setWithPriority",3,n,!0);var r=new a.a;return function(t,e,n,r,i){var o=ie(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),function(n,r){"ok"===n&&dr(t.onDisconnect_,e,o),wi(0,i,n,r)})}(this.repo_,this.path_,t,e,r.wrapCallback(n)),r.promise},t.prototype.update=function(t,e){if(Object(a.K)("OnDisconnect.update",1,2,arguments.length),Ct("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,O("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}It("OnDisconnect.update",1,t,this.path_,!1),Object(a.L)("OnDisconnect.update",2,e,!0);var i=new a.a;return function(t,e,n,r){if(Object(a.u)(n))return w("onDisconnect().update() called with empty data.  Don't do anything."),void wi(0,r,"ok",void 0);t.server_.onDisconnectMerge(e.toString(),n,function(i,o){"ok"===i&&P(n,function(n,r){var i=ie(r);dr(t.onDisconnect_,X(e,n),i)}),wi(0,r,i,o)})}(this.repo_,this.path_,t,i.wrapCallback(e)),i.promise},t}(),Pi=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return Object(a.K)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),Ri=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Object(a.J)(this.snapshot.exportVal())},t}(),Li=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),Mi=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new Ri("value",this,new Yr(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){Object(a.f)(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Li(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),Fi=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,Object(a.k)(this.callbacks_,e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new Li(this,t,e):null},t.prototype.createEvent=function(t,e){Object(a.f)(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new Ri(t.type,this,new Yr(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){Object(a.f)(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var r=Object.keys(e.callbacks_),i=Object.keys(this.callbacks_),o=r.length;if(o===i.length){if(1===o){var a=r[0],s=i[0];return!(s!==a||e.callbacks_[a]&&this.callbacks_[s]&&e.callbacks_[a]!==this.callbacks_[s])}return i.every(function(t){return e.callbacks_[t]===n.callbacks_[t]})}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),Ui=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return Object(a.f)(xi,"Reference.ts has not been loaded"),xi},set:function(t){xi=t},enumerable:!1,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Gt){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==C)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==k)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===$t){if(null!=e&&!bt(e)||null!=n&&!bt(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(a.f)(t.getIndex()instanceof dn||t.getIndex()===pn,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return Object(a.K)("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,i){Object(a.K)("Query.on",2,4,arguments.length),Et("Query.on",1,e,!1),Object(a.L)("Query.on",2,n,!1);var o=t.getCancelAndContextArgs_("Query.on",r,i);if("value"===e)this.onValueEvent(n,o.cancel,o.context);else{var s={};s[e]=n,this.onChildEvent(s,o.cancel,o.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new Mi(t,e||null,n||null);mi(this.repo,this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new Fi(t,e,n);mi(this.repo,this,r)},t.prototype.off=function(t,e,n){Object(a.K)("Query.off",0,3,arguments.length),Et("Query.off",1,t,!0),Object(a.L)("Query.off",2,e,!0),Object(a.M)("Query.off",3,n,!0);var r,i,o,s,u=null,c=null;"value"===t?u=new Mi(e||null,null,n||null):t&&(e&&((c={})[t]=e),u=new Fi(c,null,n||null));r=this.repo,o=u,s=".info"===G((i=this).path)?Gn(r.infoSyncTree_,i,o):Gn(r.serverSyncTree_,i,o),Cr(r.eventQueue_,i.path,s)},t.prototype.get=function(){return t=this.repo,e=this,null!=(n=Qn(t.serverSyncTree_,e))?Promise.resolve(new Yr(n,e.getRef(),e.getQueryParams().getIndex())):t.server_.get(e).then(function(n){var r=ie(n),i=Hn(t.serverSyncTree_,e.path,r);return Cr(t.eventQueue_,e.path,i),Promise.resolve(new Yr(r,e.getRef(),e.getQueryParams().getIndex()))},function(n){return _i(t,"get for query "+Object(a.J)(e)+" failed: "+n),Promise.reject(new Error(n))});var t,e,n},t.prototype.once=function(e,n,r,i){var o=this;Object(a.K)("Query.once",1,4,arguments.length),Et("Query.once",1,e,!1),Object(a.L)("Query.once",2,n,!0);var s=t.getCancelAndContextArgs_("Query.once",r,i),u=!0,c=new a.a;c.promise.catch(function(){});var l=function(t){u&&(u=!1,o.off(e,l),n&&n.bind(s.context)(t),c.resolve(t))};return this.on(e,l,function(t){o.off(e,l),s.cancel&&s.cancel.bind(s.context)(t),c.reject(t)}),c.promise},t.prototype.limitToFirst=function(e){if(Object(a.K)("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,(n=this.queryParams_,r=e,(i=n.copy()).limitSet_=!0,i.limit_=r,i.viewFrom_="l",i),this.orderByCalled_);var n,r,i},t.prototype.limitToLast=function(e){if(Object(a.K)("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,(n=this.queryParams_,r=e,(i=n.copy()).limitSet_=!0,i.limit_=r,i.viewFrom_="r",i),this.orderByCalled_);var n,r,i},t.prototype.orderByChild=function(e){if(Object(a.K)("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');St("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new $(e);if(Z(n))throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new dn(n),i=_n(this.queryParams_,r);return t.validateQueryEndpoints_(i),new t(this.repo,this.path,i,!0)},t.prototype.orderByKey=function(){Object(a.K)("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=_n(this.queryParams_,Gt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){Object(a.K)("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=_n(this.queryParams_,$t);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){Object(a.K)("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=_n(this.queryParams_,pn);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),Object(a.K)("Query.startAt",0,2,arguments.length),_t("Query.startAt",1,e,this.path,!0),Ot("Query.startAt",2,n,!0);var r=mn(this.queryParams_,e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.startAfter=function(e,n){void 0===e&&(e=null),Object(a.K)("Query.startAfter",0,2,arguments.length),_t("Query.startAfter",1,e,this.path,!1),Ot("Query.startAfter",2,n,!0);var r=function(t,e,n){var r;t.index_===Gt?("string"==typeof e&&(e=hn(e)),r=mn(t,e,n)):r=mn(t,e,null==n?k:hn(n));return r.startAfterSet_=!0,r}(this.queryParams_,e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAfter: Starting point was already set (by another call to startAt, startAfter or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),Object(a.K)("Query.endAt",0,2,arguments.length),_t("Query.endAt",1,e,this.path,!0),Ot("Query.endAt",2,n,!0);var r=bn(this.queryParams_,e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt, endBefore, or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endBefore=function(e,n){void 0===e&&(e=null),Object(a.K)("Query.endBefore",0,2,arguments.length),_t("Query.endBefore",1,e,this.path,!1),Ot("Query.endBefore",2,n,!0);var r,i,o,s,u=(r=this.queryParams_,i=e,o=n,r.index_===Gt?("string"==typeof i&&(i=fn(i)),s=bn(r,i,o)):s=bn(r,i,null==o?C:fn(o)),s.endBeforeSet_=!0,s);if(t.validateLimit_(u),t.validateQueryEndpoints_(u),this.queryParams_.hasEnd())throw new Error("Query.endBefore: Ending point was already set (by another call to endAt, endBefore, or equalTo).");return new t(this.repo,this.path,u,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(Object(a.K)("Query.equalTo",1,2,arguments.length),_t("Query.equalTo",1,t,this.path,!1),Ot("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return Object(a.K)("Query.toString",0,0,arguments.length),this.repo.toString()+function(t){for(var e="",n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this.path)},t.prototype.toJSON=function(){return Object(a.K)("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return function(t){var e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;var n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==$t&&(e.i=t.index_.toString()),e}(this.queryParams_)},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=x(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(Object(a.K)("Query.isEqual",1,1,arguments.length),!(e instanceof t)){throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")}var n=this.repo===e.repo,r=nt(this.path,e.path),i=this.queryIdentifier()===e.queryIdentifier();return n&&r&&i},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,Object(a.L)(t,3,r.cancel,!0),r.context=n,Object(a.M)(t,4,r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(Object(a.o)(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),qi=function(t){function e(e,n){if(!(e instanceof si))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,new yn,!1)||this}return Object(o.c)(e,t),e.prototype.getKey=function(){return Object(a.K)("Reference.key",0,0,arguments.length),Z(this.path)?null:Q(this.path)},e.prototype.child=function(t){return Object(a.K)("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof $||(null===G(this.path)?function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),St(t,e,n,r)}("Reference.child",1,t,!1):St("Reference.child",1,t,!1)),new e(this.repo,X(this.path,t))},e.prototype.getParent=function(){Object(a.K)("Reference.parent",0,0,arguments.length);var t=J(this.path);return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){Object(a.K)("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return Ii(this.repo)},e.prototype.set=function(t,e){Object(a.K)("Reference.set",1,2,arguments.length),Ct("Reference.set",this.path),_t("Reference.set",1,t,this.path,!1),Object(a.L)("Reference.set",2,e,!0);var n=new a.a;return vi(this.repo,this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(Object(a.K)("Reference.update",1,2,arguments.length),Ct("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,O("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}It("Reference.update",1,t,this.path,!1),Object(a.L)("Reference.update",2,e,!0);var i=new a.a;return function(t,e,n,r){_i(t,"update",{path:e.toString(),value:n});var i=!0,o=li(t),a={};if(P(n,function(n,r){i=!1,a[n]=lr(X(e,n),ie(r),t.serverSyncTree_,o)}),i)w("update() called with empty data.  Don't do anything."),wi(0,r,"ok",void 0);else{var s=di(t),u=Kn(t.serverSyncTree_,e,a,s);Sr(t.eventQueue_,u),t.server_.merge(e.toString(),n,function(n,i){var o="ok"===n;o||O("update at "+e+" failed: "+n);var a=$n(t.serverSyncTree_,s,!o),u=a.length>0?Si(t,e):e;kr(t.eventQueue_,u,a),wi(0,r,n,i)}),P(n,function(n){var r=Ni(t,X(e,n));Si(t,r)}),kr(t.eventQueue_,e,[])}}(this.repo,this.path,t,i.wrapCallback(e)),i.promise},e.prototype.setWithPriority=function(t,e,n){if(Object(a.K)("Reference.setWithPriority",2,3,arguments.length),Ct("Reference.setWithPriority",this.path),_t("Reference.setWithPriority",1,t,this.path,!1),Tt("Reference.setWithPriority",2,e,!1),Object(a.L)("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new a.a;return vi(this.repo,this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return Object(a.K)("Reference.remove",0,1,arguments.length),Ct("Reference.remove",this.path),Object(a.L)("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(Object(a.K)("Reference.transaction",1,3,arguments.length),Ct("Reference.transaction",this.path),Object(a.L)("Reference.transaction",1,t,!1),Object(a.L)("Reference.transaction",2,e,!0),function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(Object(a.o)(t,e,r)+"must be a boolean.")}("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new a.a;"function"==typeof e&&r.promise.catch(function(){});return Ti(this.repo,this.path,t,function(t,n,i){t?r.reject(t):r.resolve(new Pi(n,i)),"function"==typeof e&&e(t,n,i)},n),r.promise},e.prototype.setPriority=function(t,e){Object(a.K)("Reference.setPriority",1,2,arguments.length),Ct("Reference.setPriority",this.path),Tt("Reference.setPriority",1,t,!1),Object(a.L)("Reference.setPriority",2,e,!0);var n=new a.a;return vi(this.repo,X(this.path,".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){Object(a.K)("Reference.push",0,2,arguments.length),Ct("Reference.push",this.path),_t("Reference.push",1,t,this.path,!0),Object(a.L)("Reference.push",2,e,!0);var n,r=ci(this.repo),i=ln(r),o=this.child(i),s=this.child(i);return n=null!=t?o.set(t,e).then(function(){return s}):Promise.resolve(s),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch(function(){}),o},e.prototype.onDisconnect=function(){return Ct("Reference.onDisconnect",this.path),new Di(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(Ui);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ui.__referenceConstructor=qi,function(t){Object(a.f)(!In,"__referenceConstructor has already been defined"),In=t}(qi);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Vi=function(){function t(t,e){var n=this;this.app_=t,this.authProvider_=e,this.auth_=null,this.auth_=e.getImmediate({optional:!0}),this.auth_||e.get().then(function(t){return n.auth_=t})}return t.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch(function(t){return t&&"auth/token-not-initialized"===t.code?(w("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)}):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout(function(){return t(null)},0),this.authProvider_.get().then(function(e){return e.addAuthTokenListener(t)}))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then(function(e){return e.removeAuthTokenListener(t)})},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',O(t)},t}(),Bi=function(){function t(){}return t.prototype.getToken=function(e){return Promise.resolve({accessToken:t.EMULATOR_AUTH_TOKEN})},t.prototype.addTokenChangeListener=function(e){e(t.EMULATOR_AUTH_TOKEN)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.EMULATOR_AUTH_TOKEN="owner",t}(),Ki="FIREBASE_DATABASE_EMULATOR_HOST",$i={},Hi=!1;function Gi(e,n,r,i){var o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||E("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),w("Using default host for project ",e.options.projectId),o=e.options.projectId+"-default-rtdb.firebaseio.com");var s,u=pt(o,i),c=u.repoInfo,l=void 0;void 0!==t&&(l=Object({NODE_ENV:"production"})[Ki]),l?(s=!0,o="http://"+l+"?ns="+c.namespace,c=(u=pt(o,i)).repoInfo):s=!u.repoInfo.secure;var h=i&&s?new Bi:new Vi(e,n);return kt("Invalid Firebase Database URL",1,u),Z(u.path)||E("Database URL must point to the root of a Firebase Database (not including a child path)."),Ii(function(t,e,n){var r=Object(a.G)($i,e.name);r||(r={},$i[e.name]=r);var i=Object(a.G)(r,t.toURLString());i&&E("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return i=new si(t,Hi,e,n),r[t.toURLString()]=i,i}(c,e,h))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Wi=function(){function t(t){var e=this;this.repoInternal_=t,this.instanceStarted_=!1,this.INTERNAL={delete:function(){return Object(o.b)(e,void 0,void 0,function(){return Object(o.d)(this,function(t){var e,n;return this.checkDeleted_("delete"),e=this.repo_,(n=Object(a.G)($i,e.app.name))&&Object(a.G)(n,e.key)===e||E("Database "+e.app.name+"("+e.repoInfo_+") has already been deleted."),bi(e),delete n[e.key],this.repoInternal_=null,this.rootInternal_=null,[2]})})}},t instanceof si||E("Don't call new Database() directly - please use firebase.database().")}return Object.defineProperty(t.prototype,"repo_",{get:function(){return this.instanceStarted_||(ui(this.repoInternal_),this.instanceStarted_=!0),this.repoInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root_",{get:function(){return this.rootInternal_||(this.rootInternal_=new qi(this.repo_,H())),this.rootInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),t.prototype.useEmulator=function(t,e){this.checkDeleted_("useEmulator"),this.instanceStarted_?E("Cannot call useEmulator() after instance has already been initialized."):function(t,e,n){t.repoInfo_=new lt(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),t.repoInfo_.nodeAdmin&&(t.authTokenProvider_=new Bi)}(this.repoInternal_,t,e)},t.prototype.ref=function(t){return this.checkDeleted_("ref"),Object(a.K)("database.ref",0,1,arguments.length),t instanceof qi?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),Object(a.K)(e,1,1,arguments.length);var n=pt(t,this.repo_.repoInfo_.nodeAdmin);kt(e,1,n);var r=n.repoInfo;return this.repo_.repoInfo_.isCustomHost()||r.host===this.repo_.repoInfo_.host||E(e+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repoInternal_&&E("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){Object(a.K)("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),bi(this.repo_)},t.prototype.goOnline=function(){var t;Object(a.K)("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),(t=this.repo_).persistentConnection_&&t.persistentConnection_.resume(oi)},t.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(t){return{".sv":{increment:t}}}},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zi=Object.freeze({__proto__:null,forceLongPolling:function(){Br.forceDisallow(),Mr.forceAllow()},forceWebSockets:function(){Mr.forceDisallow()},isWebSocketsAvailable:function(){return Br.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){!function(t,e){if(void 0===e&&(e=!1),"undefined"!=typeof console){var n;e?(t.statsListener_||(t.statsListener_=new wr(t.stats_)),n=t.statsListener_.get()):n=t.stats_.get();var r=Object.keys(n).reduce(function(t,e){return Math.max(e.length,t)},0);P(n,function(t,e){for(var n=t,i=t.length;i<r+2;i++)n+=" ";console.log(n+e)})}}(t.repo,e)},statsIncrementCounter:function(t,e){!function(t,e){var n,r;t.stats_.incrementCounter(e),n=t.statsReporter_,r=e,n.statsToReport_[r]=!0}(t.repo,e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return function(t,e){t.interceptServerDataCallback_=e}(t.repo,e)},initStandalone:function(t){var e=t.app,n=t.url,r=t.version,i=t.customAuthImpl,o=t.namespace,a=t.nodeAdmin,s=void 0!==a&&a;qr(r);var c=new u.c("auth-internal",new u.b("database-standalone"));return c.setComponent(new u.a("auth-internal",function(){return i},"PRIVATE")),{instance:Gi(e,c,n,s),namespace:o}}}),Qi=zr;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zr.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},zr.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var Yi=$r,Ji=lt,Xi=Object.freeze({__proto__:null,DataConnection:Qi,RealTimeConnection:Yi,hijackHash:function(t){var e=zr.prototype.put;return zr.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){zr.prototype.put=e}},ConnectionTarget:Ji,queryIdentifier:function(t){return t.queryIdentifier()},forceRestClient:function(t){!function(t){Hi=t}(t)}}),Zi="@firebase/database",to="0.9.6",eo=Wi.ServerValue;!function(t){qr(t.SDK_VERSION);var n=t.INTERNAL.registerComponent(new u.a("database",function(t,e){var n=e.instanceIdentifier;return Gi(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),n,void 0)},"PUBLIC").setServiceProps({Reference:qi,Query:Ui,Database:Wi,DataSnapshot:Yr,enableLogging:_,INTERNAL:zi,ServerValue:eo,TEST_ACCESS:Xi}).setMultipleInstances(!0));t.registerVersion(Zi,to),Object(a.z)()&&(e.exports=n)}(i.a)}).call(e,n("W2nU"),n("f1Eh")(t))},bOdI:function(t,e,n){"use strict";e.__esModule=!0;var r,i=n("C4MV"),o=(r=i)&&r.__esModule?r:{default:r};e.default=function(t,e,n){return e in t?(0,o.default)(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},evD5:function(t,e,n){var r=n("77Pl"),i=n("SfB7"),o=n("MmMw"),a=Object.defineProperty;e.f=n("+E39")?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},f1Eh:function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},fjI4:function(t,e,n){"use strict";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var i;n.d(e,"a",function(){return o}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return p});var o,a=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(o||(o={}));var s={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),a=c[e];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[a].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,a.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?s[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function f(t){a.forEach(function(e){e.setLogLevel(t)})}function p(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=s[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}}).filter(function(t){return t}).join(" ");n>=(null!==r&&void 0!==r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=a;r<i.length;r++){n(i[r])}}},fqSz:function(t,e,n){"use strict";(function(t){var e=n("SHXD");(function(){var n,r="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var i=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof t&&t,e];for(var n=0;n<e.length;++n){var r=e[n];if(r&&r.Math==Math)return r}return globalThis}(this);function o(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:function(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}(t)}}!function(t,e){if(e){var n=i;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in n||(n[a]={}),n=n[a]}(e=e(o=n[t=t[t.length-1]]))!=o&&null!=e&&r(n,t,{configurable:!0,writable:!0,value:e})}}("Promise",function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function n(){this.a=null}function r(t){return t instanceof e?t:new e(function(e){e(t)})}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c(function(){e.g()})}this.a.push(t)};var a=i.setTimeout;n.prototype.c=function(t){a(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},n.prototype.f=function(t){this.c(function(){throw t})},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new n;return e.prototype.s=function(t){var e=this.f();t.Qa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(t){o(t)}}:e}var i,o,a=new e(function(t,e){i=t,o=e});return this.Qa(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Qa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=r,e.reject=function(t){return new e(function(e,n){n(t)})},e.race=function(t){return new e(function(e,n){for(var i=o(t),a=i.next();!a.done;a=i.next())r(a.value).Qa(e,n)})},e.all=function(t){var n=o(t),i=n.next();return i.done?r([]):new e(function(t,e){function o(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,r(i.value).Qa(o(a.length-1),e),i=n.next()}while(!i.done)})},e});var a=a||{},s=this||self,u=/^[\w+/_-]+[=]{0,2}$/,c=null;function l(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&u.test(t)?t:""}function h(){}function f(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function p(t){var e=f(t);return"array"==e||"object"==e&&"number"==typeof t.length}function d(t){return"function"==f(t)}function v(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function g(t){return Object.prototype.hasOwnProperty.call(t,y)&&t[y]||(t[y]=++m)}var y="closure_uid_"+(1e9*Math.random()>>>0),m=0;function b(t,e,n){return t.call.apply(t.bind,arguments)}function _(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function w(t,e,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:_).apply(null,arguments)}function I(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var T=Date.now;function E(t,e){function n(){}n.prototype=e.prototype,t.ab=e.prototype,t.prototype=new n,t.prototype.constructor=t}function O(t){return t}function S(t,e,n){this.code=A+t,this.message=e||N[t]||"",this.a=n||null}function C(t){var e=t&&t.code;return e?new S(e.substring(A.length),t.message,t.serverResponse):null}E(S,Error),S.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},S.prototype.toJSON=function(){return this.w()};var k,A="auth/",N={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},j={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function x(t){for(var e in j)if(j[e].id===t)return{firebaseEndpoint:(t=j[e]).Ta,secureTokenEndpoint:t.Za,identityPlatformEndpoint:t.Wa};return null}function D(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function P(t){if(Error.captureStackTrace)Error.captureStackTrace(this,P);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function R(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");P.call(this,n+t[r])}function L(t,e){throw new R("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function M(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function F(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function U(){this.b=this.a=null}k=x("__EID__")?"__EID__":void 0,E(P,Error),P.prototype.name="CustomError",E(R,P),R.prototype.name="AssertionError",M.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var q=new M(function(){return new B},function(t){t.reset()});function V(){var t=_e,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function B(){this.next=this.b=this.a=null}U.prototype.add=function(t,e){var n=q.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},B.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},B.prototype.reset=function(){this.next=this.b=this.a=null};var K=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},$=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var H=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,a=0;a<n;a++)if(a in o){var s=o[a];e.call(void 0,s,a,t)&&(r[i++]=s)}return r},G=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},W=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function z(t,e){return 0<=K(t,e)}function Q(t,e){var n;return(n=0<=(e=K(t,e)))&&Array.prototype.splice.call(t,e,1),n}function Y(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0})}function J(t){return Array.prototype.concat.apply([],arguments)}function X(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var Z,tt=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},et=/&/g,nt=/</g,rt=/>/g,it=/"/g,ot=/'/g,at=/\x00/g,st=/[\x00&<>"']/;function ut(t,e){return-1!=t.indexOf(e)}function ct(t,e){return t<e?-1:t>e?1:0}t:{var lt=s.navigator;if(lt){var ht=lt.userAgent;if(ht){Z=ht;break t}}Z=""}function ft(t){return ut(Z,t)}function pt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function dt(t){for(var e in t)return!1;return!0}function vt(t){var e,n={};for(e in t)n[e]=t[e];return n}var gt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<gt.length;o++)n=gt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function mt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break t}}catch(t){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(v(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;L("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function bt(t,e){this.a=t===Tt&&e||"",this.b=It}function _t(t){return t instanceof bt&&t.constructor===bt&&t.b===It?t.a:(L("expected object of type Const, got '"+t+"'"),"type_error:Const")}bt.prototype.sa=!0,bt.prototype.ra=function(){return this.a},bt.prototype.toString=function(){return"Const{"+this.a+"}"};var wt,It={},Tt={};function Et(){if(void 0===wt){var t=null,e=s.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:O,createScript:O,createScriptURL:O})}catch(t){s.console&&s.console.error(t.message)}wt=t}else wt=t}return wt}function Ot(t,e){this.a=e===Nt?t:""}function St(t){return t instanceof Ot&&t.constructor===Ot?t.a:(L("expected object of type TrustedResourceUrl, got '"+t+"' of type "+f(t)),"type_error:TrustedResourceUrl")}function Ct(t,e){var n=_t(t);if(!At.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=Et();return new Ot(t=e?e.createScriptURL(t):t,Nt)}(t=n.replace(kt,function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof bt?_t(t):encodeURIComponent(String(t))}))}Ot.prototype.sa=!0,Ot.prototype.ra=function(){return this.a.toString()},Ot.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var kt=/%{(\w+)}/g,At=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Nt={};function jt(t,e){this.a=e===Ft?t:""}function xt(t){return t instanceof jt&&t.constructor===jt?t.a:(L("expected object of type SafeUrl, got '"+t+"' of type "+f(t)),"type_error:SafeUrl")}jt.prototype.sa=!0,jt.prototype.ra=function(){return this.a.toString()},jt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Dt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Pt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Rt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Lt(t){if(t instanceof jt)return t;if(t="object"==typeof t&&t.sa?t.ra():String(t),Rt.test(t))t=new jt(t,Ft);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Pt);t=e&&Dt.test(e[1])?new jt(t,Ft):null}return t}function Mt(t){return t instanceof jt?t:(t="object"==typeof t&&t.sa?t.ra():String(t),Rt.test(t)||(t="about:invalid#zClosurez"),new jt(t,Ft))}var Ft={},Ut=new jt("about:invalid#zClosurez",Ft);function qt(t,e,n){this.a=n===Vt?t:""}qt.prototype.sa=!0,qt.prototype.ra=function(){return this.a.toString()},qt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Vt={};function Bt(t,e,n,r){return t=t instanceof jt?t:Mt(t),e=e||s,n=n instanceof bt?_t(n):n||"",e.open(xt(t),n,r,void 0)}function Kt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function $t(t){return st.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(et,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(nt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(rt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(it,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(ot,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(at,"&#0;"))),t}function Ht(t){return Ht[" "](t),t}Ht[" "]=h;var Gt,Wt,zt=ft("Opera"),Qt=ft("Trident")||ft("MSIE"),Yt=ft("Edge"),Jt=Yt||Qt,Xt=ft("Gecko")&&!(ut(Z.toLowerCase(),"webkit")&&!ft("Edge"))&&!(ft("Trident")||ft("MSIE"))&&!ft("Edge"),Zt=ut(Z.toLowerCase(),"webkit")&&!ft("Edge");function te(){var t=s.document;return t?t.documentMode:void 0}t:{var ee="",ne=(Wt=Z,Xt?/rv:([^\);]+)(\)|;)/.exec(Wt):Yt?/Edge\/([\d\.]+)/.exec(Wt):Qt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Wt):Zt?/WebKit\/(\S+)/.exec(Wt):zt?/(?:Version)[ \/]?(\S+)/.exec(Wt):void 0);if(ne&&(ee=ne?ne[1]:""),Qt){var re=te();if(null!=re&&re>parseFloat(ee)){Gt=String(re);break t}}Gt=ee}var ie,oe={};function ae(t){return function(t,e){var n=oe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(){for(var e=0,n=tt(String(Gt)).split("."),r=tt(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=ct(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ct(0==a[2].length,0==s[2].length)||ct(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}if(s.document&&Qt){var se=te();ie=se||(parseInt(Gt,10)||void 0)}else ie=void 0;var ue=ie;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Wt){}var ce=!Qt||9<=Number(ue);function le(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function he(t,e){pt(e,function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:de.hasOwnProperty(n)?t.setAttribute(de[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}var fe,pe,de={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ve(t,e,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!ce&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',$t(a.name),'"'),a.type){o.push(' type="',$t(a.type),'"');var s={};yt(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=ge(i,o),a&&("string"==typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):he(o,a)),2<r.length&&function(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!p(o)||v(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(v(o)){var a="function"==typeof o.item||"string"==typeof o.item;break t}if(d(o)){a="function"==typeof o.item;break t}}a=!1}$(a?X(o):o,r)}}}(i,o,r),o}function ge(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function ye(t){s.setTimeout(function(){throw t},0)}function me(t,e){pe||function(){if(s.Promise&&s.Promise.resolve){var t=s.Promise.resolve(void 0);pe=function(){t.then(we)}}else pe=function(){var t=we;!d(s.setImmediate)||s.Window&&s.Window.prototype&&!ft("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(fe||(fe=function(){var t=s.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ft("Presto")&&(t=function(){var t=ge(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=w(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ft("Trident")&&!ft("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Gb;n.Gb=null,t()}},function(t){r.next={Gb:t},r=r.next,e.port2.postMessage(0)}}return function(t){s.setTimeout(t,0)}}()),fe(t)):s.setImmediate(t)}}(),be||(pe(),be=!0),_e.add(t,e)}var be=!1,_e=new U;function we(){for(var t;t=V();){try{t.a.call(t.b)}catch(t){ye(t)}F(q,t)}be=!1}function Ie(t,e){if(this.a=Te,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,function(t){Re(n,Ee,t)},function(t){if(!(t instanceof Be))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}Re(n,Oe,t)})}catch(t){Re(this,Oe,t)}}var Te=0,Ee=2,Oe=3;function Se(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Se.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ce=new M(function(){return new Se},function(t){t.reset()});function ke(t,e,n){var r=Ce.get();return r.g=t,r.b=e,r.f=n,r}function Ae(t){if(t instanceof Ie)return t;var e=new Ie(h);return Re(e,Ee,t),e}function Ne(t){return new Ie(function(e,n){n(t)})}function je(t,e,n){Le(t,e,n,null)||me(I(e,t))}function xe(t){return new Ie(function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Pb:!0,value:o}:{Pb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)je(t[o],I(i,o,!0),I(i,o,!1));else e(r)})}function De(t,e){t.b||t.a!=Ee&&t.a!=Oe||Me(t),t.f?t.f.next=e:t.b=e,t.f=e}function Pe(t,e,n,r){var i=ke(null,null,null);return i.a=new Ie(function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Be?o(e):t(i)}catch(t){o(t)}}:o}),i.a.c=t,De(t,i),i.a}function Re(t,e,n){t.a==Te&&(t===n&&(e=Oe,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Le(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Me(t),e!=Oe||n instanceof Be||function(t,e){t.g=!0,me(function(){t.g&&Ve.call(null,e)})}(t,n)))}function Le(t,e,n,r){if(t instanceof Ie)return De(t,ke(e||h,n||null,r)),!0;if(D(t))return t.then(e,n,r),!0;if(v(t))try{var i=t.then;if(d(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}var a=!1;try{e.call(t,function(t){a||(a=!0,n.call(i,t))},o)}catch(t){o(t)}}(t,i,e,n,r),!0}catch(t){return n.call(r,t),!0}return!1}function Me(t){t.h||(t.h=!0,me(t.gc,t))}function Fe(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Ue(t,e,n,r){if(n==Oe&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,qe(e,n,r);else try{e.c?e.g.call(e.f):qe(e,n,r)}catch(t){Ve.call(null,t)}F(Ce,e)}function qe(t,e,n){e==Ee?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}Ie.prototype.then=function(t,e,n){return Pe(this,d(t)?t:null,d(e)?e:null,n)},Ie.prototype.$goog_Thenable=!0,(n=Ie.prototype).oa=function(t,e){return(t=ke(t,t,e)).c=!0,De(this,t),this},n.o=function(t,e){return Pe(this,null,t,e)},n.cancel=function(t){if(this.a==Te){var e=new Be(t);me(function(){!function t(e,n){if(e.a==Te)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,a=null,s=r.b;s&&(s.c||(i++,s.a==e&&(o=s),!(o&&1<i)));s=s.next)o||(a=s);o&&(r.a==Te&&1==i?t(r,n):(a?((i=a).next==r.f&&(r.f=i),i.next=i.next.next):Fe(r),Ue(r,o,Oe,n)))}e.c=null}else Re(e,Oe,n)}(this,e)},this)}},n.$c=function(t){this.a=Te,Re(this,Ee,t)},n.ad=function(t){this.a=Te,Re(this,Oe,t)},n.gc=function(){for(var t;t=Fe(this);)Ue(this,t,this.a,this.i);this.h=!1};var Ve=ye;function Be(t){P.call(this,t)}function Ke(){0!=$e&&(He[g(this)]=this),this.xa=this.xa,this.pa=this.pa}E(Be,P),Be.prototype.name="cancel";var $e=0,He={};function Ge(t){if(!t.xa&&(t.xa=!0,t.Da(),0!=$e)){var e=g(t);if(0!=$e&&t.pa&&0<t.pa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete He[e]}}Ke.prototype.xa=!1,Ke.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var We=Object.freeze||function(t){return t},ze=!Qt||9<=Number(ue),Qe=Qt&&!ae("9"),Ye=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",h,e),s.removeEventListener("test",h,e)}catch(t){}return t}();function Je(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Xe(t,e){if(Je.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Xt){t:{try{Ht(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ze[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Je.prototype.preventDefault=function(){this.defaultPrevented=!0},E(Xe,Je);var Ze=We({2:"touch",3:"pen",4:"mouse"});Xe.prototype.preventDefault=function(){Xe.ab.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Qe)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},Xe.prototype.g=function(){return this.a};var tn="closure_listenable_"+(1e6*Math.random()|0),en=0;function nn(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Va=null}function rn(t){this.src=t,this.a={},this.b=0}function on(t,e){var n=e.type;n in t.a&&Q(t.a[n],e)&&(nn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function an(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Va==r)return i}return-1}rn.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=an(t,e,r,i);return-1<a?(e=t[a],n||(e.Pa=!1)):((e=new function(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Va=i,this.key=++en,this.va=this.Pa=!1}(e,this.src,o,!!r,i)).Pa=n,t.push(e)),e};var sn="closure_lm_"+(1e6*Math.random()|0),un={};function cn(t,e,n,r,i){if(r&&r.once)hn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)cn(t,e[o],n,r,i);else n=_n(n),t&&t[tn]?In(t,e,n,v(r)?!!r.capture:!!r,i):ln(t,e,n,!1,r,i)}function ln(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=v(i)?!!i.capture:!!i,s=mn(t);if(s||(t[sn]=s=new rn(t)),!(n=s.add(e,n,r,a,o)).proxy){if(r=function(){var t=yn,e=ze?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ye||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(dn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}0}}function hn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)hn(t,e[o],n,r,i);else n=_n(n),t&&t[tn]?Tn(t,e,n,v(r)?!!r.capture:!!r,i):ln(t,e,n,!0,r,i)}function fn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)fn(t,e[o],n,r,i);else r=v(r)?!!r.capture:!!r,n=_n(n),t&&t[tn]?(t=t.v,(e=String(e).toString())in t.a&&(-1<(n=an(o=t.a[e],n,r,i))&&(nn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=mn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=an(e,n,r,i)),(n=-1<t?e[t]:null)&&pn(n))}function pn(t){if("number"!=typeof t&&t&&!t.va){var e=t.src;if(e&&e[tn])on(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(dn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),0,(n=mn(e))?(on(n,t),0==n.b&&(n.src=null,e[sn]=null)):nn(t)}}}function dn(t){return t in un?un[t]:un[t]="on"+t}function vn(t,e,n,r){var i=!0;if((t=mn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=gn(o,r),i=i&&!1!==o)}return i}function gn(t,e){var n=t.listener,r=t.Va||t.src;return t.Pa&&pn(t),n.call(r,e)}function yn(t,e){if(t.va)return!0;if(!ze){if(!e)t:{e=["window","event"];for(var n=s,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Xe(r=e,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=vn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=vn(r[i],t,!1,e),n=n&&o}return n}return gn(t,new Xe(e,this))}function mn(t){return(t=t[sn])instanceof rn?t:null}var bn="__closure_events_fn_"+(1e9*Math.random()>>>0);function _n(t){return d(t)?t:(t[bn]||(t[bn]=function(e){return t.handleEvent(e)}),t[bn])}function wn(){Ke.call(this),this.v=new rn(this),this.ac=this,this.gb=null}function In(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function Tn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function En(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.va&&a.capture==n){var s=a.listener,u=a.Va||a.src;a.Pa&&on(t.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function On(t,e,n){if(d(t))n&&(t=w(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=w(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function Sn(t){var e=null;return new Ie(function(n,r){-1==(e=On(function(){n(void 0)},t))&&r(Error("Failed to schedule timer."))}).o(function(t){throw s.clearTimeout(e),t})}function Cn(t){if(t.W&&"function"==typeof t.W)return t.W();if("string"==typeof t)return t.split("");if(p(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function kn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.W||"function"!=typeof t.W){if(p(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function An(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof An)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Nn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];jn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)jn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function jn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}E(wn,Ke),wn.prototype[tn]=!0,wn.prototype.addEventListener=function(t,e,n,r){cn(this,t,e,n,r)},wn.prototype.removeEventListener=function(t,e,n,r){fn(this,t,e,n,r)},wn.prototype.dispatchEvent=function(t){var e,n=this.gb;if(n)for(e=[];n;n=n.gb)e.push(n);n=this.ac;var r=t.type||t;if("string"==typeof t)t=new Je(t,n);else if(t instanceof Je)t.target=t.target||n;else{var i=t;yt(t=new Je(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];i=En(a,r,!0,t)&&i}if(i=En(a=t.b=n,r,!0,t)&&i,i=En(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=En(a=t.b=e[o],r,!1,t)&&i;return i},wn.prototype.Da=function(){if(wn.ab.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)0,nn(n[r]);delete e.a[t],e.b--}}this.gb=null},(n=An.prototype).W=function(){Nn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},n.Y=function(){return Nn(this),this.a.concat()},n.clear=function(){this.b={},this.c=this.a.length=0},n.get=function(t,e){return jn(this.b,t)?this.b[t]:e},n.set=function(t,e){jn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},n.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var xn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Dn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Dn?(this.i=void 0!==e?e:t.i,Pn(this,t.c),this.l=t.l,this.a=t.a,Rn(this,t.g),this.f=t.f,Ln(this,er(t.b)),this.h=t.h):t&&(n=String(t).match(xn))?(this.i=!!e,Pn(this,n[1]||"",!0),this.l=Vn(n[2]||""),this.a=Vn(n[3]||"",!0),Rn(this,n[4]),this.f=Vn(n[5]||"",!0),Ln(this,n[6]||"",!0),this.h=Vn(n[7]||"")):(this.i=!!e,this.b=new Qn(null,this.i))}function Pn(t,e,n){t.c=n?Vn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Rn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Ln(t,e,n){e instanceof Qn?(t.b=e,function(t,e){e&&!t.f&&(Yn(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Xn(this,e),tr(this,n,t))},t)),t.f=e}(t.b,t.i)):(n||(e=Bn(e,Wn)),t.b=new Qn(e,t.i))}function Mn(t,e,n){t.b.set(e,n)}function Fn(t,e){return t.b.get(e)}function Un(t){return t instanceof Dn?new Dn(t):new Dn(t,void 0)}function qn(t,e,n,r){var i=new Dn(null,void 0);return t&&Pn(i,t),e&&(i.a=e),n&&Rn(i,n),r&&(i.f=r),i}function Vn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Bn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Kn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Kn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Dn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(Bn(e,$n,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Bn(e,$n,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Bn(n,"/"==n.charAt(0)?Gn:Hn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Bn(n,zn)),t.join("")},Dn.prototype.resolve=function(t){var e=new Dn(this),n=!!t.c;n?Pn(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)Rn(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ut(i,"./")||ut(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?Ln(e,er(t.b)):n=!!t.h,n&&(e.h=t.h),e};var $n=/[#\/\?@]/g,Hn=/[#\?:]/g,Gn=/[#\?]/g,Wn=/[#\?@]/g,zn=/#/g;function Qn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Yn(t){t.a||(t.a=new An,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Jn(t){var e=kn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Qn(null,void 0);t=Cn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?tr(n,i,o):n.add(i,o)}return n}function Xn(t,e){Yn(t),e=nr(t,e),jn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,jn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Nn(t)))}function Zn(t,e){return Yn(t),e=nr(t,e),jn(t.a.b,e)}function tr(t,e,n){Xn(t,e),0<n.length&&(t.c=null,t.a.set(nr(t,e),X(n)),t.b+=n.length)}function er(t){var e=new Qn;return e.c=t.c,t.a&&(e.a=new An(t.a),e.b=t.b),e}function nr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function rr(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",a=0;a<n;a++)r.push(o),t(e,i[a],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&("function"!=typeof(a=n[i])&&(r.push(o),ar(i,r),r.push(":"),t(e,a,r),o=","));return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":ar(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new function(){},t,e),e.join("")}(n=Qn.prototype).add=function(t,e){Yn(this),this.c=null,t=nr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},n.clear=function(){this.a=this.c=null,this.b=0},n.forEach=function(t,e){Yn(this),this.a.forEach(function(n,r){$(n,function(n){t.call(e,n,r,this)},this)},this)},n.Y=function(){Yn(this);for(var t=this.a.W(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},n.W=function(t){Yn(this);var e=[];if("string"==typeof t)Zn(this,t)&&(e=J(e,this.a.get(nr(this,t))));else{t=this.a.W();for(var n=0;n<t.length;n++)e=J(e,t[n])}return e},n.set=function(t,e){return Yn(this),this.c=null,Zn(this,t=nr(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},n.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},n.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.W(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var ir={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},or=/\uffff/.test("")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ar(t,e){e.push('"',t.replace(or,function(t){var e=ir[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ir[t]=e),e}),'"')}function sr(){var t=Sr();return Qt&&!!ue&&11==ue||/Edge\/\d+/.test(t)}function ur(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function cr(t,e){e=e||s.window;var n="about:blank";t&&(n=xt(Lt(t)||Ut)),e.location.href=n}function lr(t){return!!((t=(t||Sr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function hr(t){t=t||s.window;try{t.close()}catch(t){}}function fr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Sr().toLowerCase(),r&&(e.target=r,ut(n,"crios/")&&(e.target="_blank")),Tr(Sr())==wr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof jt?n:Lt(void 0!==n.href?n.href:String(n))||Ut,n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((ft("iPhone")&&!ft("iPod")&&!ft("iPad")||ft("iPad")||ft("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(mt(a=ge(document,"A"),"HTMLAnchorElement"),e=e instanceof jt?e:Mt(e),a.href=xt(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=Bt("",r,n,a),t=xt(e),a&&(Jt&&ut(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+$t(t)+'">',t=new qt(t=(r=Et())?r.createHTML(t):t,null,Vt),r=a.document)&&(r.write(function(t){return t instanceof qt&&t.constructor===qt?t.a:(L("expected object of type SafeHtml, got '"+t+"' of type "+f(t)),"type_error:SafeHtml")}(t)),r.close())):(a=Bt(e,r,n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(t){}return a}var pr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dr=/^[^@]+@[^@]+$/;function vr(){var t=null;return new Ie(function(e){"complete"==s.document.readyState?e():(t=function(){e()},hn(window,"load",t))}).o(function(e){throw fn(window,"load",t),e})}function gr(t){return t=t||Sr(),!("file:"!==jr()&&"ionic:"!==jr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function yr(){var t=s.window;try{return!(!t||t==t.top)}catch(t){return!1}}function mr(){return void 0!==s.WorkerGlobalScope&&"function"==typeof s.importScripts}function br(){return e.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":e.a.INTERNAL.hasOwnProperty("node")?"Node":mr()?"Worker":"Browser"}function _r(){var t=br();return"ReactNative"===t||"Node"===t}var wr="Firefox",Ir="Chrome";function Tr(t){var e=t.toLowerCase();return ut(e,"opera/")||ut(e,"opr/")||ut(e,"opios/")?"Opera":ut(e,"iemobile")?"IEMobile":ut(e,"msie")||ut(e,"trident/")?"IE":ut(e,"edge/")?"Edge":ut(e,"firefox/")?wr:ut(e,"silk/")?"Silk":ut(e,"blackberry")?"Blackberry":ut(e,"webos")?"Webos":!ut(e,"safari/")||ut(e,"chrome/")||ut(e,"crios/")||ut(e,"android")?!ut(e,"chrome/")&&!ut(e,"crios/")||ut(e,"edge/")?ut(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Ir:"Safari"}var Er={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Or(t,e){e=e||[];var n,r=[],i={};for(n in Er)i[Er[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=br())?r=Tr(i=Sr()):"Worker"===r&&(r=Tr(i=Sr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Sr(){return s.navigator&&s.navigator.userAgent||""}function Cr(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function kr(){try{var t=s.localStorage,e=Lr();if(t)return t.setItem(e,"1"),t.removeItem(e),!sr()||!!s.indexedDB}catch(t){return mr()&&!!s.indexedDB}return!1}function Ar(){return(Nr()||"chrome-extension:"===jr()||gr())&&!_r()&&kr()&&!mr()}function Nr(){return"http:"===jr()||"https:"===jr()}function jr(){return s.location&&s.location.protocol||null}function xr(t){return!lr(t=t||Sr())&&Tr(t)!=wr}function Dr(t){return void 0===t?null:rr(t)}function Pr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Rr(t){if(null!==t)return JSON.parse(t)}function Lr(t){return t||Math.floor(1e9*Math.random()).toString()}function Mr(t){return"Safari"!=Tr(t=t||Sr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Fr(){var t=s.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Ur(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Sr(),e=br(),this.b=lr(t)||"ReactNative"===e}function qr(){var t=s.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Vr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function Br(){return!(!Cr("fireauth.oauthhelper",s)&&!Cr("fireauth.iframe",s))}Ur.prototype.get=function(){var t=s.navigator;return!t||"boolean"!=typeof t.onLine||!Nr()&&"chrome-extension:"!==jr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Kr,$r={};function Hr(t){$r[t]||($r[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Gr={};Object.defineProperty(Gr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Gr,"abcd",{configurable:!0,enumerable:!0,value:2}),Kr=2==Gr.abcd}catch(Wt){Kr=!1}function Wr(t,e,n){Kr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function zr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Wr(t,n,e[n])}function Qr(t){var e={};return zr(e,t),e}function Yr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Wr(e,n,Yr(t[n]));return e}function Jr(t){var e=t&&(t[ni]?"phone":null);if(!(e&&t&&t[ei]))throw new S("internal-error","Internal assert: invalid MultiFactorInfo object");Wr(this,"uid",t[ei]),Wr(this,"displayName",t[Zr]||null);var n=null;t[ti]&&(n=new Date(t[ti]).toUTCString()),Wr(this,"enrollmentTime",n),Wr(this,"factorId",e)}function Xr(t){try{var e=new ri(t)}catch(t){e=null}return e}Jr.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Zr="displayName",ti="enrolledAt",ei="mfaEnrollmentId",ni="phoneInfo";function ri(t){Jr.call(this,t),Wr(this,"phoneNumber",t[ni])}E(ri,Jr),ri.prototype.w=function(){var t=ri.ab.w.call(this);return t.phoneNumber=this.phoneNumber,t};var ii="REVERT_SECOND_FACTOR_ADDITION",oi="EMAIL_SIGNIN",ai="VERIFY_AND_CHANGE_EMAIL",si="email",ui="mfaInfo",ci="newEmail",li="requestType",hi="email",fi="fromEmail",pi="multiFactorInfo",di="previousEmail",vi="data",gi="operation";function yi(t){var e=Fn(t=Un(t),mi)||null,n=Fn(t,bi)||null,r=Fn(t,Ii)||null;if(r=r&&Ei[r]||null,!e||!n||!r)throw new S("argument-error",mi+", "+bi+"and "+Ii+" are required in a valid action code URL.");zr(this,{apiKey:e,operation:r,code:n,continueUrl:Fn(t,_i)||null,languageCode:Fn(t,wi)||null,tenantId:Fn(t,Ti)||null})}var mi="apiKey",bi="oobCode",_i="continueUrl",wi="languageCode",Ii="mode",Ti="tenantId",Ei={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ii,signIn:oi,verifyAndChangeEmail:ai,verifyEmail:"VERIFY_EMAIL"};function Oi(t){try{return new yi(t)}catch(t){return null}}function Si(t){var e=t[ji];if(void 0===e)throw new S("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new S("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Ci];if(n&&"object"==typeof n){e=n[Pi];var r=n[xi];if(n=n[Di],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new S("argument-error",xi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new S("argument-error",Di+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new S("argument-error",Pi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new S("missing-android-pkg-name")}}else if(void 0!==n)throw new S("argument-error",Ci+" property must be a non null object when specified.");if(this.f=null,(e=t[Ni])&&"object"==typeof e){if("string"==typeof(e=e[Ri])&&e.length)this.f=e;else if(void 0!==e)throw new S("argument-error",Ri+" property must be a non empty string when specified.")}else if(void 0!==e)throw new S("argument-error",Ni+" property must be a non null object when specified.");if(void 0!==(e=t[Ai])&&"boolean"!=typeof e)throw new S("argument-error",Ai+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[ki])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new S("argument-error",ki+" property must be a non empty string when specified.");this.i=t||null}var Ci="android",ki="dynamicLinkDomain",Ai="handleCodeInApp",Ni="iOS",ji="url",xi="installApp",Di="minimumVersion",Pi="packageName",Ri="bundleId";function Li(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Mi=null;function Fi(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Mi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Mi){Mi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Mi[o]&&(Mi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,function(t){e.push(t)}),e}function Ui(t){var e=Vi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function qi(t){try{return new Ui(t)}catch(t){return null}}function Vi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=Fi(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var a=r[e++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(s>>10)),t[n++]=String.fromCharCode(56320+(1023&s))}else o=r[e++],a=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(t.join(""))}catch(t){}return null}Ui.prototype.T=function(){return this.f},Ui.prototype.l=function(){return this.c},Ui.prototype.toString=function(){return this.h};var Bi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Ki=["client_id","response_type","scope","redirect_uri","state"],$i={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:Ki},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:Ki},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:Ki},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:Bi},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function Hi(t){for(var e in $i)if($i[e].fa==t)return $i[e];return null}function Gi(t){var e={};e["facebook.com"]=Ji,e["google.com"]=Zi,e["github.com"]=Xi,e["twitter.com"]=to;var n=t&&t[zi];try{if(n)return e[n]?new e[n](t):new Yi(t);if(void 0!==t[Wi])return new Qi(t)}catch(t){}return null}var Wi="idToken",zi="providerId";function Qi(t){var e=t[zi];if(!e&&t[Wi]){var n=qi(t[Wi]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Wr(this,"providerId",e),Wr(this,"isNewUser",n)}function Yi(t){Qi.call(this,t),Wr(this,"profile",Yr((t=Rr(t.rawUserInfo||"{}"))||{}))}function Ji(t){if(Yi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Xi(t){if(Yi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Wr(this,"username",this.profile&&this.profile.login||null)}function Zi(t){if(Yi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function to(t){if(Yi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Wr(this,"username",t.screenName||null)}function eo(t){var e=Un(t),n=Fn(e,"link"),r=Fn(Un(n),"link");return Fn(Un(e=Fn(e,"deep_link_id")),"link")||e||r||n||t}function no(t,e){if(!t&&!e)throw new S("internal-error","Internal assert: no raw session string available");if(t&&e)throw new S("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?ro:io}E(Yi,Qi),E(Ji,Yi),E(Xi,Yi),E(Zi,Yi),E(to,Yi);var ro="enroll",io="signin";function oo(){}function ao(t,e){return t.then(function(t){if(t[Wa]){var n=qi(t[Wa]);if(!n||e!=n.i)throw new S("user-mismatch");return t}throw new S("user-mismatch")}).o(function(t){throw t&&t.code&&t.code==A+"user-not-found"?new S("user-mismatch"):t})}function so(t,e){if(!e)throw new S("internal-error","failed to construct a credential");this.a=e,Wr(this,"providerId",t),Wr(this,"signInMethod",t)}function uo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function co(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new so(t.providerId,t.pendingToken)}catch(t){}return null}function lo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Wr(this,"idToken",e.idToken),e.accessToken&&Wr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Wr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new S("internal-error","failed to construct a credential");Wr(this,"accessToken",e.oauthToken),Wr(this,"secret",e.oauthTokenSecret)}Wr(this,"providerId",t),Wr(this,"signInMethod",n)}function ho(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Jn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function fo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new lo(t.providerId,e,t.signInMethod)}catch(t){}}return null}function po(t,e){this.Qc=e||[],zr(this,{providerId:t,isOAuthProvider:!0}),this.Ib={},this.pb=(Hi(t)||{}).Ja||null,this.ob=null}function vo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new S("argument-error",'SAML provider IDs must be prefixed with "saml."');po.call(this,t,[])}function go(t){po.call(this,t,Ki),this.a=[]}function yo(){go.call(this,"facebook.com")}function mo(t){if(!t)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return v(t)&&(e=t.accessToken),(new yo).credential({accessToken:e})}function bo(){go.call(this,"github.com")}function _o(t){if(!t)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return v(t)&&(e=t.accessToken),(new bo).credential({accessToken:e})}function wo(){go.call(this,"google.com"),this.Ca("profile")}function Io(t,e){var n=t;return v(t)&&(n=t.idToken,e=t.accessToken),(new wo).credential({idToken:n,accessToken:e})}function To(){po.call(this,"twitter.com",Bi)}function Eo(t,e){var n=t;if(v(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new S("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new lo("twitter.com",n,"twitter.com")}function Oo(t,e,n){this.a=t,this.f=e,Wr(this,"providerId","password"),Wr(this,"signInMethod",n===Co.EMAIL_LINK_SIGN_IN_METHOD?Co.EMAIL_LINK_SIGN_IN_METHOD:Co.EMAIL_PASSWORD_SIGN_IN_METHOD)}function So(t){return t&&t.email&&t.password?new Oo(t.email,t.password,t.signInMethod):null}function Co(){zr(this,{providerId:"password",isOAuthProvider:!1})}function ko(t,e){if(!(e=Ao(e)))throw new S("argument-error","Invalid email link!");return new Oo(t,e.code,Co.EMAIL_LINK_SIGN_IN_METHOD)}function Ao(t){return(t=Oi(t=eo(t)))&&t.operation===oi?t:null}function No(t){if(!(t.eb&&t.cb||t.La&&t.ea))throw new S("internal-error");this.a=t,Wr(this,"providerId","phone"),this.fa="phone",Wr(this,"signInMethod","phone")}function jo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return $(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(n){t[n]&&(e[n]=t[n])}),new No(e)}return null}function xo(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.eb,code:t.a.cb}}function Do(t){try{this.a=t||e.a.auth()}catch(t){throw new S("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}zr(this,{providerId:"phone",isOAuthProvider:!1})}function Po(t,e){if(!t)throw new S("missing-verification-id");if(!e)throw new S("missing-verification-code");return new No({eb:t,cb:e})}function Ro(t){if(t.temporaryProof&&t.phoneNumber)return new No({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return Io(o,n);case"facebook.com":return mo(n);case"github.com":return _o(n);case"twitter.com":return Eo(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new so(e,a):new lo(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new go(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(t){return null}}function Lo(t){if(!t.isOAuthProvider)throw new S("invalid-oauth-provider")}function Mo(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new S("invalid-auth-event");if(this.g&&this.a)throw new S("invalid-auth-event");if(this.g&&!this.f)throw new S("invalid-auth-event")}function Fo(t){return(t=t||{}).type?new Mo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&C(t.error),t.postBody,t.tenantId):null}no.prototype.Ha=function(){return this.a?Ae(this.a):Ae(this.b)},no.prototype.w=function(){return this.type==ro?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},oo.prototype.ka=function(){},oo.prototype.b=function(){},oo.prototype.c=function(){},oo.prototype.w=function(){},so.prototype.ka=function(t){return vs(t,uo(this))},so.prototype.b=function(t,e){var n=uo(this);return n.idToken=e,gs(t,n)},so.prototype.c=function(t,e){return ao(ys(t,uo(this)),e)},so.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},lo.prototype.ka=function(t){return vs(t,ho(this))},lo.prototype.b=function(t,e){var n=ho(this);return n.idToken=e,gs(t,n)},lo.prototype.c=function(t,e){return ao(ys(t,ho(this)),e)},lo.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},po.prototype.Ka=function(t){return this.Ib=vt(t),this},E(vo,po),E(go,po),go.prototype.Ca=function(t){return z(this.a,t)||this.a.push(t),this},go.prototype.Qb=function(){return X(this.a)},go.prototype.credential=function(t,e){var n;if(!(n=v(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new S("argument-error","credential failed: must provide the ID token and/or the access token.");return new lo(this.providerId,n,this.providerId)},E(yo,go),Wr(yo,"PROVIDER_ID","facebook.com"),Wr(yo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),E(bo,go),Wr(bo,"PROVIDER_ID","github.com"),Wr(bo,"GITHUB_SIGN_IN_METHOD","github.com"),E(wo,go),Wr(wo,"PROVIDER_ID","google.com"),Wr(wo,"GOOGLE_SIGN_IN_METHOD","google.com"),E(To,po),Wr(To,"PROVIDER_ID","twitter.com"),Wr(To,"TWITTER_SIGN_IN_METHOD","twitter.com"),Oo.prototype.ka=function(t){return this.signInMethod==Co.EMAIL_LINK_SIGN_IN_METHOD?Xs(t,Os,{email:this.a,oobCode:this.f}):Xs(t,Ws,{email:this.a,password:this.f})},Oo.prototype.b=function(t,e){return this.signInMethod==Co.EMAIL_LINK_SIGN_IN_METHOD?Xs(t,Ss,{idToken:e,email:this.a,oobCode:this.f}):Xs(t,Us,{idToken:e,email:this.a,password:this.f})},Oo.prototype.c=function(t,e){return ao(this.ka(t),e)},Oo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},zr(Co,{PROVIDER_ID:"password"}),zr(Co,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),zr(Co,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),No.prototype.ka=function(t){return t.fb(xo(this))},No.prototype.b=function(t,e){var n=xo(this);return n.idToken=e,Xs(t,Qs,n)},No.prototype.c=function(t,e){var n=xo(this);return n.operation="REAUTH",ao(t=Xs(t,Ys,n),e)},No.prototype.w=function(){var t={providerId:"phone"};return this.a.eb&&(t.verificationId=this.a.eb),this.a.cb&&(t.verificationCode=this.a.cb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Do.prototype.fb=function(t,e){var n=this.a.a;return Ae(e.verify()).then(function(r){if("string"!=typeof r)throw new S("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=v(t)?t.session:null,o=v(t)?t.phoneNumber:t;return(i&&i.type==ro?i.Ha().then(function(t){return Xs(n,Vs,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}}).then(function(t){return t.phoneSessionInfo.sessionInfo})}):i&&i.type==io?i.Ha().then(function(e){return function(t,e){return Xs(t,Bs,e).then(function(t){return t.phoneResponseInfo.sessionInfo})}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})}):function(t,e){return Xs(t,Ms,e)}(n,{phoneNumber:o,recaptchaToken:r})).then(function(t){return"function"==typeof e.reset&&e.reset(),t},function(t){throw"function"==typeof e.reset&&e.reset(),t});default:throw new S("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},zr(Do,{PROVIDER_ID:"phone"}),zr(Do,{PHONE_SIGN_IN_METHOD:"phone"}),Mo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Mo.prototype.T=function(){return this.h},Mo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Uo,qo=null;function Vo(t){var e="unauthorized-domain",n=void 0,r=Un(t);t=r.a,"chrome-extension"==(r=r.c)?n=Kt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Kt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",S.call(this,e,n)}function Bo(t,e,n){S.call(this,t,n),(t=e||{}).Jb&&Wr(this,"email",t.Jb),t.ea&&Wr(this,"phoneNumber",t.ea),t.credential&&Wr(this,"credential",t.credential),t.Zb&&Wr(this,"tenantId",t.Zb)}function Ko(t){if(t.code){var e=t.code||"";0==e.indexOf(A)&&(e=e.substring(A.length));var n={credential:Ro(t),Zb:t.tenantId};if(t.email)n.Jb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new S(e,t.message||void 0);return new Bo(e,n,t.message)}return null}function $o(){}function Ho(t){return t.c||(t.c=t.b())}function Go(){}function Wo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function zo(){}function Qo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=w(this.qc,this),this.a.onerror=w(this.Sb,this),this.a.onprogress=w(this.rc,this),this.a.ontimeout=w(this.vc,this)}function Yo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Jo(t,e,n){this.reset(t,e,n,void 0,void 0)}E(Vo,S),E(Bo,S),Bo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&yt(t,e),t},Bo.prototype.toJSON=function(){return this.w()},$o.prototype.c=null,E(Go,$o),Go.prototype.a=function(){var t=Wo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Go.prototype.b=function(){var t={};return Wo(this)&&(t[0]=!0,t[1]=!0),t},Uo=new Go,E(zo,$o),zo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Qo;throw Error("Unsupported browser")},zo.prototype.b=function(){return{}},(n=Qo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},n.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},n.abort=function(){this.a.abort()},n.setRequestHeader=function(){},n.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},n.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Yo(this,4)},n.Sb=function(){this.status=500,this.response=this.responseText="",Yo(this,4)},n.vc=function(){this.Sb()},n.rc=function(){this.status=200,Yo(this,1)},n.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Jo.prototype.a=null;function Xo(t){this.f=t,this.b=this.c=this.a=null}function Zo(t,e){this.name=t,this.value=e}Jo.prototype.reset=function(t,e,n,r,i){"number"==typeof i||0,r||T(),delete this.a},Zo.prototype.toString=function(){return this.name};var ta=new Zo("SEVERE",1e3),ea=new Zo("WARNING",900),na=new Zo("CONFIG",700),ra=new Zo("FINE",500);Xo.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(L("Root logger has no level set."),null)}(this).value)for(d(e)&&(e=e()),t=new Jo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var ia={},oa=null;function aa(t){var e;if(oa||(oa=new Xo(""),ia[""]=oa,oa.c=na),!(e=ia[t])){e=new Xo(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=aa(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,ia[t]=e}return e}function sa(t,e){t&&t.log(ra,e,void 0)}function ua(t){this.f=t}function ca(t){wn.call(this),this.u=t,this.h=void 0,this.readyState=la,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=aa("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}E(ua,$o),ua.prototype.a=function(){return new ca(this.f)},ua.prototype.b=function(t){return function(){return t}}({}),E(ca,wn);var la=0;function ha(t){t.c.read().then(t.pc.bind(t)).catch(t.Ua.bind(t))}function fa(t){t.readyState=4,t.g=null,t.c=null,t.m=null,pa(t)}function pa(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function da(t){wn.call(this),this.headers=new An,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=va,this.u=this.S=!1}(n=ca.prototype).open=function(t,e){if(this.readyState!=la)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,pa(this)},n.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Ua.bind(this))},n.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,fa(this)),this.readyState=la},n.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,pa(this)),this.a&&(this.readyState=3,pa(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):void 0!==s.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,ha(this)):t.text().then(this.tc.bind(this),this.Ua.bind(this)))))},n.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?fa(this):pa(this),3==this.readyState&&ha(this)}},n.tc=function(t){this.a&&(this.response=this.responseText=t,fa(this))},n.sc=function(t){this.a&&(this.response=t,fa(this))},n.Ua=function(t){var e=this.i;e&&e.log(ea,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&fa(this)},n.setRequestHeader=function(t,e){this.l.append(t,e)},n.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(ea,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},n.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(ea,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ca.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),E(da,wn);var va="";da.prototype.b=aa("goog.net.XhrIo");var ga=/^https?$/i,ya=["POST","PUT"];function ma(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.R=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():Uo.a(),t.C=t.D?Ho(t.D):Ho(Uo),t.a.onreadystatechange=w(t.Vb,t);try{sa(t.b,Ca(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(e){return sa(t.b,Ca(t,"Error opening Xhr: "+e.message)),void _a(t,e)}e=r||"";var o=new An(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||"string"==typeof t)$(t,e,void 0);else for(var n=kn(t),r=Cn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,function(t,e){o.set(e,t)}),i=function(t){t:{for(var e=ba,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=s.FormData&&e instanceof s.FormData,!z(ya,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{Ea(t),0<t.g&&(t.u=function(t){return Qt&&ae(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),sa(t.b,Ca(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=w(t.Ma,t)):t.s=On(t.Ma,t.g,t)),sa(t.b,Ca(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){sa(t.b,Ca(t,"Send error: "+e.message)),_a(t,e)}}function ba(t){return"content-type"==t.toLowerCase()}function _a(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,wa(t),Ta(t)}function wa(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Ia(t){if(t.c&&void 0!==a)if(t.C[1]&&4==Oa(t)&&2==Sa(t))sa(t.b,Ca(t,"Local request error detected and ignored"));else if(t.i&&4==Oa(t))On(t.Vb,0,t);else if(t.dispatchEvent("readystatechange"),4==Oa(t)){sa(t.b,Ca(t,"Request complete")),t.c=!1;try{var e,n=Sa(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(xn)[1]||null;if(!o&&s.self&&s.self.location){var u=s.self.location.protocol;o=u.substr(0,u.length-1)}i=!ga.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Oa(t)?t.a.statusText:""}catch(e){sa(t.b,"Can not get status: "+e.message),c=""}t.h=c+" ["+Sa(t)+"]",wa(t)}}finally{Ta(t)}}}function Ta(t,e){if(t.a){Ea(t);var n=t.a,r=t.C[0]?h:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(ta,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function Ea(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(s.clearTimeout(t.s),t.s=null)}function Oa(t){return t.a?t.a.readyState:0}function Sa(t){try{return 2<Oa(t)?t.a.status:-1}catch(t){return-1}}function Ca(t,e){return e+" ["+t.R+" "+t.l+" "+Sa(t)+"]"}function ka(t){var e=Ua;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Aa(t,e,n){t.a=!0,t.c=n,t.f=!e,Da(t)}function Na(t){if(t.a){if(!t.v)throw new Pa(t);t.v=!1}}function ja(t,e,n,r){t.g.push([e,n,r]),t.a&&Da(t)}function xa(t){return W(t.g,function(t){return d(t[1])})}function Da(t){if(t.h&&t.a&&xa(t)){var e=t.h,n=Ma[e];n&&(s.clearTimeout(n.a),delete Ma[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(D(e)||"function"==typeof s.Promise&&e instanceof s.Promise)&&(r=!0,t.i=!0)}catch(r){e=r,t.f=!0,xa(t)||(n=!0)}}t.c=e,r&&(u=w(t.m,t,!0),r=w(t.m,t,!1),e instanceof ka?(ja(e,u,r),e.C=!0):e.then(u,r)),n&&(e=new La(e),Ma[e.a]=e,t.h=e.a)}function Pa(){P.call(this)}function Ra(){P.call(this)}function La(t){this.a=s.setTimeout(w(this.c,this),0),this.b=t}(n=da.prototype).Ma=function(){void 0!==a&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",sa(this.b,Ca(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},n.abort=function(){this.a&&this.c&&(sa(this.b,Ca(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ta(this))},n.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ta(this,!0)),da.ab.Da.call(this)},n.Vb=function(){this.xa||(this.O||this.i||this.f?Ia(this):this.Jc())},n.Jc=function(){Ia(this)},n.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case va:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(ta,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return sa(this.b,"Can not get response: "+t.message),null}},ka.prototype.cancel=function(t){if(this.a)this.c instanceof ka&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Ra(this),Na(this),Aa(this,!1,t))}},ka.prototype.m=function(t,e){this.i=!1,Aa(this,t,e)},ka.prototype.then=function(t,e,n){var r,i,o=new Ie(function(t,e){r=t,i=e});return ja(this,r,function(t){t instanceof Ra?o.cancel():i(t)}),o.then(t,e,n)},ka.prototype.$goog_Thenable=!0,E(Pa,P),Pa.prototype.message="Deferred has already fired",Pa.prototype.name="AlreadyCalledError",E(Ra,P),Ra.prototype.message="Deferred was canceled",Ra.prototype.name="CanceledError",La.prototype.c=function(){throw delete Ma[this.a],this.b};var Ma={};function Fa(t){var e={},n=e.document||document,r=St(t).toString(),i=ge(document,"SCRIPT"),o={Wb:i,Ma:void 0},a=new ka(o),u=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(u=window.setTimeout(function(){qa(i,!0);var t=new Ka(Ba,"Timeout reached for loading script "+r);Na(a),Aa(a,!1,t)},h),o.Ma=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(qa(i,e.xd||!1,u),Na(a),Aa(a,!0,null))},i.onerror=function(){qa(i,!0,u);var t=new Ka(Va,"Error while loading script "+r);Na(a),Aa(a,!1,t)},yt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),he(i,o),function(t,e){mt(t,"HTMLScriptElement"),t.src=St(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=s?e=l(e.document):(null===c&&(c=l(s.document)),e=c),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function Ua(){if(this&&this.Wb){var t=this.Wb;t&&"SCRIPT"==t.tagName&&qa(t,!0,this.Ma)}}function qa(t,e,n){null!=n&&s.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var Va=0,Ba=1;function Ka(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),P.call(this,n),this.code=t}function $a(t){this.f=t}function Ha(t,n,r){if(this.c=t,t=n||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||za,this.g=vt(t.secureTokenHeaders||Qa),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||Ya,this.a=vt(t.firebaseHeaders||Ja),r&&(this.a["X-Client-Version"]=r,this.g["X-Client-Version"]=r),r="Node"==br(),!(r=s.XMLHttpRequest||r&&e.a.INTERNAL.node&&e.a.INTERNAL.node.XMLHttpRequest)&&!mr())throw new S("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,mr()?this.f=new ua(self):_r()?this.f=new $a(r):this.f=new zo,this.b=null}E(Ka,P),E($a,$o),$a.prototype.a=function(){return new this.f},$a.prototype.b=function(){return{}};var Ga,Wa="idToken",za=new Ur(3e4,6e4),Qa={"Content-Type":"application/x-www-form-urlencoded"},Ya=new Ur(3e4,6e4),Ja={"Content-Type":"application/json"};function Xa(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Za(t,e){e&&(t.l=ts("https://securetoken.googleapis.com/v1/token",e),t.h=ts("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=ts("https://identitytoolkit.googleapis.com/v2/",e))}function ts(t,e){return t=Un(t),e=Un(e.url),t.f=t.a+t.f,Pn(t,e.c),t.a=e.a,Rn(t,e.g),t.toString()}function es(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function ns(t,e,n,r,i,o,a){(function(){var t=Sr();return!((t=Tr(t)!=Ir?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Qt&&ue&&!(9<ue))})()||mr()?t=w(t.u,t):(Ga||(Ga=new Ie(function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{s[is]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))};var n=Ct(rs,{onload:is});!function(t,e){ja(t,null,e,void 0)}(Fa(n),function(){e(Error("CORS_UNSUPPORTED"))})}}(t,e)})),t=w(t.s,t)),t(e,n,r,i,o,a)}Ha.prototype.T=function(){return this.b},Ha.prototype.u=function(t,e,n,r,i,o){if(mr()&&(void 0===s.fetch||void 0===s.Headers||void 0===s.Request))throw new S("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new da(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout(function(){a.dispatchEvent("timeout")},o)}In(a,"complete",function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return sa(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){t=null}e&&e(t)}),Tn(a,"ready",function(){u&&clearTimeout(u),Ge(this)}),Tn(a,"timeout",function(){u&&clearTimeout(u),Ge(this),e&&e(null)}),ma(a,t,n,r,i)};var rs=new bt(Tt,"https://apis.google.com/js/client.js?onload=%{onload}"),is="__fcb"+Math.floor(1e6*Math.random()).toString();function os(t,e,n,r,i,o,a){var s=Un(e+n);Mn(s,"key",t.c),a&&Mn(s,"cb",T().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Mn(s,c,i[c]);return new Ie(function(e,n){ns(t,s.toString(),function(t){t?t.error?n(tu(t,o||{})):e(t):n(new S("network-request-failed"))},r,u?void 0:rr(Pr(i)),t.a,t.v.get())})}function as(t){if("string"!=typeof(t=t.email)||!dr.test(t))throw new S("invalid-email")}function ss(t){"email"in t&&as(t)}function us(t){if(!t[Wa]){if(t.mfaPendingCredential)throw new S("multi-factor-auth-required",null,vt(t));throw new S("internal-error")}}function cs(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new S("internal-error")}else{if(!t.sessionInfo)throw new S("missing-verification-id");if(!t.code)throw new S("missing-verification-code")}}Ha.prototype.s=function(t,e,n,r,i){var o=this;Ga.then(function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})}).o(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},Ha.prototype.zb=function(){return Xs(this,qs,{})},Ha.prototype.Bb=function(t,e){return Xs(this,Fs,{idToken:t,email:e})},Ha.prototype.Cb=function(t,e){return Xs(this,Us,{idToken:t,password:e})};var ls={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function hs(t){if(!t.phoneVerificationInfo)throw new S("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new S("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new S("missing-verification-code")}function fs(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new S("internal-error")}function ps(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(Zn(t=new Qn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function ds(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Ko(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Ko(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Ko(t)):t.errorMessage&&(e=Zs(t.errorMessage)),e)throw e;us(t)}function vs(t,e){return e.returnIdpCredential=!0,Xs(t,Ks,e)}function gs(t,e){return e.returnIdpCredential=!0,Xs(t,Hs,e)}function ys(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Xs(t,$s,e)}function ms(t){if(!t.oobCode)throw new S("invalid-action-code")}(n=Ha.prototype).Db=function(t,e){var n={idToken:t},r=[];return pt(ls,function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),Xs(this,Fs,n)},n.vb=function(t,e){return yt(t={requestType:"PASSWORD_RESET",email:t},e),Xs(this,Ds,t)},n.wb=function(t,e){return yt(t={requestType:"EMAIL_SIGNIN",email:t},e),Xs(this,Ns,t)},n.ub=function(t,e){return yt(t={requestType:"VERIFY_EMAIL",idToken:t},e),Xs(this,js,t)},n.Eb=function(t,e,n){return yt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),Xs(this,xs,t)},n.fb=function(t){return Xs(this,zs,t)},n.nb=function(t,e){return Xs(this,Ls,{oobCode:t,newPassword:e})},n.Ra=function(t){return Xs(this,_s,{oobCode:t})},n.jb=function(t){return Xs(this,bs,{oobCode:t})};var bs={endpoint:"setAccountInfo",A:ms,Z:"email",B:!0},_s={endpoint:"resetPassword",A:ms,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new S("internal-error")},B:!0},ws={endpoint:"signupNewUser",A:function(t){if(as(t),!t.password)throw new S("weak-password")},G:us,V:!0,B:!0},Is={endpoint:"createAuthUri",B:!0},Ts={endpoint:"deleteAccount",N:["idToken"]},Es={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new S("internal-error")}},Os={endpoint:"emailLinkSignin",N:["email","oobCode"],A:as,G:us,V:!0,B:!0},Ss={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:as,G:us,V:!0},Cs={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:hs,G:us,B:!0,Na:!0},ks={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:hs,G:us,B:!0,Na:!0},As={endpoint:"getAccountInfo"},Ns={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new S("internal-error");as(t)},Z:"email",B:!0},js={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new S("internal-error")},Z:"email",B:!0},xs={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new S("internal-error")},Z:"email",B:!0},Ds={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new S("internal-error");as(t)},Z:"email",B:!0},Ps={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},Rs={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new S("internal-error")}},Ls={endpoint:"resetPassword",A:ms,Z:"email",B:!0},Ms={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Fs={endpoint:"setAccountInfo",N:["idToken"],A:ss,V:!0},Us={endpoint:"setAccountInfo",N:["idToken"],A:function(t){if(ss(t),!t.password)throw new S("weak-password")},G:us,V:!0},qs={endpoint:"signupNewUser",G:us,V:!0,B:!0},Vs={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new S("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new S("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new S("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new S("internal-error")},B:!0,Na:!0},Bs={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new S("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new S("internal-error")},B:!0,Na:!0},Ks={endpoint:"verifyAssertion",A:fs,Ya:ps,G:ds,V:!0,B:!0},$s={endpoint:"verifyAssertion",A:fs,Ya:ps,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new S("user-not-found");if(t.errorMessage)throw Zs(t.errorMessage);us(t)},V:!0,B:!0},Hs={endpoint:"verifyAssertion",A:function(t){if(fs(t),!t.idToken)throw new S("internal-error")},Ya:ps,G:ds,V:!0},Gs={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new S("invalid-custom-token")},G:us,V:!0,B:!0},Ws={endpoint:"verifyPassword",A:function(t){if(as(t),!t.password)throw new S("wrong-password")},G:us,V:!0,B:!0},zs={endpoint:"verifyPhoneNumber",A:cs,G:us,B:!0},Qs={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new S("internal-error");cs(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Ko(t);us(t)}},Ys={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:cs,G:us,B:!0},Js={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Wa]^!!t.refreshToken)throw new S("internal-error")},B:!0,Na:!0};function Xs(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,e.N))return Ne(new S("internal-error"));var r,i=!!e.Na,o=e.Ub||"POST";return Ae(n).then(e.A).then(function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),os(t,i?t.i:t.h,e.endpoint,o,n,e.Hb,e.lb||!1)}).then(function(t){return r=t,e.Ya?e.Ya(n,r):r}).then(e.G).then(function(){if(!e.Z)return r;if(!(e.Z in r))throw new S("internal-error");return r[e.Z]})}function Zs(t){return tu({error:{errors:[{message:t}],code:400,message:t}})}function tu(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new S(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",yt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new S(r[i],e);return!e&&t&&(e=Dr(t)),new S("internal-error",e)}function eu(t){this.b=t,this.a=null,this.rb=function(t){return(ou||(ou=new Ie(function(t,e){function n(){Fr(),Cr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Fr(),e(Error("Network Error"))},timeout:ru.get()})}if(Cr("gapi.iframes.Iframe"))t();else if(Cr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){Cr("gapi.load")?n():e(Error("Network Error"))},Ae(Fa(r=Ct(nu,{onload:r}))).o(function(){e(Error("Network Error"))})}}).o(function(t){throw ou=null,t}))).then(function(){return new Ie(function(e,n){Cr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Cr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},iu.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}(this)}var nu=new bt(Tt,"https://apis.google.com/js/api.js?onload=%{onload}"),ru=new Ur(3e4,6e4),iu=new Ur(5e3,15e3),ou=null;function au(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,this.g?t=qn((t=Un(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):t=qn("https",this.l,null,"/__/auth/iframe"),this.a=t,Mn(this.a,"apiKey",this.h),Mn(this.a,"appName",this.i),this.b=null,this.c=[]}function su(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function uu(t){try{return e.a.app(t).auth().Ga()}catch(t){return[]}}function cu(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function lu(t){var e=ur();return function(t){return Xs(t,Ps,{}).then(function(t){return t.authorizedDomains||[]})}(t).then(function(t){t:{var n=Un(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Un(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:pr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new Vo(ur())})}function hu(t){return t.m?t.m:(t.m=vr().then(function(){if(!t.u){var e=t.c,n=t.i,r=uu(t.b),i=new au(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=X(r||[]),t.u=i.toString()}t.v=new eu(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.rb.then(function(){t.a.register("authEvent",e,Cr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(t.v,function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Fo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Ae(n)}return n.status="ERROR",Ae(n)})}(t)}),t.m)}function fu(t){return t.l||(t.C=t.c?Or(t.c,uu(t.b)):null,t.l=new Ha(t.g,x(t.i),t.C),t.f&&Za(t.l,t.f)),t.l}function pu(t,e,n,r,i,o,a,s,u,c,l,h){return(t=new su(t,e,n,r,i,h)).l=o,t.g=a,t.i=s,t.b=vt(u||null),t.f=c,t.yb(l).toString()}function du(t){if(this.a=t||e.a.INTERNAL.reactNative&&e.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new S("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function vu(t){this.b=t,this.a={},this.f=w(this.c,this)}au.prototype.toString=function(){return this.f?Mn(this.a,"v",this.f):Xn(this.a.b,"v"),this.b?Mn(this.a,"eid",this.b):Xn(this.a.b,"eid"),this.c.length?Mn(this.a,"fw",this.c.join(",")):Xn(this.a.b,"fw"),this.a.toString()},su.prototype.yb=function(t){return this.h=t,this},su.prototype.toString=function(){if(this.v){var t=Un(this.v.url);t=qn(t.c,t.a,t.g,"/emulator/auth/handler")}else t=qn("https",this.u,null,"/__/auth/handler");if(Mn(t,"apiKey",this.s),Mn(t,"appName",this.c),Mn(t,"authType",this.m),this.a.isOAuthProvider){var n=this.a;try{var r=e.a.app(this.c).auth().la()}catch(t){r=null}for(var i in n.ob=r,Mn(t,"providerId",this.a.providerId),n=Pr((r=this.a).Ib))n[i]=n[i].toString();i=r.Qc,n=vt(n);for(var o=0;o<i.length;o++){var a=i[o];a in n&&delete n[a]}r.pb&&r.ob&&!n[r.pb]&&(n[r.pb]=r.ob),dt(n)||Mn(t,"customParameters",Dr(n))}if("function"==typeof this.a.Qb&&((r=this.a.Qb()).length&&Mn(t,"scopes",r.join(","))),this.l?Mn(t,"redirectUrl",this.l):Xn(t.b,"redirectUrl"),this.g?Mn(t,"eventId",this.g):Xn(t.b,"eventId"),this.i?Mn(t,"v",this.i):Xn(t.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Fn(t,s)&&Mn(t,s,this.b[s]);return this.h?Mn(t,"tid",this.h):Xn(t.b,"tid"),this.f?Mn(t,"eid",this.f):Xn(t.b,"eid"),(s=uu(this.c)).length&&Mn(t,"fw",s.join(",")),t.toString()},(n=cu.prototype).Ob=function(t,e,n){var r=new S("popup-closed-by-user"),i=new S("web-storage-unsupported"),o=this,a=!1;return this.ma().then(function(){(function(t){var e={type:"webStorageSupport"};return hu(t).then(function(){return function(t,e){return t.rb.then(function(){return new Ie(function(n){t.a.send(e.type,e,n,Cr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(t.v,e)}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})})(o).then(function(n){n||(t&&hr(t),e(i),a=!0)})}).o(function(){}).then(function(){if(!a)return function(t){return new Ie(function(e){return function n(){Sn(2e3).then(function(){if(t&&!t.closed)return n();e()})}()})}(t)}).then(function(){if(!a)return Sn(n).then(function(){e(r)})})},n.Xb=function(){var t=Sr();return!xr(t)&&!Mr(t)},n.Tb=function(){return!1},n.Mb=function(t,e,n,r,i,o,a,s){if(!t)return Ne(new S("popup-blocked"));if(a&&!xr())return this.ma().o(function(e){hr(t),i(e)}),r(),Ae();this.a||(this.a=lu(fu(this)));var u=this;return this.a.then(function(){var e=u.ma().o(function(e){throw hr(t),i(e),e});return r(),e}).then(function(){(Lo(n),a)||cr(pu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,s,u.f),t)}).o(function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t})},n.Nb=function(t,e,n,r){this.a||(this.a=lu(fu(this)));var i=this;return this.a.then(function(){Lo(e),cr(pu(i.s,i.g,i.b,t,e,ur(),n,i.c,void 0,i.i,r,i.f))}).o(function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t})},n.ma=function(){var t=this;return hu(this).then(function(){return t.v.rb}).o(function(){throw t.a=null,new S("network-request-failed")})},n.$b=function(){return!0},n.Ea=function(t){this.h.push(t)},n.Sa=function(t){Y(this.h,function(e){return e==t})},(n=du.prototype).get=function(t){return Ae(this.a.getItem(t)).then(function(t){return t&&Rr(t)})},n.set=function(t,e){return Ae(this.a.setItem(t,Dr(e)))},n.U=function(t){return Ae(this.a.removeItem(t))},n.ca=function(){},n.ia=function(){};var gu,yu=[];function mu(t,e,n){dt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function bu(t){this.a=t}function _u(t){this.c=t,this.b=!1,this.a=[]}function wu(t,e,n,r){var i,o,a,s,u=n||{},c=null;if(t.b)return Ne(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new Ie(function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout(function(){r(Error("unsupported_event"))},l),c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout(function(){r(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(s),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},t.a.push(c),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))}).then(function(e){return Iu(t,c),e}).o(function(e){throw Iu(t,c),e})}function Iu(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),Y(t.a,function(t){return t==e})}}function Tu(){if(!Cu())throw new S("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=s.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;mr()&&self?(this.v=function(){var t=mr()?self:null;if($(yu,function(n){n.b==t&&(e=n)}),!e){var e=new vu(t);yu.push(e)}return e}(),mu(this.v,"keyChanged",function(e,n){return xu(t).then(function(e){return 0<e.length&&$(t.a,function(t){t(e)}),{keyProcessed:z(e,n.key)}})}),mu(this.v,"ping",function(){return Ae(["keyChanged"])})):function(){var t=s.navigator;return t&&t.serviceWorker?Ae().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).o(function(){return null}):Ae(null)}().then(function(e){(t.h=e)&&(t.g=new _u(new bu(e)),wu(t.g,"ping",null,!0).then(function(e){e[0].fulfilled&&z(e[0].value,"keyChanged")&&(t.s=!0)}).o(function(){}))})}function Eu(t){return new Ie(function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(t){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new Ie(function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}})}(t).then(function(){return Eu(t)}).then(function(t){e(t)}).o(function(t){n(t)})}})}function Ou(t){return t.i||(t.i=Eu(t)),t.i}function Su(t,e){var n=0;return new Ie(function r(i,o){Ou(t).then(e).then(i).o(function(e){if(!(3<++n))return Ou(t).then(function(e){return e.close(),t.i=void 0,r(i,o)}).o(function(t){o(t)});o(e)})})}function Cu(){try{return!!s.indexedDB}catch(t){return!1}}function ku(t){return t.objectStore("firebaseLocalStorage")}function Au(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Nu(t){return new Ie(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}})}function ju(t,e){return t.g&&t.h&&function(){var t=s.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?wu(t.g,"keyChanged",{key:e},t.s).then(function(){}).o(function(){}):Ae()}function xu(t){return Ou(t).then(function(t){var e=ku(Au(t,!1));return e.getAll?Nu(e.getAll()):new Ie(function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}})}).then(function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r})}function Du(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Pu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Ae().then(function(){if(Cu()){var t=Lr(),r="__sak"+t;return gu||(gu=new Tu),(n=gu).set(r,t).then(function(){return n.get(r)}).then(function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)}).then(function(){return n}).o(function(){return e.c})}return e.c}).then(function(t){return e.type=t.type,t.ca(function(t){$(e.a,function(e){e(t)})}),t})}function Ru(){this.a={},this.type="inMemory"}function Lu(){if(!function(){var t="Node"==br();if(!(t=Mu()||t&&e.a.INTERNAL.node&&e.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==br())throw new S("internal-error","The LocalStorage compatibility library was not found.");throw new S("web-storage-unsupported")}this.a=Mu()||e.a.INTERNAL.node.localStorage,this.type="localStorage"}function Mu(){try{var t=s.localStorage,e=Lr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Fu(){this.type="nullStorage"}function Uu(){if(!function(){var t="Node"==br();if(!(t=qu()||t&&e.a.INTERNAL.node&&e.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==br())throw new S("internal-error","The SessionStorage compatibility library was not found.");throw new S("web-storage-unsupported")}this.a=qu()||e.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function qu(){try{var t=s.sessionStorage,e=Lr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}vu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];$(r,function(e){i.push(Ae().then(function(){return e(t.origin,t.data.data)}))}),xe(i).then(function(r){var i=[];$(r,function(t){i.push({fulfilled:t.Pb,value:t.value,reason:t.reason?t.reason.message:void 0})}),$(i,function(t){for(var e in t)void 0===t[e]&&delete t[e]}),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})})}},bu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},_u.prototype.close=function(){for(;0<this.a.length;)Iu(this,this.a[0]);this.b=!0},(n=Tu.prototype).set=function(t,e){var n=this,r=!1;return Su(this,function(e){return Nu((e=ku(Au(e,!0))).get(t))}).then(function(i){return Su(n,function(o){if(o=ku(Au(o,!0)),i)return i.value=e,Nu(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=t,a.value=e,Nu(o.add(a))})}).then(function(){return n.c[t]=e,ju(n,t)}).oa(function(){r&&n.b--})},n.get=function(t){return Su(this,function(e){return Nu(ku(Au(e,!1)).get(t))}).then(function(t){return t&&t.value})},n.U=function(t){var e=this,n=!1;return Su(this,function(r){return n=!0,e.b++,Nu(ku(Au(r,!0)).delete(t))}).then(function(){return delete e.c[t],ju(e,t)}).oa(function(){n&&e.b--})},n.ca=function(t){0==this.a.length&&function(t){Du(t),function e(){t.f=setTimeout(function(){t.l=xu(t).then(function(e){0<e.length&&$(t.a,function(t){t(e)})}).then(function(){e()}).o(function(t){"STOP_EVENT"!=t.message&&e()})},800)}()}(this),this.a.push(t)},n.ia=function(t){Y(this.a,function(e){return e==t}),0==this.a.length&&Du(this)},(n=Pu.prototype).get=function(t){return this.b.then(function(e){return e.get(t)})},n.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},n.U=function(t){return this.b.then(function(e){return e.U(t)})},n.ca=function(t){this.a.push(t)},n.ia=function(t){Y(this.a,function(e){return e==t})},(n=Ru.prototype).get=function(t){return Ae(this.a[t])},n.set=function(t,e){return this.a[t]=e,Ae()},n.U=function(t){return delete this.a[t],Ae()},n.ca=function(){},n.ia=function(){},(n=Lu.prototype).get=function(t){var e=this;return Ae().then(function(){return Rr(e.a.getItem(t))})},n.set=function(t,e){var n=this;return Ae().then(function(){var r=Dr(e);null===r?n.U(t):n.a.setItem(t,r)})},n.U=function(t){var e=this;return Ae().then(function(){e.a.removeItem(t)})},n.ca=function(t){s.window&&cn(s.window,"storage",t)},n.ia=function(t){s.window&&fn(s.window,"storage",t)},(n=Fu.prototype).get=function(){return Ae(null)},n.set=function(){return Ae()},n.U=function(){return Ae()},n.ca=function(){},n.ia=function(){},(n=Uu.prototype).get=function(t){var e=this;return Ae().then(function(){return Rr(e.a.getItem(t))})},n.set=function(t,e){var n=this;return Ae().then(function(){var r=Dr(e);null===r?n.U(t):n.a.setItem(t,r)})},n.U=function(t){var e=this;return Ae().then(function(){e.a.removeItem(t)})},n.ca=function(){},n.ia=function(){};var Vu,Bu,Ku={F:Lu,bb:Uu},$u={F:Lu,bb:Uu},Hu={F:du,bb:Fu},Gu={F:Lu,bb:Fu},Wu={rd:"local",NONE:"none",td:"session"};function zu(){var t=!(Mr(Sr())||!yr()),e=xr(),n=kr();this.m=t,this.h=e,this.l=n,this.a={},Vu||(Vu=new function(){var t={};t.Browser=Ku,t.Node=$u,t.ReactNative=Hu,t.Worker=Gu,this.a=t[br()]}),t=Vu;try{this.g=!sr()&&Br()||!s.indexedDB?new t.a.F:new Pu(mr()?new Ru:new t.a.F)}catch(t){this.g=new Ru,this.h=!0}try{this.i=new t.a.bb}catch(t){this.i=new Ru}this.v=new Ru,this.f=w(this.Yb,this),this.b={}}function Qu(){return Bu||(Bu=new zu),Bu}function Yu(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function Ju(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Xu(t,e,n){return n=Ju(e,n),"local"==e.F&&(t.b[n]=null),Yu(t,e.F).U(n)}function Zu(t){t.c&&(clearInterval(t.c),t.c=null)}(n=zu.prototype).get=function(t,e){return Yu(this,t.F).get(Ju(t,e))},n.set=function(t,e,n){var r=Ju(t,n),i=this,o=Yu(this,t.F);return o.set(r,e).then(function(){return o.get(r)}).then(function(e){"local"==t.F&&(i.b[r]=e)})},n.addListener=function(t,e,n){t=Ju(t,e),this.l&&(this.b[t]=s.localStorage.getItem(t)),dt(this.a)&&(Yu(this,"local").ca(this.f),this.h||(sr()||!Br())&&s.indexedDB||!this.l||function(t){Zu(t),t.c=setInterval(function(){for(var e in t.a){var n=s.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Xe({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Yb(n))}},1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},n.removeListener=function(t,e,n){t=Ju(t,e),this.a[t]&&(Y(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),dt(this.a)&&(Yu(this,"local").ia(this.f),Zu(this))},n.Yb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.mb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Yu(this,"local").ia(this.f):Zu(this),this.m)if(n=s.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?s.localStorage.setItem(e,r):s.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===s.localStorage.getItem(e)||(o.b[e]=s.localStorage.getItem(e),o.mb(e))},Qt&&ue&&10==ue&&s.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else $(t,w(this.mb,this))},n.mb=function(t){this.a[t]&&$(this.a[t],function(t){t()})};var tc,ec={name:"authEvent",F:"local"};function nc(t,e){this.b=rc,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===tc&&(tc=s.Int32Array?new Int32Array(lc):lc),this.reset()}E(nc,function(){this.b=-1});for(var rc=64,ic=rc-1,oc=[],ac=0;ac<ic;ac++)oc[ac]=0;var sc=J(128,oc);function uc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|tc[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function cc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(uc(t),i=0);else{if(!p(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(uc(t),i=0)}}t.c=i,t.g+=n}nc.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):X(this.h)};var lc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function hc(){nc.call(this,8,fc)}E(hc,nc);var fc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function pc(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new function(){this.a=Qu()},this.g=new function(t){this.a=t,this.b=Qu()}(this.h),this.f=null,this.b=[],this.a=this.c=null}function dc(t){return new S("invalid-cordova-configuration",t)}function vc(t){var e=new hc;cc(e,t),t=[];var n=8*e.g;56>e.c?cc(e,sc,56-e.c):cc(e,sc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(uc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return G(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(t)}function gc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function yc(t){return t.f||(t.f=t.ma().then(function(){return new Ie(function(e){t.Ea(function n(r){return e(r),t.Sa(n),!1}),function(t){function e(e){r=!0,i&&i.cancel(),mc(t).then(function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=eo(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Rr(Fn(o=Un(i),"firebaseError")||null))?C(o):null)?new Mo(r.c,r.b,null,null,o,null,r.T()):new Mo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}gc(t,i)})}var n=new Mo("unknown",null,null,null,new S("no-auth-event")),r=!1,i=Sn(500).then(function(){return mc(t).then(function(){r||gc(t,n)})}),o=s.handleOpenURL;s.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Cr("BuildInfo.packageName",s).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(t){console.error(t)}},qo||(qo=new function(){this.b=null,this.a=[]}),function(t){var e=qo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Cr("universalLinks.subscribe",s))&&t(null,e.b))}(e)}(t)})})),t.f}function mc(t){var e=null;return function(t){return t.b.get(ec,t.a).then(function(t){return Fo(t)})}(t.g).then(function(n){return e=n,Xu((n=t.g).b,ec,n.a)}).then(function(){return e})}(n=pc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(gr(void 0)?vr().then(function(){return new Ie(function(t,e){var n=s.document,r=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),t()},!1)})}):Ne(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof Cr("universalLinks.subscribe",s))throw dc("cordova-universal-links-plugin-fix is not installed");if(void 0===Cr("BuildInfo.packageName",s))throw dc("cordova-plugin-buildinfo is not installed");if("function"!=typeof Cr("cordova.plugins.browsertab.openUrl",s))throw dc("cordova-plugin-browsertab is not installed");if("function"!=typeof Cr("cordova.InAppBrowser.open",s))throw dc("cordova-plugin-inappbrowser is not installed")},function(){throw new S("cordova-not-ready")})},n.Ob=function(t,e){return e(new S("operation-not-supported-in-this-environment")),Ae()},n.Mb=function(){return Ne(new S("operation-not-supported-in-this-environment"))},n.$b=function(){return!1},n.Xb=function(){return!0},n.Tb=function(){return!0},n.Nb=function(t,e,n,r){if(this.c)return Ne(new S("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,c=null,l=null;return this.c=Ae().then(function(){return Lo(e),yc(i)}).then(function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Mo(e,r,null,o,new S("no-auth-event"),null,i),u=Cr("BuildInfo.packageName",s);if("string"!=typeof u)throw new S("invalid-cordova-configuration");var c=Cr("BuildInfo.displayName",s),l={};if(Sr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!Sr().toLowerCase().match(/android/))return Ne(new S("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=vc(o),l.sessionId=o;var h=pu(t.v,t.i,t.l,e,n,null,r,t.m,l,t.u,i,t.s);return t.ma().then(function(){var e=t.h;return t.C.a.set(ec,a.w(),e)}).then(function(){var e=Cr("cordova.plugins.browsertab.isAvailable",s);if("function"!=typeof e)throw new S("invalid-cordova-configuration");var n=null;e(function(e){if(e){if("function"!=typeof(n=Cr("cordova.plugins.browsertab.openUrl",s)))throw new S("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Cr("cordova.InAppBrowser.open",s)))throw new S("invalid-cordova-configuration");e=Sr(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(i,t,e,n,r)}).then(function(){return new Ie(function(t,e){u=function(){var e=Cr("cordova.plugins.browsertab.close",s);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),c=function(){a||(a=Sn(2e3).then(function(){e(new S("redirect-cancelled-by-user"))}))},l=function(){qr()&&c()},o.addEventListener("resume",c,!1),Sr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)}).o(function(t){return mc(i).then(function(){throw t})})}).oa(function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),u&&i.Sa(u),i.c=null})},n.Ea=function(t){this.b.push(t),yc(this).o(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Mo("unknown",null,null,null,new S("no-auth-event")),t(e))})},n.Sa=function(t){Y(this.b,function(e){return e==t})};var bc={name:"pendingRedirect",F:"session"};function _c(t){return Xu(t.b,bc,t.a)}function wc(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=w(this.s,this),this.b=new Lc,this.C=new Vc,this.g=new function(t){this.a=t,this.b=Qu()}(Pc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Ic(this.D,this.v,this.m,k,this.J)}function Ic(t,n,r,i,o){var a=e.a.SDK_VERSION||null;return gr()?new pc(t,n,r,a,i,o):new cu(t,n,r,a,i,o)}function Tc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o(function(n){throw t.a==e&&t.reset(),n})}function Ec(t){t.a.Xb()&&Tc(t).o(function(e){var n=new Mo("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));Nc(e)&&t.s(n)}),t.a.Tb()||Mc(t.b)}function Oc(t,e){z(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(bc,t.a).then(function(t){return"pending"==t})}(t.g).then(function(e){e?_c(t.g).then(function(){Tc(t).o(function(e){var n=new Mo("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));Nc(e)&&t.s(n)})}):Ec(t)}).o(function(){Ec(t)})}function Sc(t,e){Y(t.h,function(t){return t==e})}wc.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=Ic(this.D,this.v,this.m,null,this.J),this.i={}},wc.prototype.s=function(t){if(!t)throw new S("invalid-auth-event");if(6e5<=T()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Fb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=T())),e=!0;break}}return Mc(this.b),e};var Cc=new Ur(2e3,1e4),kc=new Ur(3e4,6e4);function Ac(t,e,n,r,i,o,a){return t.a.Mb(e,n,r,function(){t.f||(t.f=!0,t.a.Ea(t.l))},function(){t.reset()},i,o,a)}function Nc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function jc(t,e,n,r,i){var o;return function(t){return t.b.set(bc,"pending",t.a)}(t.g).then(function(){return t.a.Nb(e,n,r,i).o(function(e){if(Nc(e))throw new S("operation-not-supported-in-this-environment");return o=e,_c(t.g).then(function(){throw o})}).then(function(){return t.a.$b()?new Ie(function(){}):_c(t.g).then(function(){return t.qa()}).then(function(){}).o(function(){})})})}function xc(t,e,n,r,i){return t.a.Ob(r,function(t){e.na(n,null,t,i)},Cc.get())}wc.prototype.qa=function(){return this.b.qa()};var Dc={};function Pc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Rc(t,e,n,r){var i=Pc(e,n,r);return Dc[i]||(Dc[i]=new wc(t,e,n,r)),Dc[i]}function Lc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Mc(t){t.g||(t.g=!0,qc(t,!1,null,null))}function Fc(t){t.g&&!t.i&&qc(t,!1,null,null)}function Uc(t,e){if(t.b=function(){return Ae(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function qc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ne(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Uc(t,n):Uc(t,{user:null}),t.f=[],t.c=[]}function Vc(){}function Bc(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(t){this.ib=t},enumerable:!1})}function Kc(t,e){this.a=e,Wr(this,"verificationId",t)}function $c(t,e,n,r){return new Do(t).fb(e,n).then(function(t){return new Kc(t,r)})}function Hc(t,e,n){var r=e&&e[Wc];if(!r)throw new S("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=vt(e),this.g=n,this.c=new no(null,r),this.b=[];var i=this;$(e[Gc]||[],function(t){(t=Xr(t))&&i.b.push(t)}),Wr(this,"auth",this.a),Wr(this,"session",this.c),Wr(this,"hints",this.b)}Lc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Lc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(qc(this,!0,null,t.a),Ae()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,a=e.T(),s=!!e.c.match(/Redirect$/);n(r,i,a,o).then(function(e){qc(t,s,e,null)}).o(function(e){qc(t,s,null,e)})}(this,t,e):Ne(new S("invalid-auth-event")):(qc(this,!1,null,null),Ae())}else Ne(new S("invalid-auth-event"))},Lc.prototype.qa=function(){var t=this;return new Ie(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new S("timeout");t.a&&t.a.cancel(),t.a=Sn(kc.get()).then(function(){t.b||(t.g=!0,qc(t,!0,null,e))})}(t))})},Vc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),Ae()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then(function(t){e.na(r,t,null,n)}).o(function(t){e.na(r,null,t,n)})}(t,e):Ne(new S("invalid-auth-event"))}else Ne(new S("invalid-auth-event"))},Kc.prototype.confirm=function(t){return t=Po(this.verificationId,t),this.a(t)};var Gc="mfaInfo",Wc="mfaPendingCredential";function zc(t,e,n,r){S.call(this,"multi-factor-auth-required",r,e),this.b=new Hc(t,e,n),Wr(this,"resolver",this.b)}function Qc(t,e,n){if(t&&v(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new zc(e,t.serverResponse,n,t.message)}catch(t){}return null}function Yc(){}function Jc(t){Wr(this,"factorId",t.fa),this.a=t}function Xc(t){if(Jc.call(this,t),this.a.fa!=Do.PROVIDER_ID)throw new S("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function Zc(t,e){for(var n in Je.call(this,t),e)this[n]=e[n]}function tl(t,e){this.a=t,this.b=[],this.c=w(this.yc,this),cn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&$(e.multiFactor.enrolledFactors,function(t){var e=null,r={};if(t){t.uid&&(r[ei]=t.uid),t.displayName&&(r[Zr]=t.displayName),t.enrollmentTime&&(r[ti]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ni]=t.phoneNumber);try{e=new ri(r)}catch(t){}t=e}else t=null;t&&n.push(t)}),el(this,n)}function el(t,e){t.b=e,Wr(t,"enrolledFactors",e)}function nl(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function rl(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function il(t,e){void 0===e&&(t.b?e=(e=t.b).a-e.g:e=0),t.c=Date.now()+1e3*e}function ol(t,e){t.b=qi(e[Wa]||""),t.a=e.refreshToken,il(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function al(t,e){return function(t,e){return new Ie(function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?ns(t,t.l+"?key="+encodeURIComponent(t.c),function(t){t?t.error?r(tu(t)):t.access_token&&t.refresh_token?n(t):r(new S("internal-error")):r(new S("network-request-failed"))},"POST",Jn(e).toString(),t.g,t.m.get()):r(new S("internal-error"))})}(t.f,e).then(function(e){return t.b=qi(e.access_token),t.a=e.refresh_token,il(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}}).o(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}function sl(t,e){this.a=t||null,this.b=e||null,zr(this,{lastSignInTime:Vr(e||null),creationTime:Vr(t||null)})}function ul(t,n,r){this.J=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var i=e.a.SDK_VERSION?Or(e.a.SDK_VERSION):null;this.a=new Ha(this.l,x(k),i),t.emulatorConfig&&Za(this.a,t.emulatorConfig),this.b=new rl(this.a),gl(this,n[Wa]),ol(this.b,n),Wr(this,"refreshToken",this.b.a),bl(this,r||{}),wn.call(this),this.R=!1,this.s&&Ar()&&(this.i=Rc(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=function(t){return new nl(function(){return t.I(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.b.c-Date.now()-3e5;return 0<e?e:0})}(this),this.aa=w(this.hb,this);var o=this;this.ya=null,this.Oa=function(t){o.wa(t.h)},this.ja=null,this.Aa=function(t){Za(o.a,t.c)},this.X=null,this.$=[],this.Ba=function(t){hl(o,t.f)},this.ba=null,this.O=new tl(this,r),Wr(this,"multiFactor",this.O)}function cl(t,e){t.ja&&fn(t.ja,"languageCodeChanged",t.Oa),(t.ja=e)&&cn(e,"languageCodeChanged",t.Oa)}function ll(t,e){t.X&&fn(t.X,"emulatorConfigChanged",t.Aa),(t.X=e)&&cn(e,"emulatorConfigChanged",t.Aa)}function hl(t,n){t.$=n,es(t.a,e.a.SDK_VERSION?Or(e.a.SDK_VERSION,t.$):null)}function fl(t,e){t.ba&&fn(t.ba,"frameworkChanged",t.Ba),(t.ba=e)&&cn(e,"frameworkChanged",t.Ba)}function pl(t){try{return e.a.app(t.m).auth()}catch(e){throw new S("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function dl(t){t.D||t.u.b||(t.u.start(),fn(t,"tokenChanged",t.aa),cn(t,"tokenChanged",t.aa))}function vl(t){fn(t,"tokenChanged",t.aa),t.u.stop()}function gl(t,e){t.za=e,Wr(t,"_lat",e)}function yl(t){for(var e=[],n=0;n<t.S.length;n++)e.push(t.S[n](t));return xe(e).then(function(){return t})}function ml(t){t.i&&!t.R&&(t.R=!0,Oc(t.i,t))}function bl(t,e){zr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new sl(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function _l(){}function wl(t){return Ae().then(function(){if(t.D)throw new S("app-deleted")})}function Il(t){return G(t.providerData,function(t){return t.providerId})}function Tl(t,e){e&&(El(t,e.providerId),t.providerData.push(e))}function El(t,e){Y(t.providerData,function(t){return t.providerId==e})}function Ol(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Wr(t,e,n)}function Sl(t,e){t!=e&&(zr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Wr(t,"metadata",function(t){return new sl(t.a,t.b)}(e.metadata)):Wr(t,"metadata",new sl),$(e.providerData,function(e){Tl(t,e)}),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),Wr(t,"refreshToken",t.b.a),el(t.O,e.O.b))}function Cl(t){return t.I().then(function(e){var n=t.isAnonymous;return function(t,e){return Xs(t.a,As,{idToken:e}).then(w(t.Kc,t))}(t,e).then(function(){return n||Ol(t,"isAnonymous",!1),e})})}function kl(t,e){e[Wa]&&t.za!=e[Wa]&&(ol(t.b,e),t.dispatchEvent(new Zc("tokenChanged")),gl(t,e[Wa]),Ol(t,"refreshToken",t.b.a))}function Al(t,e){return Cl(t).then(function(){if(z(Il(t),e))return yl(t).then(function(){throw new S("provider-already-linked")})})}function Nl(t,e,n){return Qr({user:t,credential:Ro(e),additionalUserInfo:e=Gi(e),operationType:n})}function jl(t,e){return kl(t,e),t.reload().then(function(){return t})}function xl(t,n,r,i,o){if(!Ar())return Ne(new S("operation-not-supported-in-this-environment"));if(t.h&&!o)return Ne(t.h);var a=Hi(r.providerId),s=Lr(t.uid+":::"),u=null;(!xr()||yr())&&t.s&&r.isOAuthProvider&&(u=pu(t.s,t.l,t.m,n,r,null,s,e.a.SDK_VERSION||null,null,null,t.tenantId));var c=fr(u,a&&a.ua,a&&a.ta);return i=i().then(function(){if(Pl(t),!o)return t.I().then(function(){})}).then(function(){return Ac(t.i,c,n,r,s,!!u,t.tenantId)}).then(function(){return new Ie(function(e,r){t.na(n,null,new S("cancelled-popup-request"),t.g||null),t.f=e,t.C=r,t.g=s,t.c=xc(t.i,t,n,c,s)})}).then(function(t){return c&&hr(c),t?Qr(t):null}).o(function(t){throw c&&hr(c),t}),Rl(t,i,o)}function Dl(t,e,n,r,i){if(!Ar())return Ne(new S("operation-not-supported-in-this-environment"));if(t.h&&!i)return Ne(t.h);var o=null,a=Lr(t.uid+":::");return r=r().then(function(){if(Pl(t),!i)return t.I().then(function(){})}).then(function(){return t.ga=a,yl(t)}).then(function(e){return t.ha&&(e=(e=t.ha).b.set(Ml,t.w(),e.a)),e}).then(function(){return jc(t.i,e,n,a,t.tenantId)}).o(function(e){if(o=e,t.ha)return Fl(t.ha);throw o}).then(function(){if(o)throw o}),Rl(t,r,i)}function Pl(t){if(!t.i||!t.R){if(t.i&&!t.R)throw new S("internal-error");throw new S("auth-domain-config-required")}}function Rl(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),Ne(t.h)):e.o(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new Zc("userInvalidated")),t.h=e),e})}(t,e,n);return t.J.push(r),r.oa(function(){Q(t.J,r)}),r.o(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Qc(e.w(),pl(t),w(t.jc,t))),n||e})}function Ll(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Wa]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new ul(e,n,t);return t.providerData&&$(t.providerData,function(t){t&&Tl(i,Qr(t))}),t.redirectEventId&&(i.ga=t.redirectEventId),i}Hc.prototype.Rc=function(t){var e=this;return t.sb(this.a.a,this.c).then(function(t){var n=vt(e.f);return delete n[Gc],delete n[Wc],yt(n,t),e.g(n)})},E(zc,S),Yc.prototype.sb=function(t,e,n){return e.type==ro?function(t,e,n,r){return n.Ha().then(function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),yt(n,{phoneVerificationInfo:xo(t.a)}),Xs(e,Cs,n)})}(this,t,e,n):function(t,e,n){return n.Ha().then(function(n){return yt(n={mfaPendingCredential:n},{phoneVerificationInfo:xo(t.a)}),Xs(e,ks,n)})}(this,t,e)},E(Jc,Yc),E(Xc,Jc),E(Zc,Je),(n=tl.prototype).yc=function(t){el(this,function(t){var e=[];return $(t.mfaInfo||[],function(t){(t=Xr(t))&&e.push(t)}),e}(t.hd))},n.Rb=function(){return this.a.I().then(function(t){return new no(t,null)})},n.fc=function(t,e){var n=this,r=this.a.a;return this.Rb().then(function(n){return t.sb(r,n,e)}).then(function(t){return kl(n.a,t),n.a.reload()})},n.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then(function(t){return Xs(r,Js,{idToken:t,mfaEnrollmentId:n})}).then(function(t){var r=H(e.b,function(t){return t.uid!=n});return el(e,r),kl(e.a,t),e.a.reload().o(function(t){if("auth/user-token-expired"!=t.code)throw t})})},n.w=function(){return{multiFactor:{enrolledFactors:G(this.b,function(t){return t.w()})}}},nl.prototype.start=function(){this.a=this.c,function t(e,n){e.stop();e.b=Sn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then(function(){return t=s.document,e=null,qr()||!t?Ae():new Ie(function(n){e=function(){qr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).o(function(n){throw t.removeEventListener("visibilitychange",e,!1),n});var t,e}).then(function(){return e.h()}).then(function(){t(e,!0)}).o(function(n){e.i(n)&&t(e,!1)})}(this,!0)},nl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},rl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},rl.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ne(new S("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?al(this,{grant_type:"refresh_token",refresh_token:this.a}):Ae(null):Ae({accessToken:this.b.toString(),refreshToken:this.a})},sl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},E(ul,wn),ul.prototype.wa=function(t){this.ya=t,Xa(this.a,t)},ul.prototype.la=function(){return this.ya},ul.prototype.Ga=function(){return X(this.$)},ul.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},Wr(ul.prototype,"providerId","firebase"),(n=ul.prototype).reload=function(){var t=this;return Rl(this,wl(this).then(function(){return Cl(t).then(function(){return yl(t)}).then(_l)}))},n.oc=function(t){return this.I(t).then(function(t){return new function(t){var e=Vi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new S("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");zr(this,{token:t,expirationTime:Vr(1e3*e.exp),authTime:Vr(1e3*e.auth_time),issuedAtTime:Vr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}(t)})},n.I=function(t){var e=this;return Rl(this,wl(this).then(function(){return e.b.getToken(t)}).then(function(t){if(!t)throw new S("internal-error");return t.accessToken!=e.za&&(gl(e,t.accessToken),e.dispatchEvent(new Zc("tokenChanged"))),Ol(e,"refreshToken",t.refreshToken),t.accessToken}))},n.Kc=function(t){if(!(t=t.users)||!t.length)throw new S("internal-error");bl(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?G(t,function(t){return new function(t,e,n,r,i,o){zr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}(t),n=0;n<e.length;n++)Tl(this,e[n]);Ol(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new Zc("userReloaded",{hd:t}))},n.Lc=function(t){return Hr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(t)},n.tb=function(t){var e=this,n=null;return Rl(this,t.c(this.a,this.uid).then(function(t){return kl(e,t),n=Nl(e,t,"reauthenticate"),e.h=null,e.reload()}).then(function(){return n}),!0)},n.Cc=function(t){return Hr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(t)},n.qb=function(t){var e=this,n=null;return Rl(this,Al(this,t.providerId).then(function(){return e.I()}).then(function(n){return t.b(e.a,n)}).then(function(t){return n=Nl(e,t,"link"),jl(e,t)}).then(function(){return n}))},n.Dc=function(t,e){var n=this;return Rl(this,Al(this,"phone").then(function(){return $c(pl(n),t,e,w(n.qb,n))}))},n.Mc=function(t,e){var n=this;return Rl(this,Ae().then(function(){return $c(pl(n),t,e,w(n.tb,n))}),!0)},n.Bb=function(t){var e=this;return Rl(this,this.I().then(function(n){return e.a.Bb(n,t)}).then(function(t){return kl(e,t),e.reload()}))},n.ed=function(t){var e=this;return Rl(this,this.I().then(function(n){return t.b(e.a,n)}).then(function(t){return kl(e,t),e.reload()}))},n.Cb=function(t){var e=this;return Rl(this,this.I().then(function(n){return e.a.Cb(n,t)}).then(function(t){return kl(e,t),e.reload()}))},n.Db=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return wl(this);var e=this;return Rl(this,this.I().then(function(n){return e.a.Db(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return kl(e,t),Ol(e,"displayName",t.displayName||null),Ol(e,"photoURL",t.photoUrl||null),$(e.providerData,function(t){"password"===t.providerId&&(Wr(t,"displayName",e.displayName),Wr(t,"photoURL",e.photoURL))}),yl(e)}).then(_l))},n.cd=function(t){var e=this;return Rl(this,Cl(this).then(function(n){return z(Il(e),t)?function(t,e,n){return Xs(t,Es,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then(function(t){var n={};return $(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),$(Il(e),function(t){n[t]||El(e,t)}),n[Do.PROVIDER_ID]||Wr(e,"phoneNumber",null),yl(e)}):yl(e).then(function(){throw new S("no-such-provider")})}))},n.delete=function(){var t=this;return Rl(this,this.I().then(function(e){return Xs(t.a,Ts,{idToken:e})}).then(function(){t.dispatchEvent(new Zc("userDeleted"))})).then(function(){for(var e=0;e<t.J.length;e++)t.J[e].cancel("app-deleted");cl(t,null),ll(t,null),fl(t,null),t.J=[],t.D=!0,vl(t),Wr(t,"refreshToken",null),t.i&&Sc(t.i,t)})},n.Fb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},n.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},n.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?w(this.Kb,this):"reauthViaPopup"==t&&e==(this.g||null)?w(this.Lb,this):"linkViaRedirect"==t&&(this.ga||null)==e?w(this.Kb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?w(this.Lb,this):null},n.Ec=function(t){var e=this;return xl(this,"linkViaPopup",t,function(){return Al(e,t.providerId).then(function(){return yl(e)})},!1)},n.Nc=function(t){return xl(this,"reauthViaPopup",t,function(){return Ae()},!0)},n.Fc=function(t){var e=this;return Dl(this,"linkViaRedirect",t,function(){return Al(e,t.providerId)},!1)},n.Oc=function(t){return Dl(this,"reauthViaRedirect",t,function(){return Ae()},!0)},n.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Rl(this,this.I().then(function(n){return gs(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})}).then(function(t){return o=Nl(i,t,"link"),jl(i,t)}).then(function(){return o}))},n.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Rl(this,Ae().then(function(){return ao(ys(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)}).then(function(t){return o=Nl(i,t,"reauthenticate"),kl(i,t),i.h=null,i.reload()}).then(function(){return o}),!0)},n.ub=function(t){var e=this,n=null;return Rl(this,this.I().then(function(e){return n=e,void 0===t||dt(t)?{}:Li(new Si(t))}).then(function(t){return e.a.ub(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},n.Eb=function(t,e){var n=this,r=null;return Rl(this,this.I().then(function(t){return r=t,void 0===e||dt(e)?{}:Li(new Si(e))}).then(function(e){return n.a.Eb(r,t,e)}).then(function(t){if(n.email!=t)return n.reload()}).then(function(){}))},n.jc=function(t){var e=null,n=this;return Rl(this,t=ao(Ae(t),n.uid).then(function(t){return e=Nl(n,t,"reauthenticate"),kl(n,t),n.h=null,n.reload()}).then(function(){return e}),!0)},n.toJSON=function(){return this.w()},n.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&yt(t,this.metadata.w()),$(this.providerData,function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))}),yt(t,this.O.w()),t};var Ml={name:"redirectUser",F:"session"};function Fl(t){return Xu(t.b,Ml,t.a)}function Ul(t){this.a=t,this.b=Qu(),this.c=null,this.f=function(t){var e=Bl("local"),n=Bl("session"),r=Bl("none");return function(t,e,n){var r=Ju(e,n),i=Yu(t,e.F);return t.get(e,n).then(function(o){var a=null;try{a=Rr(s.localStorage.getItem(r))}catch(t){}if(a&&!o)return s.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)})}(t.b,e,t.a).then(function(){return t.b.get(n,t.a)}).then(function(i){return i?n:t.b.get(r,t.a).then(function(n){return n?r:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(Vl,t.a).then(function(t){return t?Bl(t):e})})})}).then(function(e){return t.c=e,ql(t,e.F)}).o(function(){t.c||(t.c=e)})}(this),this.b.addListener(Bl("local"),this.a,w(this.g,this))}function ql(t,e){var n,r=[];for(n in Wu)Wu[n]!==e&&r.push(Xu(t.b,Bl(Wu[n]),t.a));return r.push(Xu(t.b,Vl,t.a)),function(t){return new Ie(function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},s=0;s<t.length;s++)je(t[s],I(o,s),a);else e(i)})}(r)}Ul.prototype.g=function(){var t=this,e=Bl("local");Gl(this,function(){return Ae().then(function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null}).then(function(n){if(n)return ql(t,"local").then(function(){t.c=e})})})};var Vl={name:"persistence",F:"session"};function Bl(t){return{name:"authUser",F:t}}function Kl(t,e){return Gl(t,function(){return t.b.set(t.c,e.w(),t.a)})}function $l(t){return Gl(t,function(){return Xu(t.b,t.c,t.a)})}function Hl(t,e,n){return Gl(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Ll(t||{})})})}function Gl(t,e){return t.f=t.f.then(e,e),t.f}function Wl(t){if(this.l=!1,Wr(this,"settings",new Bc),Wr(this,"app",t),!nh(this).options||!nh(this).options.apiKey)throw new S("invalid-api-key");t=e.a.SDK_VERSION?Or(e.a.SDK_VERSION):null,this.a=new Ha(nh(this).options&&nh(this).options.apiKey,x(k),t),this.R=[],this.s=[],this.O=[],this.hb=e.a.INTERNAL.createSubscribe(w(this.zc,this)),this.X=void 0,this.bc=e.a.INTERNAL.createSubscribe(w(this.Ac,this)),th(this,null),this.i=new Ul(nh(this).options.apiKey+":"+nh(this).name),this.D=new function(t){this.a=t,this.b=Qu()}(nh(this).options.apiKey+":"+nh(this).name),this.$=ah(this,function(t){var e=nh(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Ml,t.a).then(function(t){return t&&e&&(t.authDomain=e),Ll(t||{})})}(t.D,nh(t).options.authDomain).then(function(e){return(t.m=e)&&(e.ha=t.D),Fl(t.D)});return ah(t,e)}(t).then(function(){return Hl(t.i,e,t.P)}).then(function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then(function(){return Kl(t.i,e).then(function(){return e})}).o(function(n){return"auth/network-request-failed"==n.code?e:$l(t.i)})):null}).then(function(e){th(t,e||null)});return ah(t,n)}(this)),this.h=ah(this,function(t){return t.$.then(function(){return Xl(t)}).o(function(){}).then(function(){if(!t.l)return t.ja()}).o(function(){}).then(function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(Bl("local"),e.a,t.ja)}})}(this)),this.ba=!1,this.ja=w(this.Zc,this),this.Ba=w(this.da,this),this.ya=w(this.mc,this),this.za=w(this.wc,this),this.Aa=w(this.xc,this),this.b=null,function(t){var e=nh(t).options.authDomain,n=nh(t).options.apiKey;e&&Ar()&&(t.Oa=t.$.then(function(){if(!t.l){if(t.b=Rc(e,n,nh(t).name,t.P),Oc(t.b,t),rh(t)&&ml(rh(t)),t.m){ml(t.m);var r=t.m;r.wa(t.la()),cl(r,t),hl(r=t.m,t.J),fl(r,t),Za((r=t.m).a,t.P),ll(r,t),t.m=null}return t.b}}))}(this),this.INTERNAL={},this.INTERNAL.delete=w(this.delete,this),this.INTERNAL.logFramework=w(this.Gc,this),this.u=0,wn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.yb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.P){var t=Un(this.P.url);t=Qr({protocol:t.c,host:t.a,port:t.g,options:Qr({disableWarnings:this.P.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.P=null}function zl(t){Je.call(this,"languageCodeChanged"),this.h=t}function Ql(t){Je.call(this,"emulatorConfigChanged"),this.c=t}function Yl(t){Je.call(this,"frameworkChanged"),this.f=t}function Jl(t){return t.Oa||Ne(new S("auth-domain-config-required"))}function Xl(t){if(!Ar())return Ne(new S("operation-not-supported-in-this-environment"));var e=Jl(t).then(function(){return t.b.qa()}).then(function(t){return t?Qr(t):null});return ah(t,e)}function Zl(t,e){var n={};return n.apiKey=nh(t).options.apiKey,n.authDomain=nh(t).options.authDomain,n.appName=nh(t).name,t.P&&(n.emulatorConfig=t.P),t.$.then(function(){return function(t,e,n,r){var i=new ul(t,e);return n&&(i.ha=n),r&&hl(i,r),i.reload().then(function(){return i})}(n,e,t.D,t.Ga())}).then(function(e){return rh(t)&&e.uid==rh(t).uid?(Sl(rh(t),e),t.da(e)):(th(t,e),ml(e),t.da(e))}).then(function(){oh(t)})}function th(t,e){rh(t)&&(function(t,e){Y(t.S,function(t){return t==e})}(rh(t),t.Ba),fn(rh(t),"tokenChanged",t.ya),fn(rh(t),"userDeleted",t.za),fn(rh(t),"userInvalidated",t.Aa),vl(rh(t))),e&&(e.S.push(t.Ba),cn(e,"tokenChanged",t.ya),cn(e,"userDeleted",t.za),cn(e,"userInvalidated",t.Aa),0<t.u&&dl(e)),Wr(t,"currentUser",e),e&&(e.wa(t.la()),cl(e,t),hl(e,t.J),fl(e,t),Za(e.a,t.P),ll(e,t))}function eh(t,e){var n=null,r=null;return ah(t,e.then(function(e){return n=Ro(e),r=Gi(e),Zl(t,e)},function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Qc(e.w(),t,w(t.kc,t))),n||e}).then(function(){return Qr({user:rh(t),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function nh(t){return t.app}function rh(t){return t.currentUser}function ih(t){return rh(t)&&rh(t)._lat||null}function oh(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](ih(t));if(t.X!==t.getUid()&&t.O.length)for(t.X=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](ih(t))}}function ah(t,e){return t.R.push(e),e.oa(function(){Q(t.R,e)}),e}function sh(){}function uh(){this.a={},this.b=1e12}Ul.prototype.xb=function(t){var e=null,n=this;return function(t){var e=new S("invalid-persistence-type"),n=new S("unsupported-persistence-type");t:{for(r in Wu)if(Wu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(br()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Cu()&&"none"!==t)throw n;break;default:if(!kr()&&"none"!==t)throw n}}(t),Gl(this,function(){return t!=n.c.F?n.b.get(n.c,n.a).then(function(r){return e=r,ql(n,t)}).then(function(){if(n.c=Bl(t),e)return n.b.set(n.c,e,n.a)}):Ae()})},E(Wl,wn),E(zl,Je),E(Ql,Je),E(Yl,Je),(n=Wl.prototype).xb=function(t){return ah(this,t=this.i.xb(t))},n.wa=function(t){this.aa===t||this.l||(this.aa=t,Xa(this.a,this.aa),this.dispatchEvent(new zl(this.la())))},n.la=function(){return this.aa},n.fd=function(){var t=s.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},n.gd=function(t,e){if(!this.P){if(!/^https?:\/\//.test(t))throw new S("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),s.document&&!t&&vr().then(function(){var t=s.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),s.document.body.appendChild(t)})})(e=!!e&&!!e.disableWarnings),this.P={url:t,ec:e},this.settings.ib=!0,Za(this.a,this.P),this.dispatchEvent(new Ql(this.P))}},n.Gc=function(t){this.J.push(t),es(this.a,e.a.SDK_VERSION?Or(e.a.SDK_VERSION,this.J):null),this.dispatchEvent(new Yl(this.J))},n.Ga=function(){return X(this.J)},n.yb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},n.T=function(){return this.S},n.toJSON=function(){return{apiKey:nh(this).options.apiKey,authDomain:nh(this).options.authDomain,appName:nh(this).name,currentUser:rh(this)&&rh(this).w()}},n.Fb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},n.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},n.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?w(this.ic,this):null},n.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then(function(){return eh(i,vs(i.a,o))})},n.Xc=function(t){if(!Ar())return Ne(new S("operation-not-supported-in-this-environment"));var n=this,r=Hi(t.providerId),i=Lr(),o=null;(!xr()||yr())&&nh(this).options.authDomain&&t.isOAuthProvider&&(o=pu(nh(this).options.authDomain,nh(this).options.apiKey,nh(this).name,"signInViaPopup",t,null,i,e.a.SDK_VERSION||null,null,null,this.T(),this.P));var a=fr(o,r&&r.ua,r&&r.ta);return ah(this,r=Jl(this).then(function(e){return Ac(e,a,"signInViaPopup",t,i,!!o,n.T())}).then(function(){return new Ie(function(t,e){n.na("signInViaPopup",null,new S("cancelled-popup-request"),n.g),n.f=t,n.C=e,n.g=i,n.c=xc(n.b,n,"signInViaPopup",a,i)})}).then(function(t){return a&&hr(a),t?Qr(t):null}).o(function(t){throw a&&hr(a),t}))},n.Yc=function(t){if(!Ar())return Ne(new S("operation-not-supported-in-this-environment"));var e=this;return ah(this,Jl(this).then(function(){return Gl(t=e.i,function(){return t.b.set(Vl,t.c.F,t.a)});var t}).then(function(){return jc(e.b,"signInViaRedirect",t,void 0,e.T())}))},n.qa=function(){var t=this;return Xl(this).then(function(e){return t.b&&Fc(t.b.b),e}).o(function(e){throw t.b&&Fc(t.b.b),e})},n.dd=function(t){if(!t)return Ne(new S("null-user"));if(this.S!=t.tenantId)return Ne(new S("tenant-id-mismatch"));var e=this,n={};n.apiKey=nh(this).options.apiKey,n.authDomain=nh(this).options.authDomain,n.appName=nh(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[Wa]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new ul(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&hl(e,r),Sl(e,t),e}(t,n,e.D,e.Ga());return ah(this,this.h.then(function(){if(nh(e).options.apiKey!=t.l)return r.reload()}).then(function(){return rh(e)&&t.uid==rh(e).uid?(Sl(rh(e),t),e.da(t)):(th(e,r),ml(r),e.da(r))}).then(function(){oh(e)}))},n.Ab=function(){var t=this;return ah(this,this.h.then(function(){return t.b&&Fc(t.b.b),rh(t)?(th(t,null),$l(t.i).then(function(){oh(t)})):Ae()}))},n.Zc=function(){var t=this;return Hl(this.i,nh(this).options.authDomain).then(function(e){if(!t.l){var n;if(n=rh(t)&&e){n=rh(t).uid;var r=e.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Sl(rh(t),e),rh(t).I();(rh(t)||e)&&(th(t,e),e&&(ml(e),e.ha=t.D),t.b&&Oc(t.b,t),oh(t))}})},n.da=function(t){return Kl(this.i,t)},n.mc=function(){oh(this),this.da(rh(this))},n.wc=function(){this.Ab()},n.xc=function(){this.Ab()},n.kc=function(t){var e=this;return this.h.then(function(){return eh(e,Ae(t))})},n.zc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(rh(e))})},n.Ac=function(t){var e=this;!function(t,e){t.O.push(e),ah(t,t.h.then(function(){!t.l&&z(t.O,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(ih(t)))}))}(this,function(){t.next(rh(e))})},n.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof t?t(rh(r)):"function"==typeof t.next&&t.next(rh(r))}),this.hb(t,e,n)},n.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then(function(){r.X=r.getUid(),"function"==typeof t?t(rh(r)):"function"==typeof t.next&&t.next(rh(r))}),this.bc(t,e,n)},n.nc=function(t){var e=this;return ah(this,this.h.then(function(){return rh(e)?rh(e).I(t).then(function(t){return{accessToken:t}}):null}))},n.Tc=function(t){var e=this;return this.h.then(function(){return eh(e,Xs(e.a,Gs,{token:t}))}).then(function(t){var n=t.user;return Ol(n,"isAnonymous",!1),e.da(n),t})},n.Uc=function(t,e){var n=this;return this.h.then(function(){return eh(n,Xs(n.a,Ws,{email:t,password:e}))})},n.dc=function(t,e){var n=this;return this.h.then(function(){return eh(n,Xs(n.a,ws,{email:t,password:e}))})},n.$a=function(t){var e=this;return this.h.then(function(){return eh(e,t.ka(e.a))})},n.Sc=function(t){return Hr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(t)},n.zb=function(){var t=this;return this.h.then(function(){var e=rh(t);return e&&e.isAnonymous?Qr({user:e,credential:null,additionalUserInfo:Qr({providerId:null,isNewUser:!1}),operationType:"signIn"}):eh(t,t.a.zb()).then(function(e){var n=e.user;return Ol(n,"isAnonymous",!0),t.da(n),e})})},n.getUid=function(){return rh(this)&&rh(this).uid||null},n.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&rh(this)&&dl(rh(this))},n.Pc=function(t){var e=this;$(this.s,function(n){n==t&&e.u--}),0>this.u&&(this.u=0),0==this.u&&rh(this)&&vl(rh(this)),this.removeAuthTokenListener(t)},n.addAuthTokenListener=function(t){var e=this;this.s.push(t),ah(this,this.h.then(function(){e.l||z(e.s,t)&&t(ih(e))}))},n.removeAuthTokenListener=function(t){Y(this.s,function(e){return e==t})},n.delete=function(){this.l=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.i&&(t=this.i).b.removeListener(Bl("local"),t.a,this.ja),this.b&&(Sc(this.b,this),Fc(this.b.b)),Promise.resolve()},n.hc=function(t){return ah(this,function(t,e){return Xs(t,Is,{identifier:e,continueUri:Nr()?ur():"http://localhost"}).then(function(t){return t.signinMethods||[]})}(this.a,t))},n.Bc=function(t){return!!Ao(t)},n.wb=function(t,e){var n=this;return ah(this,Ae().then(function(){var t=new Si(e);if(!t.c)throw new S("argument-error",Ai+" must be true when sending sign in link to email");return Li(t)}).then(function(e){return n.a.wb(t,e)}).then(function(){}))},n.jd=function(t){return this.Ra(t).then(function(t){return t.data.email})},n.nb=function(t,e){return ah(this,this.a.nb(t,e).then(function(){}))},n.Ra=function(t){return ah(this,this.a.Ra(t).then(function(t){return new function(t){var e={},n=t[si],r=t[ci],i=t[li];if(t=Xr(t[ui]),!i||i!=oi&&i!=ai&&!n||i==ai&&!r||i==ii&&!t)throw Error("Invalid checkActionCode response!");i==ai?(e[fi]=n||null,e[di]=n||null,e[hi]=r):(e[fi]=r||null,e[di]=r||null,e[hi]=n||null),e[pi]=t||null,Wr(this,gi,i),Wr(this,vi,Yr(e))}(t)}))},n.jb=function(t){return ah(this,this.a.jb(t).then(function(){}))},n.vb=function(t,e){var n=this;return ah(this,Ae().then(function(){return void 0===e||dt(e)?{}:Li(new Si(e))}).then(function(e){return n.a.vb(t,e)}).then(function(){}))},n.Wc=function(t,e){return ah(this,$c(this,t,e,w(this.$a,this)))},n.Vc=function(t,e){var n=this;return ah(this,Ae().then(function(){var r=e||ur(),i=ko(t,r);if(!(r=Ao(r)))throw new S("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new S("tenant-id-mismatch");return n.$a(i)}))},sh.prototype.render=function(){},sh.prototype.reset=function(){},sh.prototype.getResponse=function(){},sh.prototype.execute=function(){};var ch=null;function lh(t,e){return(e=hh(e))&&t.a[e]||null}function hh(t){return(t=void 0===t?1e12:t)?t.toString():null}function fh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=le(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():cn(this.f,"click",this.i)}function ph(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function dh(){}function vh(){}uh.prototype.render=function(t,e){return this.a[this.b.toString()]=new fh(t,e),this.b++},uh.prototype.reset=function(t){var e=lh(this,t);t=hh(t),e&&t&&(e.delete(),delete this.a[t])},uh.prototype.getResponse=function(t){return(t=lh(this,t))?t.getResponse():null},uh.prototype.execute=function(t){(t=lh(this,t))&&t.execute()},fh.prototype.getResponse=function(){return ph(this),this.b},fh.prototype.execute=function(){ph(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(t){}t.a=setTimeout(function(){if(t.a=null,t.b=null,n)try{n()}catch(t){}t.h&&t.execute()},6e4)},500))},fh.prototype.delete=function(){ph(this),this.g=!0,clearTimeout(this.a),this.a=null,fn(this.f,"click",this.i)},Wr(dh,"FACTOR_ID","phone"),vh.prototype.g=function(){return ch||(ch=new uh),Ae(ch)},vh.prototype.c=function(){};var gh=null;function yh(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var mh=new bt(Tt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),bh=new Ur(3e4,6e4);yh.prototype.g=function(t){var e=this;return new Ie(function(n,r){var i=setTimeout(function(){r(new S("network-request-failed"))},bh.get());!s.grecaptcha||t!==e.f&&!e.b?(s[e.a]=function(){if(s.grecaptcha){e.f=t;var o=s.grecaptcha.render;s.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new S("internal-error"));delete s[e.a]},Ae(Fa(Ct(mh,{onload:e.a,hl:t||""}))).o(function(){clearTimeout(i),r(new S("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(i),n(s.grecaptcha))})},yh.prototype.c=function(){this.b--};var _h=null;function wh(t,e,n,r,i,o,a){if(Wr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=e,this.g=null,a?(gh||(gh=new vh),a=gh):(_h||(_h=new yh),a=_h),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Eh])throw new S("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Oh],!s.document)throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!le(e)||!this.i&&le(e).hasChildNodes())throw new S("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Ha(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Ih];this.a[Ih]=function(t){if(Sh(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Cr(c,s);"function"==typeof e&&e(t)}};var l=this.a[Th];this.a[Th]=function(){if(Sh(u,null),"function"==typeof l)l();else if("string"==typeof l){var t=Cr(l,s);"function"==typeof t&&t()}}}var Ih="callback",Th="expired-callback",Eh="sitekey",Oh="size";function Sh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function Ch(t,e){return t.h.push(e),e.oa(function(){Q(t.h,e)}),e}function kh(t){if(t.D)throw new S("internal-error","RecaptchaVerifier instance has been destroyed.")}function Ah(t,n,r){var i=!1;try{this.b=r||e.a.app()}catch(t){throw new S("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new S("invalid-api-key");r=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().Ga()}catch(t){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}a=e.a.SDK_VERSION?Or(e.a.SDK_VERSION,a):null,wh.call(this,r,t,n,function(){try{var t=o.b.auth().la()}catch(e){t=null}return t},a,x(k),i)}function Nh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new S("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=jh.length)throw new S("internal-error","Argument validator received an unsupported number of arguments.");n=jh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new S("argument-error",t+" failed: "+r)}(n=wh.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Ch(this,Ae().then(function(){if(Nr()&&!mr())return vr();throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.m.g(t.u())}).then(function(e){return t.g=e,Xs(t.s,Rs,{})}).then(function(e){t.a[Eh]=e.recaptchaSiteKey}).o(function(e){throw t.f=null,e}))},n.render=function(){kh(this);var t=this;return Ch(this,this.Ia().then(function(){if(null===t.c){var e=t.v;if(!t.i){var n=le(e);e=ve("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))},n.verify=function(){kh(this);var t=this;return Ch(this,this.render().then(function(e){return new Ie(function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){Y(t.l,function(t){return t==e})}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}})}))},n.reset=function(){kh(this),null!==this.c&&this.g.reset(this.c)},n.clear=function(){kh(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=le(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},E(Ah,wh);var jh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function xh(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function Dh(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function Ph(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:v}}function Rh(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function Lh(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function Mh(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ka||!n)}}}function Fh(t,e){return v(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Uh(t){return v(t)&&"string"==typeof t.uid}function qh(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function Vh(t,e){for(var n in e){var r=e[n].name;t[r]=$h(r,t[n],e[n].j)}}function Bh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:I(function(t){return this[t]},n),set:I(function(t,e,n,r){Nh(t,[n],[r],!0),this[e]=r},r,n,e[n].kb),enumerable:!0})}}function Kh(t,e,n,r){t[e]=$h(e,n,r)}function $h(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Nh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Vh(Wl.prototype,{jb:{name:"applyActionCode",j:[xh("code")]},Ra:{name:"checkActionCode",j:[xh("code")]},nb:{name:"confirmPasswordReset",j:[xh("code"),xh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[xh("email"),xh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[xh("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[xh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[qh(Ph(),Rh(),"nextOrObserver"),Rh("opt_error",!0),Rh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[qh(Ph(),Rh(),"nextOrObserver"),Rh("opt_error",!0),Rh("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[xh("email"),qh(Ph("opt_actionCodeSettings",!0),Lh(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[xh("email"),Ph("actionCodeSettings")]},xb:{name:"setPersistence",j:[xh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Mh()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[Mh()]},Tc:{name:"signInWithCustomToken",j:[xh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[xh("email"),xh("password")]},Vc:{name:"signInWithEmailLink",j:[xh("email"),xh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[xh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[qh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof ul)}},Lh(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[xh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[xh("url"),Ph("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[xh("code")]}}),Bh(Wl.prototype,{lc:{name:"languageCode",kb:qh(xh(),Lh(),"languageCode")},ti:{name:"tenantId",kb:qh(xh(),Lh(),"tenantId")}}),Wl.Persistence=Wu,Wl.Persistence.LOCAL="local",Wl.Persistence.SESSION="session",Wl.Persistence.NONE="none",Vh(ul.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Dh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Dh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Mh()]},qb:{name:"linkWithCredential",j:[Mh()]},Dc:{name:"linkWithPhoneNumber",j:[xh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Mh()]},tb:{name:"reauthenticateWithCredential",j:[Mh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[xh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[qh(Ph("opt_actionCodeSettings",!0),Lh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[xh(null,!0)]},cd:{name:"unlink",j:[xh("provider")]},Bb:{name:"updateEmail",j:[xh("email")]},Cb:{name:"updatePassword",j:[xh("password")]},ed:{name:"updatePhoneNumber",j:[Mh("phone")]},Db:{name:"updateProfile",j:[Ph("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[xh("email"),qh(Ph("opt_actionCodeSettings",!0),Lh(null,!0),"opt_actionCodeSettings",!0)]}}),Vh(uh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Vh(sh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Vh(Ie.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Bh(Bc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Dh("appVerificationDisabledForTesting")}}),Vh(Kc.prototype,{confirm:{name:"confirm",j:[xh("verificationCode")]}}),Kh(oo,"fromJSON",function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[fo,So,jo,co],r=0;r<n.length;r++)if(e=n[r](t))return e;return null},[qh(xh(),Ph(),"json")]),Kh(Co,"credential",function(t,e){return new Oo(t,e)},[xh("email"),xh("password")]),Vh(Oo.prototype,{w:{name:"toJSON",j:[xh(null,!0)]}}),Vh(yo.prototype,{Ca:{name:"addScope",j:[xh("scope")]},Ka:{name:"setCustomParameters",j:[Ph("customOAuthParameters")]}}),Kh(yo,"credential",mo,[qh(xh(),Ph(),"token")]),Kh(Co,"credentialWithLink",ko,[xh("email"),xh("emailLink")]),Vh(bo.prototype,{Ca:{name:"addScope",j:[xh("scope")]},Ka:{name:"setCustomParameters",j:[Ph("customOAuthParameters")]}}),Kh(bo,"credential",_o,[qh(xh(),Ph(),"token")]),Vh(wo.prototype,{Ca:{name:"addScope",j:[xh("scope")]},Ka:{name:"setCustomParameters",j:[Ph("customOAuthParameters")]}}),Kh(wo,"credential",Io,[qh(xh(),qh(Ph(),Lh()),"idToken"),qh(xh(),Lh(),"accessToken",!0)]),Vh(To.prototype,{Ka:{name:"setCustomParameters",j:[Ph("customOAuthParameters")]}}),Kh(To,"credential",Eo,[qh(xh(),Ph(),"token"),xh("secret",!0)]),Vh(go.prototype,{Ca:{name:"addScope",j:[xh("scope")]},credential:{name:"credential",j:[qh(xh(),qh(Ph(),Lh()),"optionsOrIdToken"),qh(xh(),Lh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Ph("customOAuthParameters")]}}),Vh(lo.prototype,{w:{name:"toJSON",j:[xh(null,!0)]}}),Vh(so.prototype,{w:{name:"toJSON",j:[xh(null,!0)]}}),Kh(Do,"credential",Po,[xh("verificationId"),xh("verificationCode")]),Vh(Do.prototype,{fb:{name:"verifyPhoneNumber",j:[qh(xh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?Fh(t.session,ro)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Fh(t.session,io)&&Uh(t.multiFactorHint):t.session&&t.multiFactorUid?Fh(t.session,io)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),Vh(No.prototype,{w:{name:"toJSON",j:[xh(null,!0)]}}),Vh(S.prototype,{toJSON:{name:"toJSON",j:[xh(null,!0)]}}),Vh(Bo.prototype,{toJSON:{name:"toJSON",j:[xh(null,!0)]}}),Vh(Vo.prototype,{toJSON:{name:"toJSON",j:[xh(null,!0)]}}),Vh(zc.prototype,{toJSON:{name:"toJSON",j:[xh(null,!0)]}}),Vh(Hc.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}}]}}),Vh(tl.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}},xh("displayName",!0)]},bd:{name:"unenroll",j:[qh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Uh},xh(),"multiFactorInfoIdentifier")]}}),Vh(Ah.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Kh(yi,"parseLink",Oi,[xh("link")]),Kh(dh,"assertion",function(t){return new Xc(t)},[Mh("phone")]),function(){if(void 0===e.a||!e.a.INTERNAL||!e.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:oi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ii,VERIFY_AND_CHANGE_EMAIL:ai,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Wl,AuthCredential:oo,Error:S};Kh(t,"EmailAuthProvider",Co,[]),Kh(t,"FacebookAuthProvider",yo,[]),Kh(t,"GithubAuthProvider",bo,[]),Kh(t,"GoogleAuthProvider",wo,[]),Kh(t,"TwitterAuthProvider",To,[]),Kh(t,"OAuthProvider",go,[xh("providerId")]),Kh(t,"SAMLAuthProvider",vo,[xh("providerId")]),Kh(t,"PhoneAuthProvider",Do,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof Wl)}}]),Kh(t,"RecaptchaVerifier",Ah,[qh(xh(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Ph("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof e.a.app.App)}}]),Kh(t,"ActionCodeURL",yi,[]),Kh(t,"PhoneMultiFactorGenerator",dh,[]),e.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new Wl(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),e.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:w((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:w(t.nc,t),addAuthTokenListener:w(t.cc,t),removeAuthTokenListener:w(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),e.a.registerVersion("@firebase/auth","0.16.4"),e.a.INTERNAL.extendNamespace({User:ul})}()}).apply(void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}).call(e,n("DuR2"))},hJx8:function(t,e,n){var r=n("evD5"),i=n("X8DO");t.exports=n("+E39")?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},kM2E:function(t,e,n){var r=n("7KvD"),i=n("FeBl"),o=n("+ZMJ"),a=n("hJx8"),s=n("D2L2"),u=function(t,e,n){var c,l,h,f=t&u.F,p=t&u.G,d=t&u.S,v=t&u.P,g=t&u.B,y=t&u.W,m=p?i:i[e]||(i[e]={}),b=m.prototype,_=p?r:d?r[e]:(r[e]||{}).prototype;for(c in p&&(n=e),n)(l=!f&&_&&void 0!==_[c])&&s(m,c)||(h=l?_[c]:n[c],m[c]=p&&"function"!=typeof _[c]?n[c]:g&&l?o(h,r):y&&_[c]==h?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(h):v&&"function"==typeof h?o(Function.call,h):h,v&&((m.virtual||(m.virtual={}))[c]=h,t&u.R&&b&&!b[c]&&a(b,c,h)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},lOnJ:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},mClu:function(t,e,n){var r=n("kM2E");r(r.S+r.F*!n("+E39"),"Object",{defineProperty:n("evD5").f})},tsGP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return Ou}),n.d(e,"b",function(){return Cu}),n.d(e,"c",function(){return os}),n.d(e,"d",function(){return q}),n.d(e,"e",function(){return bu}),n.d(e,"f",function(){return wu}),n.d(e,"g",function(){return is}),n.d(e,"h",function(){return _u}),n.d(e,"i",function(){return Tu}),n.d(e,"j",function(){return ju}),n.d(e,"k",function(){return qu}),n.d(e,"l",function(){return Uu}),n.d(e,"m",function(){return Du}),n.d(e,"n",function(){return Lu}),n.d(e,"o",function(){return Eu}),n.d(e,"p",function(){return Fu}),n.d(e,"q",function(){return Ru}),n.d(e,"r",function(){return xu}),n.d(e,"s",function(){return Vu}),n.d(e,"t",function(){return ps});var r=n("fjI4"),i=n("xaOn"),o=n("GB/M"),a=n("TToO"),s=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();s.o=-1;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var u=new r.b("@firebase/firestore");function c(){return u.logLevel}function l(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(u.logLevel<=r.a.DEBUG){var i=e.map(p);u.debug.apply(u,Object(a.f)(["Firestore (8.3.1): "+t],i))}}function h(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(u.logLevel<=r.a.ERROR){var i=e.map(p);u.error.apply(u,Object(a.f)(["Firestore (8.3.1): "+t],i))}}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(u.logLevel<=r.a.WARN){var i=e.map(p);u.warn.apply(u,Object(a.f)(["Firestore (8.3.1): "+t],i))}}function p(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.3.1) INTERNAL ASSERTION FAILED: "+t;throw h(e),new Error(e)}function v(t,e){t||d()}function g(t,e){return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var m=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=y(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function b(t,e){return t<e?-1:t>e?1:0}function _(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function w(t){return t+"\0"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function T(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function E(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O(t){return null==t}function S(t){return 0===t&&1/t==-1/0}function C(t){return"number"==typeof t&&Number.isInteger(t)&&!S(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},A=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(a.c)(e,t),e}(Error),N=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&d(),void 0===n?n=t.length-e:n>t.length-e&&d(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),j=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new A(k.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(N),x=/^[_a-zA-Z][_a-zA-Z0-9]*$/,D=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return x.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new A(k.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new A(k.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new A(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new A(k.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(N),P=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(j.fromString(e))},t.fromName=function(e){return new t(j.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===j.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return j.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new j(e.slice()))},t}(),R=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return b(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();R.EMPTY_BYTE_STRING=new R("");var L=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function M(t){if(v(!!t),"string"==typeof t){var e=0,n=L.exec(t);if(v(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:F(t.seconds),nanos:F(t.nanos)}}function F(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function U(t){return"string"==typeof t?R.fromBase64String(t):R.fromUint8Array(t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var q=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new A(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new A(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new A(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new A(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?b(this.nanoseconds,t.nanoseconds):b(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function B(t){var e=M(t.mapValue.fields.__local_write_time__.timestampValue);return new q(e.seconds,e.nanos)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?V(t)?4:10:d()}function $(t,e){var n=K(t);if(n!==K(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return B(t).isEqual(B(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=M(t.timestampValue),r=M(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return U(t.bytesValue).isEqual(U(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return F(t.geoPointValue.latitude)===F(e.geoPointValue.latitude)&&F(t.geoPointValue.longitude)===F(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return F(t.integerValue)===F(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=F(t.doubleValue),r=F(e.doubleValue);return n===r?S(n)===S(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return _(t.arrayValue.values||[],e.arrayValue.values||[],$);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(I(n)!==I(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!$(n[i],r[i])))return!1;return!0}(t,e);default:return d()}}function H(t,e){return void 0!==(t.values||[]).find(function(t){return $(t,e)})}function G(t,e){var n=K(t),r=K(e);if(n!==r)return b(n,r);switch(n){case 0:return 0;case 1:return b(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=F(t.integerValue||t.doubleValue),r=F(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return W(t.timestampValue,e.timestampValue);case 4:return W(B(t),B(e));case 5:return b(t.stringValue,e.stringValue);case 6:return function(t,e){var n=U(t),r=U(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=b(n[i],r[i]);if(0!==o)return o}return b(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=b(F(t.latitude),F(e.latitude));return 0!==n?n:b(F(t.longitude),F(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=G(n[i],r[i]);if(o)return o}return b(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=b(r[a],o[a]);if(0!==s)return s;var u=G(n[r[a]],i[o[a]]);if(0!==u)return u}return b(r.length,o.length)}(t.mapValue,e.mapValue);default:throw d()}}function W(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return b(t,e);var n=M(t),r=M(e),i=b(n.seconds,r.seconds);return 0!==i?i:b(n.nanos,r.nanos)}function z(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=M(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?U(e.bytesValue).toBase64():"referenceValue"in e?(r=e.referenceValue,P.fromName(r).toString()):"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var a=o[i];r?r=!1:n+=",",n+=a+":"+t(e.fields[a])}return n+"}"}(e.mapValue):d();var n,r}(t)}function Q(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Y(t){return!!t&&"integerValue"in t}function J(t){return!!t&&"arrayValue"in t}function X(t){return!!t&&"nullValue"in t}function Z(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function tt(t){return!!t&&"mapValue"in t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et=function(t,e){this.key=t,this.version=e},nt=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).objectValue=r,o.hasLocalMutations=!!i.hasLocalMutations,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(a.c)(e,t),e.prototype.field=function(t){return this.objectValue.field(t)},e.prototype.data=function(){return this.objectValue},e.prototype.toProto=function(){return this.objectValue.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.hasLocalMutations===t.hasLocalMutations&&this.hasCommittedMutations===t.hasCommittedMutations&&this.objectValue.isEqual(t.objectValue)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.objectValue.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(et),rt=function(t){function e(e,n,r){var i;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(a.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(et),it=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(et),ot=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function at(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new ot(t,e,n,r,i,o,a)}function st(t){var e=g(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+z(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),O(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=_t(e.startAt)),e.endAt&&(n+="|ub:",n+=_t(e.endAt)),e.h=n}return e.h}function ut(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!It(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!$(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Et(t.startAt,e.startAt)&&Et(t.endAt,e.endAt)}function ct(t){return P.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var lt=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(a.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new ht(t,n,r):"array-contains"===n?new vt(t,r):"in"===n?new gt(t,r):"not-in"===n?new yt(t,r):"array-contains-any"===n?new mt(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new ft(t,n):new pt(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.m(G(e,this.value)):null!==e&&K(this.value)===K(e)&&this.m(G(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return d()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),ht=function(t){function e(e,n,r){var i;return(i=t.call(this,e,n,r)||this).key=P.fromName(r.referenceValue),i}return Object(a.c)(e,t),e.prototype.matches=function(t){var e=P.comparator(t.key,this.key);return this.m(e)},e}(lt),ft=function(t){function e(e,n){var r;return(r=t.call(this,e,"in",n)||this).keys=dt("in",n),r}return Object(a.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(lt),pt=function(t){function e(e,n){var r;return(r=t.call(this,e,"not-in",n)||this).keys=dt("not-in",n),r}return Object(a.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(lt);function dt(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return P.fromName(t.referenceValue)})}var vt=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(a.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return J(e)&&H(e.arrayValue,this.value)},e}(lt),gt=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(a.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&H(this.value.arrayValue,e)},e}(lt),yt=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(a.c)(e,t),e.prototype.matches=function(t){if(H(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!H(this.value.arrayValue,e)},e}(lt),mt=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(a.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!J(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return H(e.value.arrayValue,t)})},e}(lt),bt=function(t,e){this.position=t,this.before=e};function _t(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return z(t)}).join(",")}var wt=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function It(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Tt(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.isKeyField()?P.comparator(P.fromName(a.referenceValue),n.key):G(a,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Et(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!$(t.position[n],e.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function St(t,e,n,r,i,o,a,s){return new Ot(t,e,n,r,i,o,a,s)}function Ct(t){return new Ot(t)}function kt(t){return!O(t.limit)&&"F"===t.limitType}function At(t){return!O(t.limit)&&"L"===t.limitType}function Nt(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function jt(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function xt(t){return null!==t.collectionGroup}function Dt(t){var e=g(t);if(null===e.p){e.p=[];var n=jt(e),r=Nt(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new wt(n)),e.p.push(new wt(D.keyField(),"asc"));else{for(var i=!1,o=0,a=e.explicitOrderBy;o<a.length;o++){var s=a[o];e.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new wt(D.keyField(),u))}}}return e.p}function Pt(t){var e=g(t);if(!e.T)if("F"===e.limitType)e.T=at(e.path,e.collectionGroup,Dt(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Dt(e);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new wt(o.field,a))}var s=e.endAt?new bt(e.endAt.position,!e.endAt.before):null,u=e.startAt?new bt(e.startAt.position,!e.startAt.before):null;e.T=at(e.path,e.collectionGroup,n,e.filters,e.limit,s,u)}return e.T}function Rt(t,e,n){return new Ot(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Lt(t,e){return ut(Pt(t),Pt(e))&&t.limitType===e.limitType}function Mt(t){return st(Pt(t))+"|lt:"+t.limitType}function Ft(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+z(e.value);var e}).join(", ")+"]"),O(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+_t(t.startAt)),t.endAt&&(e+=", endAt: "+_t(t.endAt)),"Target("+e+")"}(Pt(t))+"; limitType="+t.limitType+")"}function Ut(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):P.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Tt(t.startAt,Dt(t),e)||t.endAt&&Tt(t.endAt,Dt(t),e))}(t,e)}function qt(t){return function(e,n){for(var r=!1,i=0,o=Dt(t);i<o.length;i++){var a=o[i],s=Vt(a,e,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function Vt(t,e,n){var r=t.field.isKeyField()?P.comparator(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?G(r,i):d()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return d()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new q(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}(),Kt=function(){function t(t){this.fields=t,t.sort(D.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return _(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),$t=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!tt(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.isEqual=function(t){return $(this.proto,t.proto)},t}(),Ht=function(){function t(t){void 0===t&&(t=$t.empty()),this.I=t,this.A=new Map}return t.prototype.set=function(t,e){return this.R(t,e),this},t.prototype.delete=function(t){return this.R(t,null),this},t.prototype.R=function(t,e){for(var n=this.A,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===K(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.lastSegment(),e)},t.prototype.v=function(){var t=this.P(D.emptyPath(),this.A);return null!=t?new $t(t):this.I},t.prototype.P=function(t,e){var n=this,r=!1,i=this.I.field(t),o=tt(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var a=n.P(t.child(i),e);null!=a&&(o[i]=a,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)}),r?{mapValue:{fields:o}}:null},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(t){var e=[];return T(t.fields||{},function(t,n){var r=new D([t]);if(tt(n)){var i=Gt(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];e.push(r.child(s))}}else e.push(r)}),new Kt(e)
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}function Wt(t,e){if(t.V){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:S(e)?"-0":e}}function zt(t){return{integerValue:""+t}}function Qt(t,e){return C(e)?zt(e):Wt(t,e)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt=function(){this._=void 0};function Jt(t,e,n){return t instanceof te?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof ee?ne(t,e):t instanceof re?ie(t,e):function(t,e){var n=Zt(t,e),r=ae(n)+ae(t.S);return Y(n)&&Y(t.S)?zt(r):Wt(t.D,r)}(t,e)}function Xt(t,e,n){return t instanceof ee?ne(t,e):t instanceof re?ie(t,e):n}function Zt(t,e){return t instanceof oe?Y(n=e)||n&&"doubleValue"in n?e:{integerValue:0}:null;var n}var te=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.c)(e,t),e}(Yt),ee=function(t){function e(e){var n;return(n=t.call(this)||this).elements=e,n}return Object(a.c)(e,t),e}(Yt);function ne(t,e){for(var n=se(e),r=function(t){n.some(function(e){return $(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var re=function(t){function e(e){var n;return(n=t.call(this)||this).elements=e,n}return Object(a.c)(e,t),e}(Yt);function ie(t,e){for(var n=se(e),r=function(t){n=n.filter(function(e){return!$(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var oe=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).D=e,r.S=n,r}return Object(a.c)(e,t),e}(Yt);function ae(t){return F(t.integerValue||t.doubleValue)}function se(t){return J(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ue=function(t,e){this.field=t,this.transform=e},ce=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function le(t,e){return void 0!==t.updateTime?e instanceof nt&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof nt}var he=function(){};function fe(t,e,n){return t instanceof ye?function(t,e,n){var r=t.value,i=_e(t.fieldTransforms,e,n.transformResults);return r=Ie(t.fieldTransforms,r,i),new nt(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof me?function(t,e,n){if(!le(t.precondition,e))return new it(t.key,n.version);var r=be(t,e,_e(t.fieldTransforms,e,n.transformResults));return new nt(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new rt(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function pe(t,e,n){return t instanceof ye?function(t,e,n){if(!le(t.precondition,e))return e;var r=t.value,i=we(t.fieldTransforms,n,e);r=Ie(t.fieldTransforms,r,i);var o=ge(e);return new nt(t.key,o,r,{hasLocalMutations:!0})}(t,e,n):t instanceof me?function(t,e,n){if(!le(t.precondition,e))return e;var r=ge(e),i=be(t,e,we(t.fieldTransforms,n,e));return new nt(t.key,r,i,{hasLocalMutations:!0})}(t,e,n):function(t,e){return le(t.precondition,e)?new rt(t.key,Bt.min()):e}(t,e)}function de(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],a=e instanceof nt?e.field(o.field):void 0,s=Zt(o.transform,a||null);null!=s&&(n=null==n?(new Ht).set(o.field,s):n.set(o.field,s))}return n?n.v():null}(t.fieldTransforms,e)}function ve(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&_(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof ee&&e instanceof ee||t instanceof re&&e instanceof re?_(t.elements,e.elements,$):t instanceof oe&&e instanceof oe?$(t.S,e.S):t instanceof te&&e instanceof te}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function ge(t){return t instanceof nt?t.version:Bt.min()}var ye=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Object(a.c)(e,t),e}(he),me=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=t.call(this)||this).key=e,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return Object(a.c)(e,t),e}(he);function be(t,e,n){var r;return r=function(t,e){var n=new Ht(e);return t.fieldMask.fields.forEach(function(e){if(!e.isEmpty()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.v()}(t,r=e instanceof nt?e.data():$t.empty()),Ie(t.fieldTransforms,r,n)}function _e(t,e,n){var r=[];v(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=null;e instanceof nt&&(s=e.field(o.field)),r.push(Xt(a,s,n[i]))}return r}function we(t,e,n){for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i],s=a.transform,u=null;n instanceof nt&&(u=n.field(a.field)),r.push(Jt(s,u,e))}return r}function Ie(t,e,n){for(var r=new Ht(e),i=0;i<t.length;i++){var o=t[i];r.set(o.field,n[i])}return r.v()}var Te,Ee,Oe=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(a.c)(e,t),e}(he),Se=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(a.c)(e,t),e}(he);function Ce(t){switch(t){case k.OK:return d();case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0;default:return d()}}function ke(t){if(void 0===t)return h("GRPC error has no .code"),k.UNKNOWN;switch(t){case Te.OK:return k.OK;case Te.CANCELLED:return k.CANCELLED;case Te.UNKNOWN:return k.UNKNOWN;case Te.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case Te.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case Te.INTERNAL:return k.INTERNAL;case Te.UNAVAILABLE:return k.UNAVAILABLE;case Te.UNAUTHENTICATED:return k.UNAUTHENTICATED;case Te.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case Te.NOT_FOUND:return k.NOT_FOUND;case Te.ALREADY_EXISTS:return k.ALREADY_EXISTS;case Te.PERMISSION_DENIED:return k.PERMISSION_DENIED;case Te.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case Te.ABORTED:return k.ABORTED;case Te.OUT_OF_RANGE:return k.OUT_OF_RANGE;case Te.UNIMPLEMENTED:return k.UNIMPLEMENTED;case Te.DATA_LOSS:return k.DATA_LOSS;default:return d()}}(Ee=Te||(Te={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ae=function(){function t(t,e){this.comparator=t,this.root=e||je.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,je.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,je.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Ne(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Ne(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Ne(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Ne(this.root,t,this.comparator,!0)},t}(),Ne=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),je=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw d();if(this.right.isRed())throw d();var t=this.left.check();if(t!==this.right.check())throw d();return t+(this.isRed()?0:1)},t}();je.EMPTY=null,je.RED=!0,je.BLACK=!1,je.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw d()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw d()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw d()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw d()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw d()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new je(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var xe=function(){function t(t){this.comparator=t,this.data=new Ae(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new De(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new De(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),De=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Pe=new Ae(P.comparator);function Re(){return Pe}function Le(){return Re()}var Me=new Ae(P.comparator);function Fe(){return Me}var Ue=new Ae(P.comparator);function qe(){return Ue}var Ve=new xe(P.comparator);function Be(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Ve,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Ke=new xe(b);function $e(){return Ke}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,Ge.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Bt.min(),r,$e(),Re(),Be())},t}(),Ge=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(R.EMPTY_BYTE_STRING,n,Be(),Be(),Be())},t}(),We=function(t,e,n,r){this.C=t,this.removedTargetIds=e,this.key=n,this.N=r},ze=function(t,e){this.targetId=t,this.$=e},Qe=function(t,e,n,r){void 0===n&&(n=R.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Ye=function(){function t(){this.F=0,this.O=Ze(),this.k=R.EMPTY_BYTE_STRING,this.M=!1,this.L=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.M},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.k},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"B",{get:function(){return 0!==this.F},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"q",{get:function(){return this.L},enumerable:!1,configurable:!0}),t.prototype.U=function(t){t.approximateByteSize()>0&&(this.L=!0,this.k=t)},t.prototype.K=function(){var t=Be(),e=Be(),n=Be();return this.O.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:d()}}),new Ge(this.k,this.M,t,e,n)},t.prototype.W=function(){this.L=!1,this.O=Ze()},t.prototype.j=function(t,e){this.L=!0,this.O=this.O.insert(t,e)},t.prototype.G=function(t){this.L=!0,this.O=this.O.remove(t)},t.prototype.H=function(){this.F+=1},t.prototype.J=function(){this.F-=1},t.prototype.Y=function(){this.L=!0,this.M=!0},t}(),Je=function(){function t(t){this.X=t,this.Z=new Map,this.tt=Re(),this.et=Xe(),this.nt=new xe(b)}return t.prototype.st=function(t){for(var e=0,n=t.C;e<n.length;e++){var r=n[e];t.N instanceof nt?this.it(r,t.N):t.N instanceof rt&&this.rt(r,t.key,t.N)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.rt(r,t.key,t.N)},t.prototype.ot=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.ct(n);switch(t.state){case 0:e.at(n)&&r.U(t.resumeToken);break;case 1:r.J(),r.B||r.W(),r.U(t.resumeToken);break;case 2:r.J(),r.B||e.removeTarget(n);break;case 3:e.at(n)&&(r.Y(),r.U(t.resumeToken));break;case 4:e.at(n)&&(e.ut(n),r.U(t.resumeToken));break;default:d()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Z.forEach(function(t,r){n.at(r)&&e(r)})},t.prototype.ht=function(t){var e=t.targetId,n=t.$.count,r=this.lt(e);if(r){var i=r.target;if(ct(i))if(0===n){var o=new P(i.path);this.rt(e,o,new rt(o,Bt.min()))}else v(1===n);else this.ft(e)!==n&&(this.ut(e),this.nt=this.nt.add(e))}},t.prototype.dt=function(t){var e=this,n=new Map;this.Z.forEach(function(r,i){var o=e.lt(i);if(o){if(r.current&&ct(o.target)){var a=new P(o.target.path);null!==e.tt.get(a)||e.wt(i,a)||e.rt(i,a,new rt(a,t))}r.q&&(n.set(i,r.K()),r.W())}});var r=Be();this.et.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.lt(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new He(t,n,this.nt,this.tt,r);return this.tt=Re(),this.et=Xe(),this.nt=new xe(b),i},t.prototype.it=function(t,e){if(this.at(t)){var n=this.wt(t,e.key)?2:0;this.ct(t).j(e.key,n),this.tt=this.tt.insert(e.key,e),this.et=this.et.insert(e.key,this._t(e.key).add(t))}},t.prototype.rt=function(t,e,n){if(this.at(t)){var r=this.ct(t);this.wt(t,e)?r.j(e,1):r.G(e),this.et=this.et.insert(e,this._t(e).delete(t)),n&&(this.tt=this.tt.insert(e,n))}},t.prototype.removeTarget=function(t){this.Z.delete(t)},t.prototype.ft=function(t){var e=this.ct(t).K();return this.X.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.H=function(t){this.ct(t).H()},t.prototype.ct=function(t){var e=this.Z.get(t);return e||(e=new Ye,this.Z.set(t,e)),e},t.prototype._t=function(t){var e=this.et.get(t);return e||(e=new xe(b),this.et=this.et.insert(t,e)),e},t.prototype.at=function(t){var e=null!==this.lt(t);return e||l("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.lt=function(t){var e=this.Z.get(t);return e&&e.B?null:this.X.yt(t)},t.prototype.ut=function(t){var e=this;this.Z.set(t,new Ye),this.X.getRemoteKeysForTarget(t).forEach(function(n){e.rt(t,n,null)})},t.prototype.wt=function(t,e){return this.X.getRemoteKeysForTarget(t).has(e)},t}();function Xe(){return new Ae(P.comparator)}function Ze(){return new Ae(P.comparator)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn={asc:"ASCENDING",desc:"DESCENDING"},en={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nn=function(t,e){this.databaseId=t,this.V=e};function rn(t,e){return t.V?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function on(t,e){return t.V?e.toBase64():e.toUint8Array()}function an(t){return v(!!t),Bt.fromTimestamp(function(t){var e=M(t);return new q(e.seconds,e.nanos)}(t))}function sn(t,e){return function(t){return new j(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function un(t){var e=j.fromString(t);return v(Sn(e)),e}function cn(t,e){return sn(t.databaseId,e.path)}function ln(t,e){var n=un(e);if(n.get(1)!==t.databaseId.projectId)throw new A(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new A(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new P(dn(n))}function hn(t,e){return sn(t.databaseId,e)}function fn(t){var e=un(t);return 4===e.length?j.emptyPath():dn(e)}function pn(t){return new j(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function dn(t){return v(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function vn(t,e,n){return{name:cn(t,e),fields:n.proto.mapValue.fields}}function gn(t,e,n){var r=ln(t,e.name),i=an(e.updateTime),o=new $t({mapValue:{fields:e.fields}});return new nt(r,i,o,{hasCommittedMutations:!!n})}function yn(t,e){var n;if(e instanceof ye)n={update:vn(t,e.key,e.value)};else if(e instanceof Oe)n={delete:cn(t,e.key)};else if(e instanceof me)n={update:vn(t,e.key,e.data),updateMask:function(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}(e.fieldMask)};else{if(!(e instanceof Se))return d();n={verify:cn(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof te)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ee)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof re)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof oe)return{fieldPath:e.field.canonicalString(),increment:n.S};throw d()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:function(t,e){return rn(t,e.toTimestamp())}(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:d()}(t,e.precondition)),n}function mn(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?ce.updateTime(an(t.updateTime)):void 0!==t.exists?ce.exists(t.exists):ce.none()}(e.currentDocument):ce.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;if("setToServerValue"in e)v("REQUEST_TIME"===e.setToServerValue),n=new te;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new ee(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new re(i)}else"increment"in e?n=new oe(t,e.increment):d();var o=D.fromServerFormat(e.fieldPath);return new ue(o,n)}(t,e)}):[];if(e.update){e.update.name;var i=ln(t,e.update.name),o=new $t({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){var e=t.fieldPaths||[];return new Kt(e.map(function(t){return D.fromServerFormat(t)}))}(e.updateMask);return new me(i,o,a,n,r)}return new ye(i,o,n,r)}if(e.delete){var s=ln(t,e.delete);return new Oe(s,n)}if(e.verify){var u=ln(t,e.verify);return new Se(u,n)}return d()}function bn(t,e){return{documents:[hn(t,e.path)]}}function _n(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=hn(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=hn(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Z(t.value))return{unaryFilter:{field:En(t.field),op:"IS_NAN"}};if(X(t.value))return{unaryFilter:{field:En(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Z(t.value))return{unaryFilter:{field:En(t.field),op:"IS_NOT_NAN"}};if(X(t.value))return{unaryFilter:{field:En(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:En(t.field),op:function(t){return en[t]}(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:En(t.field),direction:function(t){return tn[t]}(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.V||O(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=In(e.startAt)),e.endAt&&(n.structuredQuery.endAt=In(e.endAt)),n}function wn(t){var e=fn(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){v(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=function t(e){return e?void 0!==e.unaryFilter?[function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=On(t.unaryFilter.field);return lt.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=On(t.unaryFilter.field);return lt.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=On(t.unaryFilter.field);return lt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=On(t.unaryFilter.field);return lt.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return d()}}(e)]:void 0!==e.fieldFilter?[function(t){return lt.create(On(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return d()}}(t.fieldFilter.op),t.fieldFilter.value)}(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(function(e){return t(e)}).reduce(function(t,e){return t.concat(e)}):d():[]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map(function(t){return function(t){return new wt(On(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return O(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Tn(n.startAt));var l=null;return n.endAt&&(l=Tn(n.endAt)),St(e,i,s,a,u,"F",c,l)}function In(t){return{before:t.before,values:t.position}}function Tn(t){var e=!!t.before,n=t.values||[];return new bt(n,e)}function En(t){return{fieldPath:t.canonicalString()}}function On(t){return D.fromServerFormat(t.fieldPath)}function Sn(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=An(e)),e=kn(t.get(n),e);return An(e)}function kn(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function An(t){return t+""}function Nn(t){var e=t.length;if(v(e>=2),2===e)return v(""===t.charAt(0)&&""===t.charAt(1)),j.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("",o);switch((a<0||a>n)&&d(),t.charAt(a+1)){case"":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"":i+=t.substring(o,a),i+="\0";break;case"":i+=t.substring(o,a+1);break;default:d()}o=a+2}return new j(r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jn=function(t,e){this.seconds=t,this.nanoseconds=e},xn=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};xn.store="owner",xn.key="owner";var Dn=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Dn.store="mutationQueues",Dn.keyPath="userId";var Pn=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Pn.store="mutations",Pn.keyPath="batchId",Pn.userMutationsIndex="userMutationsIndex",Pn.userMutationsKeyPath=["userId","batchId"];var Rn=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Cn(e)]},t.key=function(t,e,n){return[t,Cn(e),n]},t}();Rn.store="documentMutations",Rn.PLACEHOLDER=new Rn;var Ln=function(t,e){this.path=t,this.readTime=e},Mn=function(t,e){this.path=t,this.version=e},Fn=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Fn.store="remoteDocuments",Fn.readTimeIndex="readTimeIndex",Fn.readTimeIndexPath="readTime",Fn.collectionReadTimeIndex="collectionReadTimeIndex",Fn.collectionReadTimeIndexPath=["parentPath","readTime"];var Un=function(t){this.byteSize=t};Un.store="remoteDocumentGlobal",Un.key="remoteDocumentGlobalKey";var qn=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};qn.store="targets",qn.keyPath="targetId",qn.queryTargetsIndexName="queryTargetsIndex",qn.queryTargetsKeyPath=["canonicalId","targetId"];var Vn=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Vn.store="targetDocuments",Vn.keyPath=["targetId","path"],Vn.documentTargetsIndex="documentTargetsIndex",Vn.documentTargetsKeyPath=["path","targetId"];var Bn=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Bn.key="targetGlobalKey",Bn.store="targetGlobal";var Kn=function(t,e){this.collectionId=t,this.parent=e};Kn.store="collectionParents",Kn.keyPath=["collectionId","parent"];var $n=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};$n.store="clientMetadata",$n.keyPath="clientId";var Hn=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Hn.store="bundles",Hn.keyPath="bundleId";var Gn=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Gn.store="namedQueries",Gn.keyPath="name";var Wn=Object(a.f)(Object(a.f)([],Object(a.f)(Object(a.f)([],Object(a.f)(Object(a.f)([],Object(a.f)(Object(a.f)([],[Dn.store,Pn.store,Rn.store,Fn.store,qn.store,xn.store,Bn.store,Vn.store]),[$n.store])),[Un.store])),[Kn.store])),[Hn.store,Gn.store]),zn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Qn=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),Yn=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Jn=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&d(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),Xn=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.gt=new Yn,this.transaction.oncomplete=function(){n.gt.resolve()},this.transaction.onabort=function(){e.error?n.gt.reject(new er(t,e.error)):n.gt.resolve()},this.transaction.onerror=function(e){var r=ar(e.target.error);n.gt.reject(new er(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new er(n,e)}},Object.defineProperty(t.prototype,"Et",{get:function(){return this.gt.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.gt.reject(t),this.aborted||(l("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new rr(e)},t}(),Zn=function(){function e(t,n,r){this.name=t,this.version=n,this.Tt=r,12.2===e.It(Object(i.p)())&&h("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return l("SimpleDb","Removing database:",t),ir(window.indexedDB.deleteDatabase(t)).toPromise()},e.At=function(){if("undefined"==typeof indexedDB)return!1;if(e.Rt())return!0;var t=Object(i.p)(),n=e.It(t),r=0<n&&n<10,o=e.bt(t),a=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)},e.Rt=function(){var e;return void 0!==t&&"YES"===(null===(e=Object({NODE_ENV:"production"}))||void 0===e?void 0:e.vt)},e.Pt=function(t,e){return t.store(e)},e.It=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.bt=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.Vt=function(t){return Object(a.b)(this,void 0,void 0,function(){var e,n=this;return Object(a.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(l("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new er(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new A(k.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new er(t,n))},i.onupgradeneeded=function(t){l("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.Tt.St(e,i.transaction,t.oldVersion,n.version).next(function(){l("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Dt&&(this.db.onversionchange=function(t){return n.Dt(t)}),this.db)]}})})},e.prototype.Ct=function(t){this.Dt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},e.prototype.runTransaction=function(t,e,n,r){return Object(a.b)(this,void 0,void 0,function(){var i,o,s,u,c;return Object(a.d)(this,function(h){switch(h.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,c,h,f;return Object(a.d)(this,function(a){switch(a.label){case 0:++o,a.label=1;case 1:return a.trys.push([1,4,,5]),[4,u.Vt(t)];case 2:return u.db=a.sent(),e=Xn.open(u.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),Jn.reject(t)}).toPromise(),c={},s.catch(function(){}),[4,e.Et];case 3:return[2,(c.value=(a.sent(),s),c)];case 4:return h=a.sent(),f="FirebaseError"!==h.name&&o<3,l("SimpleDb","Transaction failed with error:",h.message,"Retrying:",f),u.close(),f?[3,5]:[2,{value:Promise.reject(h)}];case 5:return[2]}})},u=this,h.label=1;case 1:return[5,s()];case 2:if("object"==typeof(c=h.sent()))return[2,c.value];h.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),tr=function(){function t(t){this.xt=t,this.Nt=!1,this.$t=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Nt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ft",{get:function(){return this.$t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.xt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Nt=!0},t.prototype.Ot=function(t){this.$t=t},t.prototype.delete=function(){return ir(this.xt.delete())},t}(),er=function(t){function e(e,n){var r;return(r=t.call(this,k.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(a.c)(e,t),e}(A);function nr(t){return"IndexedDbTransactionError"===t.name}var rr=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(l("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(l("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),ir(n)},t.prototype.add=function(t){return l("SimpleDb","ADD",this.store.name,t,t),ir(this.store.add(t))},t.prototype.get=function(t){var e=this;return ir(this.store.get(t)).next(function(n){return void 0===n&&(n=null),l("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return l("SimpleDb","DELETE",this.store.name,t),ir(this.store.delete(t))},t.prototype.count=function(){return l("SimpleDb","COUNT",this.store.name),ir(this.store.count())},t.prototype.kt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.Mt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Lt=function(t,e){l("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Bt=!1;var r=this.cursor(n);return this.Mt(r,function(t,e,n){return n.delete()})},t.prototype.qt=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.Mt(r,e)},t.prototype.Ut=function(t){var e=this.cursor({});return new Jn(function(n,r){e.onerror=function(t){var e=ar(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.Mt=function(t,e){var n=[];return new Jn(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new tr(i),a=e(i.primaryKey,i.value,o);if(a instanceof Jn){var s=a.catch(function(t){return o.done(),Jn.reject(t)});n.push(s)}o.isDone?r():null===o.Ft?i.continue():i.continue(o.Ft)}else r()}}).next(function(){return Jn.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Bt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function ir(t){return new Jn(function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=ar(t.target.error);n(e)}})}var or=!1;function ar(t){var e=Zn.It(Object(i.p)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new A("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return or||(or=!0,setTimeout(function(){throw r},0)),r}}return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sr=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qt=e,r.currentSequenceNumber=n,r}return Object(a.c)(e,t),e}(Qn);function ur(t,e){var n=g(t);return Zn.Pt(n.Qt,e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cr=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e,n){for(var r=n.mutationResults,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=fe(o,e,r[i]))}return e},t.prototype.applyToLocalView=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(t)&&(e=pe(a,e,this.localWriteTime));for(var i=0,o=this.mutations;i<o.length;i++){var a;(a=o[i]).key.isEqual(t)&&(e=pe(a,e,this.localWriteTime))}return e},t.prototype.applyToLocalDocumentSet=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.applyToLocalView(r.key,t.get(r.key));i&&(n=n.insert(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Be())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&_(this.mutations,t.mutations,function(t,e){return ve(t,e)})&&_(this.baseMutations,t.baseMutations,function(t,e){return ve(t,e)})},t}(),lr=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){v(e.mutations.length===r.length);for(var i=qe(),o=e.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),hr=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=Bt.min()),void 0===o&&(o=Bt.min()),void 0===a&&(a=R.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),fr=function(t){this.Kt=t};function pr(t,e){if(e.document)return gn(t.Kt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=P.fromSegments(e.noDocument.path),r=mr(e.noDocument.readTime);return new rt(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=P.fromSegments(e.unknownDocument.path);return r=mr(e.unknownDocument.version),new it(i,r)}return d()}function dr(t,e,n){var r=vr(n),i=e.key.path.popLast().toArray();if(e instanceof nt){var o=function(t,e){return{name:cn(t,e.key),fields:e.toProto().mapValue.fields,updateTime:rn(t,e.version.toTimestamp())}}(t.Kt,e),a=e.hasCommittedMutations;return new Fn(null,null,o,a,r,i)}if(e instanceof rt){var s=e.key.path.toArray(),u=yr(e.version);return a=e.hasCommittedMutations,new Fn(null,new Ln(s,u),null,a,r,i)}if(e instanceof it){var c=e.key.path.toArray(),l=yr(e.version);return new Fn(new Mn(c,l),null,null,!0,r,i)}return d()}function vr(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function gr(t){var e=new q(t[0],t[1]);return Bt.fromTimestamp(e)}function yr(t){var e=t.toTimestamp();return new jn(e.seconds,e.nanoseconds)}function mr(t){var e=new q(t.seconds,t.nanoseconds);return Bt.fromTimestamp(e)}function br(t,e){for(var n=(e.baseMutations||[]).map(function(e){return mn(t.Kt,e)}),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform){var o=e.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var a=e.mutations.map(function(e){return mn(t.Kt,e)}),s=q.fromMillis(e.localWriteTimeMs);return new cr(e.batchId,s,n,a)}function _r(t){var e,n,r=mr(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?mr(t.lastLimboFreeSnapshotVersion):Bt.min();return void 0!==t.query.documents?(v(1===(n=t.query).documents.length),e=Pt(Ct(fn(n.documents[0])))):e=function(t){return Pt(wn(t))}(t.query),new hr(e,t.targetId,0,t.lastListenSequenceNumber,r,i,R.fromBase64String(t.resumeToken))}function wr(t,e){var n,r=yr(e.snapshotVersion),i=yr(e.lastLimboFreeSnapshotVersion);n=ct(e.target)?bn(t.Kt,e.target):_n(t.Kt,e.target);var o=e.resumeToken.toBase64();return new qn(e.targetId,st(e.target),r,o,e.sequenceNumber,i,n)}function Ir(t){var e=wn({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Rt(e,e.limit,"L"):e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tr=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Er(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:mr(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return Er(t).put({bundleId:(n=e).id,createTime:yr(an(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Or(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Ir(e.bundledQuery),readTime:mr(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return Or(t).put(function(t){return{name:t.name,readTime:yr(an(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Er(t){return ur(t,Hn.store)}function Or(t){return ur(t,Gn.store)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sr=function(){function t(){this.Wt=new Cr}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Wt.add(e),Jn.resolve()},t.prototype.getCollectionParents=function(t,e){return Jn.resolve(this.Wt.getEntries(e))},t}(),Cr=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new xe(j.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new xe(j.comparator)).toArray()},t}(),kr=function(){function t(){this.jt=new Cr}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.jt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.jt.add(e)});var o={collectionId:r,parent:Cn(i)};return Ar(t).put(o)}return Jn.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[w(e),""],!1,!0);return Ar(t).kt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Nn(o.parent))}return n})},t}();function Ar(t){return ur(t,Kn.store)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nr={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jr=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(t,e,n){var r=t.store(Pn.store),i=t.store(Rn.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.qt({range:a},function(t,e,n){return s++,n.delete()});o.push(u.next(function(){v(1===s)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],p=Rn.key(e,f.key.path,n.batchId);o.push(i.delete(p)),c.push(f.key)}return Jn.waitFor(o).next(function(){return c})}function Dr(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw d();e=t.noDocument}return JSON.stringify(e).length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jr.DEFAULT_COLLECTION_PERCENTILE=10,jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jr.DEFAULT=new jr(41943040,jr.DEFAULT_COLLECTION_PERCENTILE,jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jr.DISABLED=new jr(-1,0,0);var Pr=function(){function t(t,e,n,r){this.userId=t,this.D=e,this.Gt=n,this.referenceDelegate=r,this.zt={}}return t.Ht=function(e,n,r,i){return v(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Lr(t).qt({index:Pn.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=Mr(t),a=Lr(t);return a.add({}).next(function(s){v("number"==typeof s);for(var u=new cr(s,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return yn(t.Kt,e)}),i=n.mutations.map(function(e){return yn(t.Kt,e)});return new Pn(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.D,i.userId,u),l=[],h=new xe(function(t,e){return b(t.canonicalString(),e.canonicalString())}),f=0,p=r;f<p.length;f++){var d=p[f],g=Rn.key(i.userId,d.key.path,s);h=h.add(d.key.path.popLast()),l.push(a.put(c)),l.push(o.put(g,Rn.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Gt.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.zt[s]=u.keys()}),Jn.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Lr(t).get(e).next(function(t){return t?(v(t.userId===n.userId),br(n.D,t)):null})},t.prototype.Jt=function(t,e){var n=this;return this.zt[e]?Jn.resolve(this.zt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.zt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Lr(t).qt({index:Pn.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(v(e.batchId>=r),o=br(n.D,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Lr(t).qt({index:Pn.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Lr(t).kt(Pn.userMutationsIndex,n).next(function(t){return t.map(function(t){return br(e.D,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Rn.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Mr(t).qt({range:i},function(r,i,a){var s=r[0],u=r[1],c=r[2],l=Nn(u);if(s===n.userId&&e.path.isEqual(l))return Lr(t).get(c).next(function(t){if(!t)throw d();v(t.userId===n.userId),o.push(br(n.D,t))});a.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new xe(b),i=[];return e.forEach(function(e){var o=Rn.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=Mr(t).qt({range:a},function(t,i,o){var a=t[0],s=t[1],u=t[2],c=Nn(s);a===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()});i.push(s)}),Jn.waitFor(i).next(function(){return n.Yt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=Rn.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new xe(b);return Mr(t).qt({range:a},function(t,e,o){var a=t[0],u=t[1],c=t[2],l=Nn(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()}).next(function(){return n.Yt(t,s)})},t.prototype.Yt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Lr(t).get(e).next(function(t){if(null===t)throw d();v(t.userId===n.userId),r.push(br(n.D,t))}))}),Jn.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return xr(t.Qt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Xt(e.batchId)}),Jn.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Xt=function(t){delete this.zt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Jn.resolve();var r=IDBKeyRange.lowerBound(Rn.prefixForUser(e.userId)),i=[];return Mr(t).qt({range:r},function(t,n,r){if(t[0]===e.userId){var o=Nn(t[1]);i.push(o)}else r.done()}).next(function(){v(0===i.length)})})},t.prototype.containsKey=function(t,e){return Rr(t,this.userId,e)},t.prototype.Zt=function(t){var e=this;return Fr(t).get(this.userId).next(function(t){return t||new Dn(e.userId,-1,"")})},t}();function Rr(t,e,n){var r=Rn.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Mr(t).qt({range:o,Bt:!0},function(t,n,r){var o=t[0],s=t[1];t[2],o===e&&s===i&&(a=!0),r.done()}).next(function(){return a})}function Lr(t){return ur(t,Pn.store)}function Mr(t){return ur(t,Rn.store)}function Fr(t){return ur(t,Dn.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ur=function(){function t(t){this.te=t}return t.prototype.next=function(){return this.te+=2,this.te},t.ee=function(){return new t(0)},t.ne=function(){return new t(-1)},t}(),qr=function(){function t(t,e){this.referenceDelegate=t,this.D=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.se(t).next(function(n){var r=new Ur(n.highestTargetId);return n.highestTargetId=r.next(),e.ie(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.se(t).next(function(t){return Bt.fromTimestamp(new q(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.se(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.se(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.ie(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.re(t,e).next(function(){return n.se(t).next(function(r){return r.targetCount+=1,n.oe(e,r),n.ie(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.re(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return Vr(t).delete(e.targetId)}).next(function(){return n.se(t)}).next(function(e){return v(e.targetCount>0),e.targetCount-=1,n.ie(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return Vr(t).qt(function(a,s){var u=_r(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))}).next(function(){return Jn.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return Vr(t).qt(function(t,n){var r=_r(n);e(r)})},t.prototype.se=function(t){return Br(t).get(Bn.key).next(function(t){return v(null!==t),t})},t.prototype.ie=function(t,e){return Br(t).put(Bn.key,e)},t.prototype.re=function(t,e){return Vr(t).put(wr(this.D,e))},t.prototype.oe=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.se(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=st(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Vr(t).qt({range:r,index:qn.queryTargetsIndexName},function(t,n,r){var o=_r(n);ut(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=Kr(t);return e.forEach(function(e){var a=Cn(e.path);i.push(o.put(new Vn(n,a))),i.push(r.referenceDelegate.addReference(t,n,e))}),Jn.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Kr(t);return Jn.forEach(e,function(e){var o=Cn(e.path);return Jn.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Kr(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Kr(t),i=Be();return r.qt({range:n,Bt:!0},function(t,e,n){var r=Nn(t[1]),o=new P(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=Cn(e.path),r=IDBKeyRange.bound([n],[w(n)],!1,!0),i=0;return Kr(t).qt({index:Vn.documentTargetsIndex,Bt:!0,range:r},function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())}).next(function(){return i>0})},t.prototype.yt=function(t,e){return Vr(t).get(e).next(function(t){return t?_r(t):null})},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(t){return ur(t,qn.store)}function Br(t){return ur(t,Bn.store)}function Kr(t){return ur(t,Vn.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(t){return Object(a.b)(this,void 0,void 0,function(){return Object(a.d)(this,function(e){if(t.code!==k.FAILED_PRECONDITION||t.message!==zn)throw t;return l("LocalStore","Unexpectedly lost primary lease"),[2]})})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=b(n,i);return 0===a?b(r,o):a}var Gr=function(){function t(t){this.ce=t,this.buffer=new xe(Hr),this.ae=0}return t.prototype.ue=function(){return++this.ae},t.prototype.he=function(t){var e=[t,this.ue()];if(this.buffer.size<this.ce)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Hr(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Wr=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.le=!1,this.fe=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.de(t)},t.prototype.stop=function(){this.fe&&(this.fe.cancel(),this.fe=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.fe},enumerable:!1,configurable:!0}),t.prototype.de=function(t){var e=this,n=this.le?3e5:6e4;l("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.fe=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(a.b)(e,void 0,void 0,function(){var e;return Object(a.d)(this,function(n){switch(n.label){case 0:this.fe=null,this.le=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return nr(e=n.sent())?(l("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,$r(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.de(t)];case 8:return n.sent(),[2]}})})})},t}(),zr=function(){function t(t,e){this.we=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.we._e(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Jn.resolve(s.o);var r=new Gr(e);return this.we.forEachTarget(t,function(t){return r.he(t.sequenceNumber)}).next(function(){return n.we.me(t,function(t){return r.he(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.we.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.we.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(l("LruGarbageCollector","Garbage collection skipped; disabled"),Jn.resolve(Nr)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(l("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Nr):n.ye(t,e)})},t.prototype.getCacheSize=function(t){return this.we.getCacheSize(t)},t.prototype.ye=function(t,e){var n,i,o,a,s,u,h,f=this,p=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>f.params.maximumSequenceNumbersToCollect?(l("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+f.params.maximumSequenceNumbersToCollect+" from "+e),i=f.params.maximumSequenceNumbersToCollect):i=e,a=Date.now(),f.nthSequenceNumber(t,i)}).next(function(r){return n=r,s=Date.now(),f.removeTargets(t,n,e)}).next(function(e){return o=e,u=Date.now(),f.removeOrphanedDocuments(t,n)}).next(function(t){return h=Date.now(),c()<=r.a.DEBUG&&l("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(a-p)+"ms\n\tDetermined least recently used "+i+" in "+(s-a)+"ms\n\tRemoved "+o+" targets in "+(u-s)+"ms\n\tRemoved "+t+" documents in "+(h-u)+"ms\nTotal Duration: "+(h-p)+"ms"),Jn.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:t})})},t}(),Qr=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new zr(t,e)}(this,e)}return t.prototype._e=function(t){var e=this.ge(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.ge=function(t){var e=0;return this.me(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.me=function(t,e){return this.pe(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return Yr(t,n)},t.prototype.removeReference=function(t,e,n){return Yr(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Yr(t,e)},t.prototype.Ee=function(t,e){return function(t,e){var n=!1;return Fr(t).Ut(function(r){return Rr(t,r,e).next(function(t){return t&&(n=!0),Jn.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.pe(t,function(a,s){if(s<=e){var u=n.Ee(t,a).next(function(e){if(!e)return o++,r.getEntry(t,a).next(function(){return r.removeEntry(a),Kr(t).delete([0,Cn(a.path)])})});i.push(u)}}).next(function(){return Jn.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Yr(t,e)},t.prototype.pe=function(t,e){var n,r=Kr(t),i=s.o;return r.qt({index:Vn.documentTargetsIndex},function(t,r){var o=t[0],a=(t[1],r.path),u=r.sequenceNumber;0===o?(i!==s.o&&e(new P(Nn(n)),i),i=u,n=a):i=s.o}).next(function(){i!==s.o&&e(new P(Nn(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Yr(t,e){return Kr(t).put(function(t,e){return new Vn(0,Cn(t.path),e)}(e,t.currentSequenceNumber))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jr=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){T(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];t(a,s)}})},t.prototype.isEmpty=function(){return E(this.inner)},t}(),Xr=function(){function t(){this.changes=new Jr(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Bt.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{maybeDocument:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{maybeDocument:null,readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Jn.resolve(n.maybeDocument):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),Zr=function(){function t(t,e){this.D=t,this.Gt=e}return t.prototype.addEntry=function(t,e,n){return ni(t).put(ri(e),n)},t.prototype.removeEntry=function(t,e){var n=ni(t),r=ri(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.Te(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return ni(t).get(ri(e)).next(function(t){return n.Ie(t)})},t.prototype.Ae=function(t,e){var n=this;return ni(t).get(ri(e)).next(function(t){var e=n.Ie(t);return e?{maybeDocument:e,size:Dr(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=Le();return this.Re(t,e,function(t,e){var i=n.Ie(e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.be=function(t,e){var n=this,r=Le(),i=new Ae(P.comparator);return this.Re(t,e,function(t,e){var o=n.Ie(e);o?(r=r.insert(t,o),i=i.insert(t,Dr(e))):(r=r.insert(t,null),i=i.insert(t,0))}).next(function(){return{ve:r,Pe:i}})},t.prototype.Re=function(t,e,n){if(e.isEmpty())return Jn.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return ni(t).qt({range:r},function(t,e,r){for(var a=P.fromSegments(t);o&&P.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ot(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Fe(),o=e.path.length+1,a={};if(n.isEqual(Bt.min())){var s=e.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.toArray(),c=vr(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=Fn.collectionReadTimeIndex}return ni(t).qt(a,function(t,n,a){if(t.length===o){var s=pr(r.D,n);e.path.isPrefixOf(s.key.path)?s instanceof nt&&Ut(e,s)&&(i=i.insert(s.key,s)):a.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new ti(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return ei(t).get(Un.key).next(function(t){return v(!!t),t})},t.prototype.Te=function(t,e){return ei(t).put(Un.key,e)},t.prototype.Ie=function(t){if(t){var e=pr(this.D,t);return e instanceof rt&&e.version.isEqual(Bt.min())?null:e}return null},t}(),ti=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ve=e,r.trackRemovals=n,r.Se=new Jr(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(a.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new xe(function(t,e){return b(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,a){var s=e.Se.get(o);if(a.maybeDocument){var u=dr(e.Ve.D,a.maybeDocument,e.getReadTime(o));i=i.add(o.path.popLast());var c=Dr(u);r+=c-s,n.push(e.Ve.addEntry(t,o,u))}else if(r-=s,e.trackRemovals){var l=dr(e.Ve.D,new rt(o,Bt.min()),e.getReadTime(o));n.push(e.Ve.addEntry(t,o,l))}else n.push(e.Ve.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ve.Gt.addToCollectionParentIndex(t,r))}),n.push(this.Ve.updateMetadata(t,r)),Jn.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ve.Ae(t,e).next(function(t){return null===t?(n.Se.set(e,0),null):(n.Se.set(e,t.size),t.maybeDocument)})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ve.be(t,e).next(function(t){var e=t.ve;return t.Pe.forEach(function(t,e){n.Se.set(t,e)}),e})},e}(Xr);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(t){return ur(t,Un.store)}function ni(t){return ur(t,Fn.store)}function ri(t){return t.path.toArray()}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ii=function(){function t(t){this.D=t}return t.prototype.St=function(t,e,n,r){var i=this;v(n<r&&n>=0&&r<=11);var o=new Xn("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(xn.store)}(t),function(t){t.createObjectStore(Dn.store,{keyPath:Dn.keyPath}),t.createObjectStore(Pn.store,{keyPath:Pn.keyPath,autoIncrement:!0}).createIndex(Pn.userMutationsIndex,Pn.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Rn.store)}(t),oi(t),function(t){t.createObjectStore(Fn.store)}(t));var a=Jn.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Vn.store),t.deleteObjectStore(qn.store),t.deleteObjectStore(Bn.store)}(t),oi(t)),a=a.next(function(){return t=o.store(Bn.store),e=new Bn(0,0,Bt.min().toTimestamp(),0),t.put(Bn.key,e);var t,e})),n<4&&r>=4&&(0!==n&&(a=a.next(function(){return function(t,e){return e.store(Pn.store).kt().next(function(n){t.deleteObjectStore(Pn.store),t.createObjectStore(Pn.store,{keyPath:Pn.keyPath,autoIncrement:!0}).createIndex(Pn.userMutationsIndex,Pn.userMutationsKeyPath,{unique:!0});var r=e.store(Pn.store),i=n.map(function(t){return r.put(t)});return Jn.waitFor(i)})}(t,o)})),a=a.next(function(){!function(t){t.createObjectStore($n.store,{keyPath:$n.keyPath})}(t)})),n<5&&r>=5&&(a=a.next(function(){return i.De(o)})),n<6&&r>=6&&(a=a.next(function(){return function(t){t.createObjectStore(Un.store)}(t),i.Ce(o)})),n<7&&r>=7&&(a=a.next(function(){return i.xe(o)})),n<8&&r>=8&&(a=a.next(function(){return i.Ne(t,o)})),n<9&&r>=9&&(a=a.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Fn.store);e.createIndex(Fn.readTimeIndex,Fn.readTimeIndexPath,{unique:!1}),e.createIndex(Fn.collectionReadTimeIndex,Fn.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(a=a.next(function(){return i.$e(o)})),n<11&&r>=11&&(a=a.next(function(){!function(t){t.createObjectStore(Hn.store,{keyPath:Hn.keyPath})}(t),function(t){t.createObjectStore(Gn.store,{keyPath:Gn.keyPath})}(t)})),a},t.prototype.Ce=function(t){var e=0;return t.store(Fn.store).qt(function(t,n){e+=Dr(n)}).next(function(){var n=new Un(e);return t.store(Un.store).put(Un.key,n)})},t.prototype.De=function(t){var e=this,n=t.store(Dn.store),r=t.store(Pn.store);return n.kt().next(function(n){return Jn.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.kt(Pn.userMutationsIndex,i).next(function(r){return Jn.forEach(r,function(r){v(r.userId===n.userId);var i=br(e.D,r);return xr(t,n.userId,i).next(function(){})})})})})},t.prototype.xe=function(t){var e=t.store(Vn.store),n=t.store(Fn.store);return t.store(Bn.store).get(Bn.key).next(function(t){var r=[];return n.qt(function(n,i){var o=new j(n),a=[0,Cn(o)];r.push(e.get(a).next(function(n){return n?Jn.resolve():function(n){return e.put(new Vn(0,Cn(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return Jn.waitFor(r)})})},t.prototype.Ne=function(t,e){t.createObjectStore(Kn.store,{keyPath:Kn.keyPath});var n=e.store(Kn.store),r=new Cr,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Cn(i)})}};return e.store(Fn.store).qt({Bt:!0},function(t,e){var n=new j(t);return i(n.popLast())}).next(function(){return e.store(Rn.store).qt({Bt:!0},function(t,e){t[0];var n=t[1],r=(t[2],Nn(n));return i(r.popLast())})})},t.prototype.$e=function(t){var e=this,n=t.store(qn.store);return n.qt(function(t,r){var i=_r(r),o=wr(e.D,i);return n.put(o)})},t}();function oi(t){t.createObjectStore(Vn.store,{keyPath:Vn.keyPath}).createIndex(Vn.documentTargetsIndex,Vn.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(qn.store,{keyPath:qn.keyPath}).createIndex(qn.queryTargetsIndexName,qn.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Bn.store)}var ai="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",si=function(){function t(e,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Fe=o,this.window=a,this.document=s,this.Oe=c,this.ke=l,this.Me=null,this.Le=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Be=null,this.inForeground=!1,this.qe=null,this.Ue=null,this.Qe=Number.NEGATIVE_INFINITY,this.Ke=function(t){return Promise.resolve()},!t.At())throw new A(k.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Qr(this,i),this.We=n+"main",this.D=new fr(u),this.je=new Zn(this.We,11,new ii(this.D)),this.Ge=new qr(this.referenceDelegate,this.D),this.Gt=new kr,this.ze=function(t,e){return new Zr(t,e)}(this.D,this.Gt),this.He=new Tr,this.window&&this.window.localStorage?this.Je=this.window.localStorage:(this.Je=null,!1===l&&h("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.Ye().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new A(k.FAILED_PRECONDITION,ai);return t.Xe(),t.Ze(),t.tn(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.Ge.getHighestSequenceNumber(e)})}).then(function(e){t.Me=new s(e,t.Oe)}).then(function(){t.Le=!0}).catch(function(e){return t.je&&t.je.close(),Promise.reject(e)})},t.prototype.en=function(t){var e=this;return this.Ke=function(n){return Object(a.b)(e,void 0,void 0,function(){return Object(a.d)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.je.Ct(function(n){return Object(a.b)(e,void 0,void 0,function(){return Object(a.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Fe.enqueueAndForget(function(){return Object(a.b)(e,void 0,void 0,function(){return Object(a.d)(this,function(t){switch(t.label){case 0:return this.started?[4,this.Ye()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.Ye=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return ci(e).put(new $n(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.nn(e).next(function(e){e||(t.isPrimary=!1,t.Fe.enqueueRetryable(function(){return t.Ke(!1)}))})}).next(function(){return t.sn(e)}).next(function(n){return t.isPrimary&&!n?t.rn(e).next(function(){return!1}):!!n&&t.on(e).next(function(){return!0})})}).catch(function(e){if(nr(e))return l("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return l("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Fe.enqueueRetryable(function(){return t.Ke(e)}),t.isPrimary=e})},t.prototype.nn=function(t){var e=this;return ui(t).get(xn.key).next(function(t){return Jn.resolve(e.cn(t))})},t.prototype.an=function(t){return ci(t).delete(this.clientId)},t.prototype.un=function(){return Object(a.b)(this,void 0,void 0,function(){var t,e,n,r,i=this;return Object(a.d)(this,function(o){switch(o.label){case 0:return!this.isPrimary||this.hn(this.Qe,18e5)?[3,2]:(this.Qe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=ur(t,$n.store);return e.kt().next(function(t){var n=i.ln(t,18e5),r=t.filter(function(t){return-1===n.indexOf(t)});return Jn.forEach(r,function(t){return e.delete(t.clientId)}).next(function(){return r})})}).catch(function(){return[]})]);case 1:if(t=o.sent(),this.Je)for(e=0,n=t;e<n.length;e++)r=n[e],this.Je.removeItem(this.fn(r.clientId));o.label=2;case 2:return[2]}})})},t.prototype.tn=function(){var t=this;this.Ue=this.Fe.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.Ye().then(function(){return t.un()}).then(function(){return t.tn()})})},t.prototype.cn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.sn=function(t){var e=this;return this.ke?Jn.resolve(!0):ui(t).get(xn.key).next(function(n){if(null!==n&&e.hn(n.leaseTimestampMs,5e3)&&!e.dn(n.ownerId)){if(e.cn(n)&&e.networkEnabled)return!0;if(!e.cn(n)){if(!n.allowTabSynchronization)throw new A(k.FAILED_PRECONDITION,ai);return!1}}return!(!e.networkEnabled||!e.inForeground)||ci(t).kt().next(function(t){return void 0===e.ln(t,5e3).find(function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1})})}).next(function(t){return e.isPrimary!==t&&l("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(a.b)(this,void 0,void 0,function(){var t=this;return Object(a.d)(this,function(e){switch(e.label){case 0:return this.Le=!1,this.wn(),this.Ue&&(this.Ue.cancel(),this.Ue=null),this._n(),this.mn(),[4,this.je.runTransaction("shutdown","readwrite",[xn.store,$n.store],function(e){var n=new sr(e,s.o);return t.rn(n).next(function(){return t.an(n)})})];case 1:return e.sent(),this.je.close(),this.yn(),[2]}})})},t.prototype.ln=function(t,e){var n=this;return t.filter(function(t){return n.hn(t.updateTimeMs,e)&&!n.dn(t.clientId)})},t.prototype.gn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return ci(e).kt().next(function(e){return t.ln(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.Le},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Pr.Ht(t,this.D,this.Gt,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.Ge},t.prototype.getRemoteDocumentCache=function(){return this.ze},t.prototype.getIndexManager=function(){return this.Gt},t.prototype.getBundleCache=function(){return this.He},t.prototype.runTransaction=function(t,e,n){var r=this;l("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.je.runTransaction(t,o,Wn,function(o){return i=new sr(o,r.Me?r.Me.next():s.o),"readwrite-primary"===e?r.nn(i).next(function(t){return!!t||r.sn(i)}).next(function(e){if(!e)throw h("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Fe.enqueueRetryable(function(){return r.Ke(!1)}),new A(k.FAILED_PRECONDITION,zn);return n(i)}).next(function(t){return r.on(i).next(function(){return t})}):r.pn(i).next(function(){return n(i)})}).then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.pn=function(t){var e=this;return ui(t).get(xn.key).next(function(t){if(null!==t&&e.hn(t.leaseTimestampMs,5e3)&&!e.dn(t.ownerId)&&!e.cn(t)&&!(e.ke||e.allowTabSynchronization&&t.allowTabSynchronization))throw new A(k.FAILED_PRECONDITION,ai)})},t.prototype.on=function(t){var e=new xn(this.clientId,this.allowTabSynchronization,Date.now());return ui(t).put(xn.key,e)},t.At=function(){return Zn.At()},t.prototype.rn=function(t){var e=this,n=ui(t);return n.get(xn.key).next(function(t){return e.cn(t)?(l("IndexedDbPersistence","Releasing primary lease."),n.delete(xn.key)):Jn.resolve()})},t.prototype.hn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(h("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Xe=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=function(){t.Fe.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.Ye()})},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)},t.prototype._n=function(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)},t.prototype.Ze=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Be=function(){e.wn(),e.Fe.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("unload",this.Be))},t.prototype.mn=function(){this.Be&&(this.window.removeEventListener("unload",this.Be),this.Be=null)},t.prototype.dn=function(t){var e;try{var n=null!==(null===(e=this.Je)||void 0===e?void 0:e.getItem(this.fn(t)));return l("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return h("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.wn=function(){if(this.Je)try{this.Je.setItem(this.fn(this.clientId),String(Date.now()))}catch(t){h("Failed to set zombie client id.",t)}},t.prototype.yn=function(){if(this.Je)try{this.Je.removeItem(this.fn(this.clientId))}catch(t){}},t.prototype.fn=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function ui(t){return ur(t,xn.store)}function ci(t){return ur(t,$n.store)}function li(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var hi=function(){function t(t,e,n){this.ze=t,this.Tn=e,this.Gt=n}return t.prototype.In=function(t,e){var n=this;return this.Tn.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.An(t,e,r)})},t.prototype.An=function(t,e,n){return this.ze.getEntry(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].applyToLocalView(e,t);return t})},t.prototype.Rn=function(t,e,n){var r=Le();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].applyToLocalView(t,e);r=r.insert(t,e)}),r},t.prototype.bn=function(t,e){var n=this;return this.ze.getEntries(t,e).next(function(e){return n.vn(t,e)})},t.prototype.vn=function(t,e){var n=this;return this.Tn.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(r){var i=n.Rn(t,e,r),o=Re();return i.forEach(function(t,e){e||(e=new rt(t,Bt.min())),o=o.insert(t,e)}),o})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return P.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Pn(t,e.path):xt(e)?this.Vn(t,e,n):this.Sn(t,e,n)},t.prototype.Pn=function(t,e){return this.In(t,new P(e)).next(function(t){var e=Fe();return t instanceof nt&&(e=e.insert(t.key,t)),e})},t.prototype.Vn=function(t,e,n){var r=this,i=e.collectionGroup,o=Fe();return this.Gt.getCollectionParents(t,i).next(function(a){return Jn.forEach(a,function(a){var s=function(t,e){return new Ot(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(i));return r.Sn(t,s,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.Sn=function(t,e,n){var r,i,o=this;return this.ze.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o.Tn.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return i=e,o.Dn(t,i,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=pe(u,r.get(c),o.localWriteTime);r=l instanceof nt?r.insert(c,l):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){Ut(e,n)||(r=r.remove(t))}),r})},t.prototype.Dn=function(t,e,n){for(var r=Be(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof me&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.ze.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof nt&&(c=c.insert(t,e))}),c})},t}(),fi=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.Cn=n,this.xn=r}return t.Nn=function(e,n){for(var r=Be(),i=Be(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),pi=function(){function t(){}return t.prototype.$n=function(t){this.Fn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,i){var o=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Bt.min())?this.On(t,e):this.Fn.bn(t,i).next(function(a){var s=o.kn(e,a);return(kt(e)||At(e))&&o.Mn(e.limitType,s,i,n)?o.On(t,e):(c()<=r.a.DEBUG&&l("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ft(e)),o.Fn.getDocumentsMatchingQuery(t,e,n).next(function(t){return s.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.kn=function(t,e){var n=new xe(qt(t));return e.forEach(function(e,r){r instanceof nt&&Ut(t,r)&&(n=n.add(r))}),n},t.prototype.Mn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.On=function(t,e){return c()<=r.a.DEBUG&&l("QueryEngine","Using full collection scan to execute query:",Ft(e)),this.Fn.getDocumentsMatchingQuery(t,e,Bt.min())},t}(),di=function(){function t(t,e,n,r){this.persistence=t,this.Ln=e,this.D=r,this.Bn=new Ae(b),this.qn=new Jr(function(t){return st(t)},ut),this.Un=Bt.min(),this.Tn=t.getMutationQueue(n),this.Qn=t.getRemoteDocumentCache(),this.Ge=t.getTargetCache(),this.Kn=new hi(this.Qn,this.Tn,this.persistence.getIndexManager()),this.He=t.getBundleCache(),this.Ln.$n(this.Kn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Bn)})},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(t,e,n,r){return new di(t,e,n,r)}function gi(t,e){return Object(a.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(a.d)(this,function(a){switch(a.label){case 0:return n=g(t),r=n.Tn,i=n.Kn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n.Tn.getAllMutationBatches(t).next(function(a){return o=a,r=n.persistence.getMutationQueue(e),i=new hi(n.Qn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],a=Be(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];a=a.add(f.key)}}for(var p=0,d=e;p<d.length;p++){var v=d[p];r.push(v.batchId);for(var g=0,y=v.mutations;g<y.length;g++){var m=y[g];a=a.add(m.key)}}return i.bn(t,a).next(function(t){return{Wn:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=a.sent(),[2,(n.Tn=r,n.Kn=i,n.Ln.$n(n.Kn),o)]}})})}function yi(t){var e=g(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.Ge.getLastRemoteSnapshotVersion(t)})}function mi(t,e,n,r,i){var o=Be();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=Re();return n.forEach(function(n,a){var s=t.get(n),u=(null==i?void 0:i.get(n))||r;a instanceof rt&&a.version.isEqual(Bt.min())?(e.removeEntry(n,u),o=o.insert(n,a)):null==s||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(e.addEntry(a,u),o=o.insert(n,a)):l("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)}),o})}function bi(t,e){var n=g(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.Ge.getTargetData(t,e).next(function(i){return i?(r=i,Jn.resolve(r)):n.Ge.allocateTargetId(t).next(function(i){return r=new hr(e,i,0,t.currentSequenceNumber),n.Ge.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Bn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Bn=n.Bn.insert(t.targetId,t),n.qn.set(e,t.targetId)),t})}function _i(t,e,n){return Object(a.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(a.d)(this,function(a){switch(a.label){case 0:r=g(t),i=r.Bn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!nr(s=a.sent()))throw s;return l("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Bn=r.Bn.remove(e),r.qn.delete(i.target),[2]}})})}function wi(t,e,n){var r=g(t),i=Bt.min(),o=Be();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=g(t),i=r.qn.get(n);return void 0!==i?Jn.resolve(r.Bn.get(i)):r.Ge.getTargetData(e,n)}(r,t,Pt(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.Ge.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.Ln.getDocumentsMatchingQuery(t,e,n?i:Bt.min(),n?o:Be())}).next(function(t){return{documents:t,jn:o}})})}function Ii(t,e){var n=g(t),r=g(n.Ge),i=n.Bn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.yt(t,e).next(function(t){return t?t.target:null})})}function Ti(t){var e=g(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=g(t),i=Re(),o=vr(n),a=ni(e),s=IDBKeyRange.lowerBound(o,!0);return a.qt({index:Fn.readTimeIndex,range:s},function(t,e){var n=pr(r.D,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{En:i,readTime:gr(o)}})}(e.Qn,t,e.Un)}).then(function(t){var n=t.En,r=t.readTime;return e.Un=r,n})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ei=function(){function t(t){this.D=t,this.Jn=new Map,this.Yn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Jn.resolve(this.Jn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Jn.set(e.id,{id:(n=e).id,version:n.version,createTime:an(n.createTime)}),Jn.resolve()},t.prototype.getNamedQuery=function(t,e){return Jn.resolve(this.Yn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.Yn.set(e.name,function(t){return{name:t.name,query:Ir(t.bundledQuery),readTime:an(t.readTime)}}(e)),Jn.resolve()},t}(),Oi=function(){function t(){this.Xn=new xe(Si.Zn),this.ts=new xe(Si.es)}return t.prototype.isEmpty=function(){return this.Xn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Si(t,e);this.Xn=this.Xn.add(n),this.ts=this.ts.add(n)},t.prototype.ns=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.ss(new Si(t,e))},t.prototype.rs=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.os=function(t){var e=this,n=new P(new j([])),r=new Si(n,t),i=new Si(n,t+1),o=[];return this.ts.forEachInRange([r,i],function(t){e.ss(t),o.push(t.key)}),o},t.prototype.cs=function(){var t=this;this.Xn.forEach(function(e){return t.ss(e)})},t.prototype.ss=function(t){this.Xn=this.Xn.delete(t),this.ts=this.ts.delete(t)},t.prototype.us=function(t){var e=new P(new j([])),n=new Si(e,t),r=new Si(e,t+1),i=Be();return this.ts.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new Si(t,0),n=this.Xn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Si=function(){function t(t,e){this.key=t,this.hs=e}return t.Zn=function(t,e){return P.comparator(t.key,e.key)||b(t.hs,e.hs)},t.es=function(t,e){return b(t.hs,e.hs)||P.comparator(t.key,e.key)},t}(),Ci=function(){function t(t,e){this.Gt=t,this.referenceDelegate=e,this.Tn=[],this.ls=1,this.fs=new xe(Si.Zn)}return t.prototype.checkEmpty=function(t){return Jn.resolve(0===this.Tn.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ls;this.ls++,this.Tn.length>0&&this.Tn[this.Tn.length-1];var o=new cr(i,e,n,r);this.Tn.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.fs=this.fs.add(new Si(u.key,i)),this.Gt.addToCollectionParentIndex(t,u.key.path.popLast())}return Jn.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Jn.resolve(this.ds(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=e+1,r=this.ws(n),i=r<0?0:r;return Jn.resolve(this.Tn.length>i?this.Tn[i]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Jn.resolve(0===this.Tn.length?-1:this.ls-1)},t.prototype.getAllMutationBatches=function(t){return Jn.resolve(this.Tn.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Si(e,0),i=new Si(e,Number.POSITIVE_INFINITY),o=[];return this.fs.forEachInRange([r,i],function(t){var e=n.ds(t.hs);o.push(e)}),Jn.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new xe(b);return e.forEach(function(t){var e=new Si(t,0),i=new Si(t,Number.POSITIVE_INFINITY);n.fs.forEachInRange([e,i],function(t){r=r.add(t.hs)})}),Jn.resolve(this._s(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;P.isDocumentKey(i)||(i=i.child(""));var o=new Si(new P(i),0),a=new xe(b);return this.fs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.hs)),!0)},o),Jn.resolve(this._s(a))},t.prototype._s=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.ds(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;v(0===this.ys(e.batchId,"removed")),this.Tn.shift();var r=this.fs;return Jn.forEach(e.mutations,function(i){var o=new Si(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.fs=r})},t.prototype.Xt=function(t){},t.prototype.containsKey=function(t,e){var n=new Si(e,0),r=this.fs.firstAfterOrEqual(n);return Jn.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return this.Tn.length,Jn.resolve()},t.prototype.ys=function(t,e){return this.ws(t)},t.prototype.ws=function(t){return 0===this.Tn.length?0:t-this.Tn[0].batchId},t.prototype.ds=function(t){var e=this.ws(t);return e<0||e>=this.Tn.length?null:this.Tn[e]},t}(),ki=function(){function t(t,e){this.Gt=t,this.gs=e,this.docs=new Ae(P.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.gs(e);return this.docs=this.docs.insert(r,{maybeDocument:e,size:a,readTime:n}),this.size+=a-o,this.Gt.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Jn.resolve(n?n.maybeDocument:null)},t.prototype.getEntries=function(t,e){var n=this,r=Le();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.maybeDocument:null)}),Jn.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Fe(),i=new P(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.maybeDocument,l=u.readTime;if(!e.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||c instanceof nt&&Ut(e,c)&&(r=r.insert(c.key,c))}return Jn.resolve(r)},t.prototype.ps=function(t,e){return Jn.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new Ai(this)},t.prototype.getSize=function(t){return Jn.resolve(this.size)},t}(),Ai=function(t){function e(e){var n;return(n=t.call(this)||this).Ve=e,n}return Object(a.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i&&i.maybeDocument?n.push(e.Ve.addEntry(t,i.maybeDocument,e.getReadTime(r))):e.Ve.removeEntry(r)}),Jn.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ve.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ve.getEntries(t,e)},e}(Xr),Ni=function(){function t(t){this.persistence=t,this.Es=new Jr(function(t){return st(t)},ut),this.lastRemoteSnapshotVersion=Bt.min(),this.highestTargetId=0,this.Ts=0,this.Is=new Oi,this.targetCount=0,this.As=Ur.ee()}return t.prototype.forEachTarget=function(t,e){return this.Es.forEach(function(t,n){return e(n)}),Jn.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Jn.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Jn.resolve(this.Ts)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.As.next(),Jn.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Ts&&(this.Ts=e),Jn.resolve()},t.prototype.re=function(t){this.Es.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.As=new Ur(e),this.highestTargetId=e),t.sequenceNumber>this.Ts&&(this.Ts=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.re(e),this.targetCount+=1,Jn.resolve()},t.prototype.updateTargetData=function(t,e){return this.re(e),Jn.resolve()},t.prototype.removeTargetData=function(t,e){return this.Es.delete(e.target),this.Is.os(e.targetId),this.targetCount-=1,Jn.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.Es.forEach(function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.Es.delete(a),o.push(r.removeMatchingKeysForTargetId(t,s.targetId)),i++)}),Jn.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return Jn.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.Es.get(e)||null;return Jn.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this.Is.ns(e,n),Jn.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this.Is.rs(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),Jn.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.Is.os(e),Jn.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.Is.us(e);return Jn.resolve(n)},t.prototype.containsKey=function(t,e){return Jn.resolve(this.Is.containsKey(e))},t}(),ji=function(){function t(t,e){var n=this;this.Rs={},this.Me=new s(0),this.Le=!1,this.Le=!0,this.referenceDelegate=t(this),this.Ge=new Ni(this),this.Gt=new Sr,this.ze=function(t,e){return new ki(t,function(t){return n.referenceDelegate.bs(t)})}(this.Gt),this.D=new fr(e),this.He=new Ei(this.D)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.Le=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.Le},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Gt},t.prototype.getMutationQueue=function(t){var e=this.Rs[t.toKey()];return e||(e=new Ci(this.Gt,this.referenceDelegate),this.Rs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.Ge},t.prototype.getRemoteDocumentCache=function(){return this.ze},t.prototype.getBundleCache=function(){return this.He},t.prototype.runTransaction=function(t,e,n){var r=this;l("MemoryPersistence","Starting transaction:",t);var i=new xi(this.Me.next());return this.referenceDelegate.vs(),n(i).next(function(t){return r.referenceDelegate.Ps(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Vs=function(t,e){return Jn.or(Object.values(this.Rs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),xi=function(t){function e(e){var n;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(a.c)(e,t),e}(Qn),Di=function(){function t(t){this.persistence=t,this.Ss=new Oi,this.Ds=null}return t.Cs=function(e){return new t(e)},Object.defineProperty(t.prototype,"xs",{get:function(){if(this.Ds)return this.Ds;throw d()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.Ss.addReference(n,e),this.xs.delete(n.toString()),Jn.resolve()},t.prototype.removeReference=function(t,e,n){return this.Ss.removeReference(n,e),this.xs.add(n.toString()),Jn.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.xs.add(e.toString()),Jn.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.Ss.os(e.targetId).forEach(function(t){return n.xs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.xs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.vs=function(){this.Ds=new Set},t.prototype.Ps=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Jn.forEach(this.xs,function(r){var i=P.fromPath(r);return e.Ns(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Ds=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ns(t,e).next(function(t){t?n.xs.delete(e.toString()):n.xs.add(e.toString())})},t.prototype.bs=function(t){return 0},t.prototype.Ns=function(t,e){var n=this;return Jn.or([function(){return Jn.resolve(n.Ss.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Vs(t,e)}])},t}(),Pi=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(t,e){return"firestore_clients_"+t+"_"+e}function Li(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Mi(t,e){return"firestore_targets_"+t+"_"+e}Pi.UNAUTHENTICATED=new Pi(null),Pi.GOOGLE_CREDENTIALS=new Pi("google-credentials-uid"),Pi.FIRST_PARTY=new Pi("first-party-uid");var Fi=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.$s=function(e,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new A(o.error.code,o.error.message)),a?new t(e,n,o.state,i):(h("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Fs=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Ui=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.$s=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new A(i.error.code,i.error.message)),o?new t(e,i.state,r):(h("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Fs=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),qi=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.$s=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=$e(),a=0;i&&a<r.activeTargetIds.length;++a)i=C(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(h("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Vi=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.$s=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(h("SharedClientState","Failed to parse online state: "+e),null)},t}(),Bi=function(){function t(){this.activeTargetIds=$e()}return t.prototype.Os=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ks=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Fs=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Ki=function(){function t(t,e,n,r,i){this.window=t,this.Fe=e,this.persistenceKey=n,this.Ms=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Ls=this.Bs.bind(this),this.qs=new Ae(b),this.started=!1,this.Us=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Qs=Ri(this.persistenceKey,this.Ms),this.Ks=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.qs=this.qs.insert(this.Ms,new Bi),this.Ws=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.js=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Gs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.zs=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Hs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.Ls)}return t.At=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(a.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,u,c,l,h,f=this;return Object(a.d)(this,function(a){switch(a.label){case 0:return[4,this.syncEngine.gn()];case 1:for(t=a.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ms&&(i=this.getItem(Ri(this.persistenceKey,r)))&&(o=qi.$s(r,i))&&(this.qs=this.qs.insert(o.clientId,o));for(this.Js(),(s=this.storage.getItem(this.zs))&&(u=this.Ys(s))&&this.Xs(u),c=0,l=this.Us;c<l.length;c++)h=l[c],this.Bs(h);return this.Us=[],this.window.addEventListener("unload",function(){return f.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ks,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Zs(this.qs)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.qs.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.ti(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.ti(t,e,n),this.ei(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Mi(this.persistenceKey,t));if(n){var r=Ui.$s(t,n);r&&(e=r.state)}}return this.ni.Os(t),this.Js(),e},t.prototype.removeLocalQueryTarget=function(t){this.ni.ks(t),this.Js()},t.prototype.isLocalQueryTarget=function(t){return this.ni.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Mi(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.si(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.ei(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.ii(t)},t.prototype.notifyBundleLoaded=function(){this.ri()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.Ls),this.removeItem(this.Qs),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return l("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){l("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){l("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Bs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(l("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Qs)return void h("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Fe.enqueueRetryable(function(){return Object(a.b)(e,void 0,void 0,function(){var t,e,r,i,o,u;return Object(a.d)(this,function(a){if(this.started){if(null!==n.key)if(this.Ws.test(n.key)){if(null==n.newValue)return t=this.oi(n.key),[2,this.ci(t,null)];if(e=this.ai(n.key,n.newValue))return[2,this.ci(e.clientId,e)]}else if(this.js.test(n.key)){if(null!==n.newValue&&(r=this.ui(n.key,n.newValue)))return[2,this.hi(r)]}else if(this.Gs.test(n.key)){if(null!==n.newValue&&(i=this.li(n.key,n.newValue)))return[2,this.fi(i)]}else if(n.key===this.zs){if(null!==n.newValue&&(o=this.Ys(n.newValue)))return[2,this.Xs(o)]}else if(n.key===this.Ks)(u=function(t){var e=s.o;if(null!=t)try{var n=JSON.parse(t);v("number"==typeof n),e=n}catch(t){h("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==s.o&&this.sequenceNumberHandler(u);else if(n.key===this.Hs)return[2,this.syncEngine.di()]}else this.Us.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"ni",{get:function(){return this.qs.get(this.Ms)},enumerable:!1,configurable:!0}),t.prototype.Js=function(){this.setItem(this.Qs,this.ni.Fs())},t.prototype.ti=function(t,e,n){var r=new Fi(this.currentUser,t,e,n),i=Li(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Fs())},t.prototype.ei=function(t){var e=Li(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.ii=function(t){var e={clientId:this.Ms,onlineState:t};this.storage.setItem(this.zs,JSON.stringify(e))},t.prototype.si=function(t,e,n){var r=Mi(this.persistenceKey,t),i=new Ui(t,e,n);this.setItem(r,i.Fs())},t.prototype.ri=function(){this.setItem(this.Hs,"value-not-used")},t.prototype.oi=function(t){var e=this.Ws.exec(t);return e?e[1]:null},t.prototype.ai=function(t,e){var n=this.oi(t);return qi.$s(n,e)},t.prototype.ui=function(t,e){var n=this.js.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Fi.$s(new Pi(i),r,e)},t.prototype.li=function(t,e){var n=this.Gs.exec(t),r=Number(n[1]);return Ui.$s(r,e)},t.prototype.Ys=function(t){return Vi.$s(t)},t.prototype.hi=function(t){return Object(a.b)(this,void 0,void 0,function(){return Object(a.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.wi(t.batchId,t.state,t.error)]:(l("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.fi=function(t){return this.syncEngine._i(t.targetId,t.state,t.error)},t.prototype.ci=function(t,e){var n=this,r=e?this.qs.insert(t,e):this.qs.remove(t),i=this.Zs(this.qs),o=this.Zs(r),a=[],s=[];return o.forEach(function(t){i.has(t)||a.push(t)}),i.forEach(function(t){o.has(t)||s.push(t)}),this.syncEngine.mi(a,s).then(function(){n.qs=r})},t.prototype.Xs=function(t){this.qs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Zs=function(t){var e=$e();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),$i=function(){function t(){this.yi=new Bi,this.gi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.yi.Os(t),this.gi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.gi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.yi.ks(t)},t.prototype.isLocalQueryTarget=function(t){return this.yi.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.gi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.yi.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.yi.activeTargetIds.has(t)},t.prototype.start=function(){return this.yi=new Bi,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),Hi=function(){function t(){}return t.prototype.pi=function(t){},t.prototype.shutdown=function(){},t}(),Gi=function(){function t(){var t=this;this.Ei=function(){return t.Ti()},this.Ii=function(){return t.Ai()},this.Ri=[],this.bi()}return t.prototype.pi=function(t){this.Ri.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ii)},t.prototype.bi=function(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ii)},t.prototype.Ti=function(){l("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.Ri;t<e.length;t++)(0,e[t])(0)},t.prototype.Ai=function(){l("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.Ri;t<e.length;t++)(0,e[t])(1)},t.At=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Wi={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},zi=function(){function t(t){this.vi=t.vi,this.Pi=t.Pi}return t.prototype.Vi=function(t){this.Si=t},t.prototype.Di=function(t){this.Ci=t},t.prototype.onMessage=function(t){this.xi=t},t.prototype.close=function(){this.Pi()},t.prototype.send=function(t){this.vi(t)},t.prototype.Ni=function(){this.Si()},t.prototype.$i=function(t){this.Ci(t)},t.prototype.Fi=function(t){this.xi(t)},t}(),Qi=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return Object(a.c)(e,t),e.prototype.qi=function(t,e,n,r){return new Promise(function(i,a){var s=new o.f;s.listenOnce(o.c.COMPLETE,function(){try{switch(s.getLastErrorCode()){case o.a.NO_ERROR:var e=s.getResponseJson();l("Connection","XHR received:",JSON.stringify(e)),i(e);break;case o.a.TIMEOUT:l("Connection",'RPC "'+t+'" timed out'),a(new A(k.DEADLINE_EXCEEDED,"Request time out"));break;case o.a.HTTP_ERROR:var n=s.getStatus();if(l("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var u=function(t){var e=r.status.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(e)>=0?e:k.UNKNOWN}();a(new A(u,r.message))}else a(new A(k.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new A(k.UNAVAILABLE,"Connection failed."));break;default:d()}}finally{l("Connection",'RPC "'+t+'" completed.')}});var u=JSON.stringify(r);s.send(e,"POST",u,n,15)})},e.prototype.Qi=function(t,e){var n=[this.Oi,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=Object(o.g)(),a=Object(o.h)(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Bi(s.initMessageHeaders,e),Object(i.x)()||Object(i.A)()||Object(i.t)()||Object(i.v)()||Object(i.B)()||Object(i.s)()||(s.httpHeadersOverwriteParam="$httpHeaders");var u=n.join("");l("Connection","Creating WebChannel: "+u,s);var c=r.createWebChannel(u,s),h=!1,p=!1,d=new zi({vi:function(t){p?l("Connection","Not sending because WebChannel is closed:",t):(h||(l("Connection","Opening WebChannel transport."),c.open(),h=!0),l("Connection","WebChannel sending:",t),c.send(t))},Pi:function(){return c.close()}}),g=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return g(c,o.e.EventType.OPEN,function(){p||l("Connection","WebChannel transport opened.")}),g(c,o.e.EventType.CLOSE,function(){p||(p=!0,l("Connection","WebChannel transport closed"),d.$i())}),g(c,o.e.EventType.ERROR,function(t){p||(p=!0,f("Connection","WebChannel transport errored:",t),d.$i(new A(k.UNAVAILABLE,"The operation could not be completed")))}),g(c,o.e.EventType.MESSAGE,function(t){var e;if(!p){var n=t.data[0];v(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){l("Connection","WebChannel received error:",i);var o=i.status,a=function(t){var e=Te[o];if(void 0!==e)return ke(e)}(),s=i.message;void 0===a&&(a=k.INTERNAL,s="Unknown error status: "+o+" with message "+i.message),p=!0,d.$i(new A(a,s)),c.close()}else l("Connection","WebChannel received:",n),d.Fi(n)}}),g(a,o.b.STAT_EVENT,function(t){t.stat===o.d.PROXY?l("Connection","Detected buffering proxy"):t.stat===o.d.NOPROXY&&l("Connection","Detected no buffering proxy")}),setTimeout(function(){d.Ni()},0),d},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId;var e=t.ssl?"https":"http";this.Oi=e+"://"+t.host,this.ki="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Mi=function(t,e,n,r){var i=this.Li(t,e);l("RestConnection","Sending: ",i,n);var o={};return this.Bi(o,r),this.qi(t,i,o,n).then(function(t){return l("RestConnection","Received: ",t),t},function(e){throw f("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Ui=function(t,e,n,r){return this.Mi(t,e,n,r)},t.prototype.Bi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.3.1",t["Content-Type"]="text/plain",e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.Li=function(t,e){var n=Wi[t];return this.Oi+"/v1/"+e+":"+n},t}());
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(){return"undefined"!=typeof window?window:null}function Ji(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(t){return new nn(t,!0)}var Zi=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Fe=t,this.timerId=e,this.Ki=n,this.Wi=r,this.ji=i,this.Gi=0,this.zi=null,this.Hi=Date.now(),this.reset()}return t.prototype.reset=function(){this.Gi=0},t.prototype.Ji=function(){this.Gi=this.ji},t.prototype.Yi=function(t){var e=this;this.cancel();var n=Math.floor(this.Gi+this.Xi()),r=Math.max(0,Date.now()-this.Hi),i=Math.max(0,n-r);i>0&&l("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Gi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.zi=this.Fe.enqueueAfterDelay(this.timerId,i,function(){return e.Hi=Date.now(),t()}),this.Gi*=this.Wi,this.Gi<this.Ki&&(this.Gi=this.Ki),this.Gi>this.ji&&(this.Gi=this.ji)},t.prototype.Zi=function(){null!==this.zi&&(this.zi.skipDelay(),this.zi=null)},t.prototype.cancel=function(){null!==this.zi&&(this.zi.cancel(),this.zi=null)},t.prototype.Xi=function(){return(Math.random()-.5)*this.Gi},t}(),to=function(){function t(t,e,n,r,i,o){this.Fe=t,this.tr=n,this.er=r,this.nr=i,this.listener=o,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new Zi(t,e)}return t.prototype.cr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.ar=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.ur()},t.prototype.stop=function(){return Object(a.b)(this,void 0,void 0,function(){return Object(a.d)(this,function(t){switch(t.label){case 0:return this.cr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.hr=function(){this.state=0,this.rr.reset()},t.prototype.lr=function(){var t=this;this.ar()&&null===this.ir&&(this.ir=this.Fe.enqueueAfterDelay(this.tr,6e4,function(){return t.dr()}))},t.prototype.wr=function(t){this._r(),this.stream.send(t)},t.prototype.dr=function(){return Object(a.b)(this,void 0,void 0,function(){return Object(a.d)(this,function(t){return this.ar()?[2,this.close(0)]:[2]})})},t.prototype._r=function(){this.ir&&(this.ir.cancel(),this.ir=null)},t.prototype.close=function(t,e){return Object(a.b)(this,void 0,void 0,function(){return Object(a.d)(this,function(n){switch(n.label){case 0:return this._r(),this.rr.cancel(),this.sr++,3!==t?this.rr.reset():e&&e.code===k.RESOURCE_EXHAUSTED?(h(e.toString()),h("Using maximum backoff delay to prevent overloading the backend."),this.rr.Ji()):e&&e.code===k.UNAUTHENTICATED&&this.nr.invalidateToken(),null!==this.stream&&(this.mr(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Di(e)];case 1:return n.sent(),[2]}})})},t.prototype.mr=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.yr(this.sr),n=this.sr;this.nr.getToken().then(function(e){t.sr===n&&t.gr(e)},function(n){e(function(){var e=new A(k.UNKNOWN,"Fetching auth token failed: "+n.message);return t.pr(e)})})},t.prototype.gr=function(t){var e=this,n=this.yr(this.sr);this.stream=this.Er(t),this.stream.Vi(function(){n(function(){return e.state=2,e.listener.Vi()})}),this.stream.Di(function(t){n(function(){return e.pr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.ur=function(){var t=this;this.state=4,this.rr.Yi(function(){return Object(a.b)(t,void 0,void 0,function(){return Object(a.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.pr=function(t){return l("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.yr=function(t){var e=this;return function(n){e.Fe.enqueueAndForget(function(){return e.sr===t?n():(l("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),eo=function(t){function e(e,n,r,i,o){var a;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).D=i,a}return Object(a.c)(e,t),e.prototype.Er=function(t){return this.er.Qi("Listen",t)},e.prototype.onMessage=function(t){this.rr.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:d()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.V?(v(void 0===e||"string"==typeof e),R.fromBase64String(e||"")):(v(void 0===e||e instanceof Uint8Array),R.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(s=e.targetChange.cause)&&function(t){var e=void 0===t.code?k.UNKNOWN:ke(t.code);return new A(e,t.message||"")}(s);n=new Qe(r,i,o,a||null)}else if("documentChange"in e){e.documentChange,(r=e.documentChange).document,r.document.name,r.document.updateTime,i=ln(t,r.document.name),o=an(r.document.updateTime);var s=new $t({mapValue:{fields:r.document.fields}}),u=(a=new nt(i,o,s,{}),r.targetIds||[]),c=r.removedTargetIds||[];n=new We(u,c,a.key,a)}else if("documentDelete"in e)e.documentDelete,(r=e.documentDelete).document,i=ln(t,r.document),o=r.readTime?an(r.readTime):Bt.min(),s=new rt(i,o),a=r.removedTargetIds||[],n=new We([],a,s.key,s);else if("documentRemove"in e)e.documentRemove,(r=e.documentRemove).document,i=ln(t,r.document),o=r.removedTargetIds||[],n=new We([],o,i,null);else{if(!("filter"in e))return d();e.filter;var l=e.filter;l.targetId,i=new function(t){this.count=t}(r=l.count||0),o=l.targetId,n=new ze(o,i)}return n}(this.D,t),n=function(t){if(!("targetChange"in t))return Bt.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Bt.min():e.readTime?an(e.readTime):Bt.min()}(t);return this.listener.Tr(e,n)},e.prototype.Ir=function(t){var e={};e.database=pn(this.D),e.addTarget=function(t,e){var n,r=e.target;return(n=ct(r)?{documents:bn(t,r)}:{query:_n(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=on(t,e.resumeToken):e.snapshotVersion.compareTo(Bt.min())>0&&(n.readTime=rn(t,e.snapshotVersion.toTimestamp())),n}(this.D,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return d()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.D,t);n&&(e.labels=n),this.wr(e)},e.prototype.Ar=function(t){var e={};e.database=pn(this.D),e.removeTarget=t,this.wr(e)},e}(to),no=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).D=i,a.Rr=!1,a}return Object(a.c)(e,t),Object.defineProperty(e.prototype,"br",{get:function(){return this.Rr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Rr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.mr=function(){this.Rr&&this.vr([])},e.prototype.Er=function(t){return this.er.Qi("Write",t)},e.prototype.onMessage=function(t){if(v(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Rr){this.rr.reset();var e=function(t,e){return t&&t.length>0?(v(void 0!==e),t.map(function(t){return function(t,e){var n=t.updateTime?an(t.updateTime):an(e);return n.isEqual(Bt.min())&&(n=an(e)),new function(t,e){this.version=t,this.transformResults=e}(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=an(t.commitTime);return this.listener.Pr(n,e)}return v(!t.writeResults||0===t.writeResults.length),this.Rr=!0,this.listener.Vr()},e.prototype.Sr=function(){var t={};t.database=pn(this.D),this.wr(t)},e.prototype.vr=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return yn(e.D,t)})};this.wr(n)},e}(to),ro=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.er=n,i.D=r,i.Dr=!1,i}return Object(a.c)(e,t),e.prototype.Cr=function(){if(this.Dr)throw new A(k.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Mi=function(t,e,n){var r=this;return this.Cr(),this.credentials.getToken().then(function(i){return r.er.Mi(t,e,n,i)}).catch(function(t){throw t.code===k.UNAUTHENTICATED&&r.credentials.invalidateToken(),t})},e.prototype.Ui=function(t,e,n){var r=this;return this.Cr(),this.credentials.getToken().then(function(i){return r.er.Ui(t,e,n,i)}).catch(function(t){throw t.code===k.UNAUTHENTICATED&&r.credentials.invalidateToken(),t})},e.prototype.terminate=function(){this.Dr=!1},e}(function(){}),io=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Nr=0,this.$r=null,this.Fr=!0}return t.prototype.Or=function(){var t=this;0===this.Nr&&(this.kr("Unknown"),this.$r=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.$r=null,t.Mr("Backend didn't respond within 10 seconds."),t.kr("Offline"),Promise.resolve()}))},t.prototype.Lr=function(t){"Online"===this.state?this.kr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr("Connection failed 1 times. Most recent error: "+t.toString()),this.kr("Offline")))},t.prototype.set=function(t){this.Br(),this.Nr=0,"Online"===t&&(this.Fr=!1),this.kr(t)},t.prototype.kr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Mr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Fr?(h(e),this.Fr=!1):l("OnlineStateTracker",e)},t.prototype.Br=function(){null!==this.$r&&(this.$r.cancel(),this.$r=null)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oo(t){return Object(a.b)(this,void 0,void 0,function(){var e,n;return Object(a.d)(this,function(r){switch(r.label){case 0:if(!po(t))return[3,4];e=0,n=t.Kr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function ao(t){return Object(a.b)(this,void 0,void 0,function(){var e,n;return Object(a.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Kr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function so(t,e){var n=g(t);n.Ur.has(e.targetId)||(n.Ur.set(e.targetId,e),fo(n)?ho(n):Io(n).ar()&&co(n,e))}function uo(t,e){var n=g(t),r=Io(n);n.Ur.delete(e),r.ar()&&lo(n,e),0===n.Ur.size&&(r.ar()?r.lr():po(n)&&n.jr.set("Unknown"))}function co(t,e){t.Gr.H(e.targetId),Io(t).Ir(e)}function lo(t,e){t.Gr.H(e),Io(t).Ar(e)}function ho(t){t.Gr=new Je({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},yt:function(e){return t.Ur.get(e)||null}}),Io(t).start(),t.jr.Or()}function fo(t){return po(t)&&!Io(t).cr()&&t.Ur.size>0}function po(t){return 0===g(t).Qr.size}function vo(t){t.Gr=void 0}function go(t,e,n){return Object(a.b)(this,void 0,void 0,function(){var r=this;return Object(a.d)(this,function(i){switch(i.label){case 0:if(!nr(e))throw e;return t.Qr.add(1),[4,ao(t)];case 1:return i.sent(),t.jr.set("Offline"),n||(n=function(){return yi(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(a.b)(r,void 0,void 0,function(){return Object(a.d)(this,function(e){switch(e.label){case 0:return l("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Qr.delete(1),[4,oo(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function yo(t,e){return e().catch(function(n){return go(t,n,e)})}function mo(t){return Object(a.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(a.d)(this,function(a){switch(a.label){case 0:e=g(t),n=To(e),r=e.qr.length>0?e.qr[e.qr.length-1].batchId:-1,a.label=1;case 1:if(!function(t){return po(t)&&t.qr.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,function(t,e){var n=g(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.Tn.getNextMutationBatchAfterBatchId(t,e)})}(e.localStore,r)];case 3:return null===(i=a.sent())?(0===e.qr.length&&n.lr(),[3,7]):(r=i.batchId,function(t,e){t.qr.push(e);var n=To(t);n.ar()&&n.br&&n.vr(e.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,go(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return bo(e)&&_o(e),[2]}})})}function bo(t){return po(t)&&!To(t).cr()&&t.qr.length>0}function _o(t){To(t).start()}function wo(t,e){return Object(a.b)(this,void 0,void 0,function(){var n;return Object(a.d)(this,function(r){switch(r.label){case 0:return n=g(t),e?(n.Qr.delete(2),[4,oo(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Qr.add(2),[4,ao(n)]);case 3:r.sent(),n.jr.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Io(t){var e=this;return t.zr||(t.zr=function(t,e,n){var r=g(t);return r.Cr(),new eo(e,r.er,r.credentials,r.D,n)}(t.datastore,t.asyncQueue,{Vi:function(t){return Object(a.b)(this,void 0,void 0,function(){return Object(a.d)(this,function(e){return t.Ur.forEach(function(e,n){co(t,e)}),[2]})})}.bind(null,t),Di:function(t,e){return Object(a.b)(this,void 0,void 0,function(){return Object(a.d)(this,function(n){return vo(t),fo(t)?(t.jr.Lr(e),ho(t)):t.jr.set("Unknown"),[2]})})}.bind(null,t),Tr:function(t,e,n){return Object(a.b)(this,void 0,void 0,function(){var r,i,o;return Object(a.d)(this,function(s){switch(s.label){case 0:if(t.jr.set("Online"),!(e instanceof Qe&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(a.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(a.d)(this,function(a){switch(a.label){case 0:n=e.cause,r=0,i=e.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],t.Ur.has(o)?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),t.Ur.delete(o),t.Gr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),l("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,go(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof We?t.Gr.st(e):e instanceof ze?t.Gr.ht(e):t.Gr.ot(e),n.isEqual(Bt.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,yi(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.Gr.dt(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Ur.get(r);i&&t.Ur.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.Ur.get(e);if(n){t.Ur.set(e,n.withResumeToken(R.EMPTY_BYTE_STRING,n.snapshotVersion)),lo(t,e);var r=new hr(n.target,e,1,n.sequenceNumber);co(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return l("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,go(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}.bind(null,t)}),t.Kr.push(function(n){return Object(a.b)(e,void 0,void 0,function(){return Object(a.d)(this,function(e){switch(e.label){case 0:return n?(t.zr.hr(),fo(t)?ho(t):t.jr.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.zr.stop()];case 2:e.sent(),vo(t),e.label=3;case 3:return[2]}})})})),t.zr}function To(t){var e=this;return t.Hr||(t.Hr=function(t,e,n){var r=g(t);return r.Cr(),new no(e,r.er,r.credentials,r.D,n)}(t.datastore,t.asyncQueue,{Vi:function(t){return Object(a.b)(this,void 0,void 0,function(){return Object(a.d)(this,function(e){return To(t).Sr(),[2]})})}.bind(null,t),Di:function(t,e){return Object(a.b)(this,void 0,void 0,function(){return Object(a.d)(this,function(n){switch(n.label){case 0:return e&&To(t).br?[4,function(t,e){return Object(a.b)(this,void 0,void 0,function(){var n,r;return Object(a.d)(this,function(i){switch(i.label){case 0:return Ce(r=e.code)&&r!==k.ABORTED?(n=t.qr.shift(),To(t).hr(),[4,yo(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,mo(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return bo(t)&&_o(t),[2]}})})}.bind(null,t),Vr:function(t){return Object(a.b)(this,void 0,void 0,function(){var e,n,r,i;return Object(a.d)(this,function(o){for(e=To(t),n=0,r=t.qr;n<r.length;n++)i=r[n],e.vr(i.mutations);return[2]})})}.bind(null,t),Pr:function(t,e,n){return Object(a.b)(this,void 0,void 0,function(){var r,i;return Object(a.d)(this,function(o){switch(o.label){case 0:return r=t.qr.shift(),i=lr.from(r,e,n),[4,yo(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,mo(t)];case 2:return o.sent(),[2]}})})}.bind(null,t)}),t.Kr.push(function(n){return Object(a.b)(e,void 0,void 0,function(){return Object(a.d)(this,function(e){switch(e.label){case 0:return n?(t.Hr.hr(),[4,mo(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Hr.stop()];case 3:e.sent(),t.qr.length>0&&(l("RemoteStore","Stopping write stream with "+t.qr.length+" pending writes"),t.qr=[]),e.label=4;case 4:return[2]}})})})),t.Hr
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var Eo=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Yn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new A(k.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Oo(t,e){if(h("AsyncQueue",e+": "+t),nr(t))return new A(k.UNAVAILABLE,e+": "+t);throw t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var So=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||P.comparator(e.key,n.key)}:function(t,e){return P.comparator(t.key,e.key)},this.keyedMap=Fe(),this.sortedSet=new Ae(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Co=function(){function t(){this.Jr=new Ae(P.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Jr.get(e);n?0!==t.type&&3===n.type?this.Jr=this.Jr.insert(e,t):3===t.type&&1!==n.type?this.Jr=this.Jr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Jr=this.Jr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Jr=this.Jr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Jr=this.Jr.remove(e):1===t.type&&2===n.type?this.Jr=this.Jr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Jr=this.Jr.insert(e,{type:2,doc:t.doc}):d():this.Jr=this.Jr.insert(e,t)},t.prototype.Yr=function(){var t=[];return this.Jr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),ko=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,So.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Lt(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Ao=function(){this.Xr=void 0,this.listeners=[]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function No(t,e){return Object(a.b)(this,void 0,void 0,function(){var n,r,i,o,s,u,c;return Object(a.d)(this,function(a){switch(a.label){case 0:if(n=g(t),r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new Ao),!i)return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Xr=a.sent(),[3,4];case 3:return u=a.sent(),c=Oo(u,"Initialization of query '"+Ft(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.eo(n.onlineState),o.Xr&&e.no(o.Xr)&&xo(n),[2]}})})}function jo(t,e){return Object(a.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(a.d)(this,function(a){return n=g(t),r=e.query,i=!1,(o=n.queries.get(r))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function xo(t){t.Zr.forEach(function(t){t.next()})}var Do=function(){function t(t,e,n){this.query=t,this.so=e,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.no=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new ko(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.io?this.oo(t)&&(this.so.next(t),o=!0):this.co(t,this.onlineState)&&(this.ao(t),o=!0),this.ro=t,o},t.prototype.onError=function(t){this.so.error(t)},t.prototype.eo=function(t){this.onlineState=t;var e=!1;return this.ro&&!this.io&&this.co(this.ro,t)&&(this.ao(this.ro),e=!0),e},t.prototype.co=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.uo&&n||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.oo=function(t){if(t.docChanges.length>0)return!0;var e=this.ro&&this.ro.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.ao=function(t){t=ko.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.io=!0,this.so.next(t)},t}(),Po=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.ho=function(){return"metadata"in this.payload},t}(),Ro=function(){function t(t){this.D=t}return t.prototype.Gn=function(t){return ln(this.D,t)},t.prototype.zn=function(t){return t.metadata.exists?gn(this.D,t.document,!1):new rt(this.Gn(t.metadata.name),this.Hn(t.metadata.readTime))},t.prototype.Hn=function(t){return an(t)},t}(),Lo=function(){function t(t,e,n){this.lo=t,this.localStore=e,this.D=n,this.queries=[],this.documents=[],this.progress=Mo(t)}return t.prototype.fo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.wo=function(t){for(var e=new Map,n=new Ro(this.D),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.Gn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(e.get(c)||Be()).add(a);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(a.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(a.d)(this,function(o){switch(o.label){case 0:return[4,function(t,e,n,r){return Object(a.b)(this,void 0,void 0,function(){var i,o,s,u,c,l,h,f,p,d;return Object(a.d)(this,function(a){switch(a.label){case 0:for(i=g(t),o=Be(),s=Re(),u=qe(),c=0,l=n;c<l.length;c++)h=l[c],f=e.Gn(h.metadata.name),h.document&&(o=o.add(f)),s=s.insert(f,e.zn(h)),u=u.insert(f,e.Hn(h.metadata.readTime));return p=i.Qn.newChangeBuffer({trackRemovals:!0}),[4,bi(i,function(t){return Pt(Ct(j.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=a.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return mi(t,p,s,Bt.min(),u).next(function(e){return p.apply(t),e}).next(function(e){return i.Ge.removeMatchingKeysForTargetId(t,d.targetId).next(function(){return i.Ge.addMatchingKeys(t,o,d.targetId)}).next(function(){return i.Kn.vn(t,e)})})})]}})})}(this.localStore,new Ro(this.D),this.documents,this.lo.id)];case 1:t=o.sent(),e=this.wo(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,function(t,e,n){return void 0===n&&(n=Be()),Object(a.b)(this,void 0,void 0,function(){var r,i;return Object(a.d)(this,function(o){switch(o.label){case 0:return[4,bi(t,Pt(Ir(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=g(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=an(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.He.saveNamedQuery(t,e);var a=r.withResumeToken(R.EMPTY_BYTE_STRING,o);return i.Bn=i.Bn.insert(a.targetId,a),i.Ge.updateTargetData(t,a).next(function(){return i.Ge.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.Ge.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.He.saveNamedQuery(t,e)})})]}})})}(this.localStore,i,e.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new function(t,e){this.progress=t,this.En=e}(Object.assign({},this.progress),t))]}})})},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mo(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fo=function(t){this.key=t},Uo=function(t){this.key=t},qo=function(){function t(t,e){this.query=t,this._o=e,this.mo=null,this.current=!1,this.yo=Be(),this.mutatedKeys=Be(),this.po=qt(t),this.Eo=new So(this.po)}return Object.defineProperty(t.prototype,"To",{get:function(){return this._o},enumerable:!1,configurable:!0}),t.prototype.Io=function(t,e){var n=this,r=e?e.Ao:new Co,i=e?e.Eo:this.Eo,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=kt(this.query)&&i.size===this.query.limit?i.last():null,c=At(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=e instanceof nt?e:null;h&&(h=Ut(n.query,h)?h:null);var f=!!l&&n.mutatedKeys.has(l.key),p=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),d=!1;l&&h?l.data().isEqual(h.data())?f!==p&&(r.track({type:3,doc:h}),d=!0):n.Ro(l,h)||(r.track({type:2,doc:h}),d=!0,(u&&n.po(h,u)>0||c&&n.po(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),d=!0):l&&!h&&(r.track({type:1,doc:l}),d=!0,(u||c)&&(s=!0)),d&&(h?(a=a.add(h),o=p?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))}),kt(this.query)||At(this.query))for(;a.size>this.query.limit;){var l=kt(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{Eo:a,Ao:r,Mn:s,mutatedKeys:o}},t.prototype.Ro=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.Eo;this.Eo=t.Eo,this.mutatedKeys=t.mutatedKeys;var o=t.Ao.Yr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return d()}};return n(t)-n(e)}(t.type,e.type)||r.po(t.doc,e.doc)}),this.bo(n);var a=e?this.vo():[],s=0===this.yo.size&&this.current?1:0,u=s!==this.mo;return this.mo=s,0!==o.length||u?{snapshot:new ko(this.query,t.Eo,i,o,t.mutatedKeys,0===s,u,!1),Po:a}:{Po:a}},t.prototype.eo=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new Co,mutatedKeys:this.mutatedKeys,Mn:!1},!1)):{Po:[]}},t.prototype.Vo=function(t){return!this._o.has(t)&&!!this.Eo.has(t)&&!this.Eo.get(t).hasLocalMutations},t.prototype.bo=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e._o=e._o.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e._o=e._o.delete(t)}),this.current=t.current)},t.prototype.vo=function(){var t=this;if(!this.current)return[];var e=this.yo;this.yo=Be(),this.Eo.forEach(function(e){t.Vo(e.key)&&(t.yo=t.yo.add(e.key))});var n=[];return e.forEach(function(e){t.yo.has(e)||n.push(new Uo(e))}),this.yo.forEach(function(t){e.has(t)||n.push(new Fo(t))}),n},t.prototype.So=function(t){this._o=t.jn,this.yo=Be();var e=this.Io(t.documents);return this.applyChanges(e,!0)},t.prototype.Do=function(){return ko.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)},t}(),Vo=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Bo=function(t){this.key=t,this.Co=!1},Ko=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.xo={},this.No=new Jr(function(t){return Mt(t)},Lt),this.$o=new Map,this.Fo=new Set,this.Oo=new Ae(P.comparator),this.ko=new Map,this.Mo=new Oi,this.Lo={},this.Bo=new Map,this.qo=Ur.ne(),this.onlineState="Unknown",this.Uo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Uo},enumerable:!1,configurable:!0}),t}();function $o(t,e,n,r){return Object(a.b)(this,void 0,void 0,function(){var i,o,s,u,c,l;return Object(a.d)(this,function(h){switch(h.label){case 0:return t.Qo=function(e,n,r){return function(t,e,n,r){return Object(a.b)(this,void 0,void 0,function(){var i,o,s;return Object(a.d)(this,function(a){switch(a.label){case 0:return(i=e.view.Io(n)).Mn?[4,wi(t.localStore,e.query,!1).then(function(t){var n=t.documents;return e.view.Io(n,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(ta(t,e.targetId,s.Po),s.snapshot)]}})})}(t,e,n,r)},[4,wi(t.localStore,e,!0)];case 1:return i=h.sent(),o=new qo(e,i.jn),s=o.Io(i.documents),u=Ge.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),c=o.applyChanges(s,t.isPrimaryClient,u),ta(t,n,c.Po),l=new Vo(e,n,o),[2,(t.No.set(e,l),t.$o.has(n)?t.$o.get(n).push(e):t.$o.set(n,[e]),c.snapshot)]}})})}function Ho(t,e,n){return Object(a.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(a.d)(this,function(a){switch(a.label){case 0:r=sa(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=g(t),i=q.now(),o=e.reduce(function(t,e){return t.add(e.key)},Be());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Kn.bn(t,o).next(function(o){n=o;for(var a=[],s=0,u=e;s<u.length;s++){var c=u[s],l=de(c,n.get(c.key));null!=l&&a.push(new me(c.key,l,Gt(l.proto.mapValue),ce.exists(!0)))}return r.Tn.addMutationBatch(t,i,a,e)})}).then(function(t){var e=t.applyToLocalDocumentSet(n);return{batchId:t.batchId,changes:e}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.Lo[t.currentUser.toKey()];r||(r=new Ae(b)),r=r.insert(e,n),t.Lo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,ra(r,i.changes)];case 3:return a.sent(),[4,mo(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=Oo(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function Go(t,e){return Object(a.b)(this,void 0,void 0,function(){var n,r;return Object(a.d)(this,function(i){switch(i.label){case 0:n=g(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,function(t,e){var n=g(t),r=e.snapshotVersion,i=n.Bn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.Bn;var a=[];e.targetChanges.forEach(function(e,o){var s=i.get(o);if(s){a.push(n.Ge.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.Ge.addMatchingKeys(t,e.addedDocuments,o)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return v(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,e)&&a.push(n.Ge.updateTargetData(t,c))}}});var s=Re();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),a.push(mi(t,o,e.documentUpdates,r,void 0).next(function(t){s=t})),!r.isEqual(Bt.min())){var u=n.Ge.getLastRemoteSnapshotVersion(t).next(function(e){return n.Ge.setTargetsMetadata(t,t.currentSequenceNumber,r)});a.push(u)}return Jn.waitFor(a).next(function(){return o.apply(t)}).next(function(){return n.Kn.vn(t,s)})}).then(function(t){return n.Bn=i,t})}(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.ko.get(e);r&&(v(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.Co=!0:t.modifiedDocuments.size>0?v(r.Co):t.removedDocuments.size>0&&(v(r.Co),r.Co=!1))}),[4,ra(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,$r(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Wo(t,e,n){var r=g(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.No.forEach(function(t,n){var r=n.view.eo(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=g(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].eo(e)&&(r=!0)}),r&&xo(n)}(r.eventManager,e),i.length&&r.xo.Tr(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function zo(t,e){return Object(a.b)(this,void 0,void 0,function(){var n,r,i;return Object(a.d)(this,function(o){switch(o.label){case 0:n=g(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=g(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Qn.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=Jn.resolve();return o.forEach(function(t){a=a.next(function(){return r.getEntry(e,t)}).next(function(e){var o=e,a=n.docVersions.get(t);v(null!==a),(!o||o.version.compareTo(a)<0)&&(o=i.applyToRemoteDocument(t,o,n))&&r.addEntry(o,n.commitVersion)})}),a.next(function(){return t.Tn.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.Tn.performConsistencyCheck(t)}).next(function(){return n.Kn.bn(t,r)})})}(n.localStore,e)];case 2:return i=o.sent(),Jo(n,r,null),Yo(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,ra(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,$r(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Qo(t,e){return Object(a.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(a.d)(this,function(a){switch(a.label){case 0:po((n=g(t)).remoteStore)||l("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=g(n.localStore);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.Tn.getHighestUnacknowledgedBatchId(t)})}()];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Bo.get(r)||[]).push(e),n.Bo.set(r,i),[3,4]);case 3:return o=a.sent(),s=Oo(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function Yo(t,e){(t.Bo.get(e)||[]).forEach(function(t){t.resolve()}),t.Bo.delete(e)}function Jo(t,e,n){var r=g(t),i=r.Lo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Lo[r.currentUser.toKey()]=i}}function Xo(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.$o.get(e);r<i.length;r++){var o=i[r];t.No.delete(o),n&&t.xo.Ko(o,n)}t.$o.delete(e),t.isPrimaryClient&&t.Mo.os(e).forEach(function(e){t.Mo.containsKey(e)||Zo(t,e)})}function Zo(t,e){t.Fo.delete(e.path.canonicalString());var n=t.Oo.get(e);null!==n&&(uo(t.remoteStore,n),t.Oo=t.Oo.remove(e),t.ko.delete(n),na(t))}function ta(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Fo?(t.Mo.addReference(o.key,e),ea(t,o)):o instanceof Uo?(l("SyncEngine","Document no longer in limbo: "+o.key),t.Mo.removeReference(o.key,e),t.Mo.containsKey(o.key)||Zo(t,o.key)):d()}}function ea(t,e){var n=e.key,r=n.path.canonicalString();t.Oo.get(n)||t.Fo.has(r)||(l("SyncEngine","New document in limbo: "+n),t.Fo.add(r),na(t))}function na(t){for(;t.Fo.size>0&&t.Oo.size<t.maxConcurrentLimboResolutions;){var e=t.Fo.values().next().value;t.Fo.delete(e);var n=new P(j.fromString(e)),r=t.qo.next();t.ko.set(r,new Bo(n)),t.Oo=t.Oo.insert(n,r),so(t.remoteStore,new hr(Pt(Ct(n.path)),r,2,s.o))}}function ra(t,e,n){return Object(a.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(a.d)(this,function(u){switch(u.label){case 0:return r=g(t),i=[],o=[],s=[],r.No.isEmpty()?[3,3]:(r.No.forEach(function(t,a){s.push(r.Qo(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=fi.Nn(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return u.sent(),r.xo.Tr(i),[4,function(t,e){return Object(a.b)(this,void 0,void 0,function(){var n,r,i,o,s,u,c,h,f;return Object(a.d)(this,function(a){switch(a.label){case 0:n=g(t),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Jn.forEach(e,function(e){return Jn.forEach(e.Cn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return Jn.forEach(e.xn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return a.sent(),[3,4];case 3:if(!nr(r=a.sent()))throw r;return l("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)s=o[i],u=s.targetId,s.fromCache||(c=n.Bn.get(u),h=c.snapshotVersion,f=c.withLastLimboFreeSnapshotVersion(h),n.Bn=n.Bn.insert(u,f));return[2]}})})}(r.localStore,o)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}function ia(t,e,n){return Object(a.b)(this,void 0,void 0,function(){var n,r,i,o,s,u,c,l,h,f,p,d,v,y;return Object(a.d)(this,function(m){switch(m.label){case 0:n=g(t),r=[],i=[],o=0,s=e,m.label=1;case 1:return o<s.length?(u=s[o],c=void 0,(l=n.$o.get(u))&&0!==l.length?[4,bi(n.localStore,Pt(l[0]))]:[3,7]):[3,13];case 2:c=m.sent(),h=0,f=l,m.label=3;case 3:return h<f.length?(p=f[h],d=n.No.get(p),[4,function(t,e){return Object(a.b)(this,void 0,void 0,function(){var n,r,i;return Object(a.d)(this,function(o){switch(o.label){case 0:return[4,wi((n=g(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.So(r),[2,(n.isPrimaryClient&&ta(n,e.targetId,i.Po),i)]}})})}(n,d)]):[3,6];case 4:(v=m.sent()).snapshot&&i.push(v.snapshot),m.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,Ii(n.localStore,u)];case 8:return y=m.sent(),[4,bi(n.localStore,y)];case 9:return c=m.sent(),[4,$o(n,oa(y),u,!1)];case 10:m.sent(),m.label=11;case 11:r.push(c),m.label=12;case 12:return o++,[3,1];case 13:return[2,(n.xo.Tr(i),r)]}})})}function oa(t){return St(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function aa(t){var e=g(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Go.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=function(t,e){var n=g(t),r=n.ko.get(e);if(r&&r.Co)return Be().add(r.key);var i=Be(),o=n.$o.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.No.get(u);i=i.unionWith(c.view.To)}return i}.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=function(t,e,n){return Object(a.b)(this,void 0,void 0,function(){var r,i,o,s,u,c;return Object(a.d)(this,function(a){switch(a.label){case 0:return(r=g(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.ko.get(e),(o=i&&i.key)?(s=(s=new Ae(P.comparator)).insert(o,new rt(o,Bt.min())),u=Be().add(o),c=new He(Bt.min(),new Map,new xe(b),s,u),[4,Go(r,c)]):[3,2];case 1:return a.sent(),r.Oo=r.Oo.remove(o),r.ko.delete(e),na(r),[3,4];case 2:return[4,_i(r.localStore,e,!1).then(function(){return Xo(r,e,n)}).catch($r)];case 3:a.sent(),a.label=4;case 4:return[2]}})})}.bind(null,e),e.xo.Tr=function(t,e){for(var n=g(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].no(a)&&(r=!0);u.Xr=a}}r&&xo(n)}.bind(null,e.eventManager),e.xo.Ko=function(t,e,n){var r=g(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}.bind(null,e.eventManager),e}function sa(t){var e=g(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zo.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=function(t,e,n){return Object(a.b)(this,void 0,void 0,function(){var r,i;return Object(a.d)(this,function(o){switch(o.label){case 0:r=g(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=g(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.Tn.lookupMutationBatch(t,e).next(function(e){return v(null!==e),r=e.keys(),n.Tn.removeMutationBatch(t,e)}).next(function(){return n.Tn.performConsistencyCheck(t)}).next(function(){return n.Kn.bn(t,r)})})}(r.localStore,e)];case 2:return i=o.sent(),Jo(r,e,n),Yo(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,ra(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,$r(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}.bind(null,e),e}function ua(t,e,n){var r=g(t);(function(t,e,n){return Object(a.b)(this,void 0,void 0,function(){var r,i,o,s,u,c;return Object(a.d)(this,function(a){switch(a.label){case 0:return a.trys.push([0,14,,15]),[4,e.getMetadata()];case 1:return r=a.sent(),[4,function(t,e){var n=g(t),r=an(e.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",function(t){return n.He.getBundleMetadata(t,e.id)}).then(function(t){return!!t&&t.createTime.compareTo(r)>=0})}(t.localStore,r)];case 2:return a.sent()?[4,e.close()]:[3,4];case 3:return[2,(a.sent(),void n._completeWith(function(t){return{taskState:"Success",documentsLoaded:t.totalDocuments,bytesLoaded:t.totalBytes,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(r)))];case 4:return n._updateProgress(Mo(r)),i=new Lo(r,t.localStore,e.D),[4,e.Wo()];case 5:o=a.sent(),a.label=6;case 6:return o?[4,i.fo(o)]:[3,10];case 7:return(s=a.sent())&&n._updateProgress(s),[4,e.Wo()];case 8:o=a.sent(),a.label=9;case 9:return[3,6];case 10:return[4,i.complete()];case 11:return u=a.sent(),[4,ra(t,u.En,void 0)];case 12:return a.sent(),[4,function(t,e){var n=g(t);return n.persistence.runTransaction("Save bundle","readwrite",function(t){return n.He.saveBundleMetadata(t,e)})}(t.localStore,r)];case 13:return a.sent(),n._completeWith(u.progress),[3,15];case 14:return f("SyncEngine","Loading bundle failed with "+(c=a.sent())),n._failWith(c),[3,15];case 15:return[2]}})})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)(r,e,n).then(function(){r.sharedClientState.notifyBundleLoaded()})}var ca=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(a.b)(this,void 0,void 0,function(){return Object(a.d)(this,function(e){switch(e.label){case 0:return this.D=Xi(t.databaseInfo.databaseId),this.sharedClientState=this.jo(t),this.persistence=this.Go(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.zo(t),this.localStore=this.Ho(t),[2]}})})},t.prototype.zo=function(t){return null},t.prototype.Ho=function(t){return vi(this.persistence,new pi,t.initialUser,this.D)},t.prototype.Go=function(t){return new ji(Di.Cs,this.D)},t.prototype.jo=function(t){return new $i},t.prototype.terminate=function(){return Object(a.b)(this,void 0,void 0,function(){return Object(a.d)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),la=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Jo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(a.c)(e,t),e.prototype.initialize=function(e){return Object(a.b)(this,void 0,void 0,function(){return Object(a.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,function(t){return Object(a.b)(this,void 0,void 0,function(){var e;return Object(a.d)(this,function(n){return[2,(e=g(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=ni(t),n=Bt.min();return e.qt({index:Fn.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=gr(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.Un=t})]})})}(this.localStore)];case 2:return n.sent(),[4,this.Jo.initialize(this,e)];case 3:return n.sent(),[4,sa(this.Jo.syncEngine)];case 4:return n.sent(),[4,mo(this.Jo.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Ho=function(t){return vi(this.persistence,new pi,t.initialUser,this.D)},e.prototype.zo=function(t){var e=this.persistence.referenceDelegate.garbageCollector;return new Wr(e,t.asyncQueue)},e.prototype.Go=function(t){var e=li(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?jr.withCacheSize(this.cacheSizeBytes):jr.DEFAULT;return new si(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Yi(),Ji(),this.D,this.sharedClientState,!!this.forceOwnership)},e.prototype.jo=function(t){return new $i},e}(ca),ha=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Jo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(a.c)(e,t),e.prototype.initialize=function(e){return Object(a.b)(this,void 0,void 0,function(){var n,r=this;return Object(a.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Jo.syncEngine,this.sharedClientState instanceof Ki?(this.sharedClientState.syncEngine={wi:function(t,e,n,r){return Object(a.b)(this,void 0,void 0,function(){var i,o;return Object(a.d)(this,function(a){switch(a.label){case 0:return[4,function(t,e){var n=g(t),r=g(n.Tn);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.Jt(t,e).next(function(e){return e?n.Kn.bn(t,e):Jn.resolve(null)})})}((i=g(t)).localStore,e)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,mo(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Jo(i,e,r||null),Yo(i,e),function(t,e){g(g(t).Tn).Xt(e)}(i.localStore,e)):d(),a.label=4;case 4:return[4,ra(i,o)];case 5:return a.sent(),[3,7];case 6:l("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}})})}.bind(null,n),_i:function(t,e,n,r){return Object(a.b)(this,void 0,void 0,function(){var i,o,s;return Object(a.d)(this,function(a){switch(a.label){case 0:return(i=g(t)).Uo?(l("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.$o.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Ti(i.localStore)];case 3:return o=a.sent(),s=He.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,ra(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,_i(i.localStore,e,!0)];case 6:return a.sent(),Xo(i,e,r),[3,8];case 7:d(),a.label=8;case 8:return[2]}})})}.bind(null,n),mi:function(t,e,n){return Object(a.b)(this,void 0,void 0,function(){var r,i,o,s,u,c,h,f,p,d;return Object(a.d)(this,function(v){switch(v.label){case 0:if(!(r=aa(t)).Uo)return[3,10];i=0,o=e,v.label=1;case 1:return i<o.length?(s=o[i],r.$o.has(s)?(l("SyncEngine","Adding an already active target "+s),[3,5]):[4,Ii(r.localStore,s)]):[3,6];case 2:return u=v.sent(),[4,bi(r.localStore,u)];case 3:return c=v.sent(),[4,$o(r,oa(u),c.targetId,!1)];case 4:v.sent(),so(r.remoteStore,c),v.label=5;case 5:return i++,[3,1];case 6:h=function(t){return Object(a.d)(this,function(e){switch(e.label){case 0:return r.$o.has(t)?[4,_i(r.localStore,t,!1).then(function(){uo(r.remoteStore,t),Xo(r,t)}).catch($r)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},f=0,p=n,v.label=7;case 7:return f<p.length?(d=p[f],[5,h(d)]):[3,10];case 8:v.sent(),v.label=9;case 9:return f++,[3,7];case 10:return[2]}})})}.bind(null,n),gn:function(t){return g(g(g(t).localStore).persistence).gn()}.bind(null,n),di:function(t){return Object(a.b)(this,void 0,void 0,function(){var e;return Object(a.d)(this,function(n){return[2,Ti((e=g(t)).localStore).then(function(t){return ra(e,t)})]})})}.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.en(function(t){return Object(a.b)(r,void 0,void 0,function(){return Object(a.d)(this,function(e){switch(e.label){case 0:return[4,function(t,e){return Object(a.b)(this,void 0,void 0,function(){var n,r,i,o,s,u,c,l;return Object(a.d)(this,function(a){switch(a.label){case 0:return aa(n=g(t)),sa(n),!0!==e||!0===n.Uo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,ia(n,r.toArray())]);case 1:return i=a.sent(),n.Uo=!0,[4,wo(n.remoteStore,!0)];case 2:for(a.sent(),o=0,s=i;o<s.length;o++)u=s[o],so(n.remoteStore,u);return[3,7];case 3:return!1!==e||!1===n.Uo?[3,7]:(c=[],l=Promise.resolve(),n.$o.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?c.push(e):l=l.then(function(){return Xo(n,e),_i(n.localStore,e,!0)}),uo(n.remoteStore,e)}),[4,l]);case 4:return a.sent(),[4,ia(n,c)];case 5:return a.sent(),function(t){var e=g(n);e.ko.forEach(function(t,n){uo(e.remoteStore,n)}),e.Mo.cs(),e.ko=new Map,e.Oo=new Ae(P.comparator)}(),n.Uo=!1,[4,wo(n.remoteStore,!1)];case 6:a.sent(),a.label=7;case 7:return[2]}})})}(this.Jo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.jo=function(t){var e=Yi();if(!Ki.At(e))throw new A(k.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=li(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Ki(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(la),fa=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(a.b)(this,void 0,void 0,function(){var n=this;return Object(a.d)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Wo(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=function(t,e){return Object(a.b)(this,void 0,void 0,function(){var n,r;return Object(a.d)(this,function(i){switch(i.label){case 0:return(n=g(t)).currentUser.isEqual(e)?[3,3]:(l("SyncEngine","User change. New user:",e.toKey()),[4,gi(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Bo.forEach(function(t){t.forEach(function(t){t.reject(new A(k.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Bo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,ra(n,r.Wn)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}.bind(null,this.syncEngine),[4,wo(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new function(){this.queries=new Jr(function(t){return Mt(t)},Lt),this.onlineState="Unknown",this.Zr=new Set}},t.prototype.createDatastore=function(t){var e,n=Xi(t.databaseInfo.databaseId),r=(e=t.databaseInfo,new Qi(e));return function(t,e,n){return new ro(t,r,n)}(t.credentials,0,n)},t.prototype.createRemoteStore=function(t){var e=this;return new function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.qr=[],this.Ur=new Map,this.Qr=new Set,this.Kr=[],this.Wr=i,this.Wr.pi(function(t){n.enqueueAndForget(function(){return Object(a.b)(o,void 0,void 0,function(){return Object(a.d)(this,function(t){switch(t.label){case 0:return po(this)?(l("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(a.b)(this,void 0,void 0,function(){var e;return Object(a.d)(this,function(n){switch(n.label){case 0:return(e=g(t)).Qr.add(4),[4,ao(e)];case 1:return n.sent(),e.jr.set("Unknown"),e.Qr.delete(4),[4,oo(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.jr=new io(n,r)}(this.localStore,this.datastore,t.asyncQueue,function(t){return Wo(e.syncEngine,t,0)},Gi.At()?new Gi:new Hi)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,a){var s=new Ko(t,e,n,r,i,o);return a&&(s.Uo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(a.b)(this,void 0,void 0,function(){var e;return Object(a.d)(this,function(n){switch(n.label){case 0:return e=g(t),l("RemoteStore","RemoteStore shutting down."),e.Qr.add(5),[4,ao(e)];case 1:return n.sent(),e.Wr.shutdown(),e.jr.set("Unknown"),[2]}})})}(this.remoteStore)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pa(t,e){void 0===e&&(e=10240);var n=0;return{read:function(){return Object(a.b)(this,void 0,void 0,function(){var r;return Object(a.d)(this,function(i){return n<t.byteLength?(r={value:t.slice(n,n+e),done:!1},[2,(n+=e,r)]):[2,{done:!0}]})})},cancel:function(){return Object(a.b)(this,void 0,void 0,function(){return Object(a.d)(this,function(t){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var da=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.Yo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.Yo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Xo=function(){this.muted=!0},t.prototype.Yo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),va=function(){function t(t,e){var n=this;this.Zo=t,this.D=e,this.metadata=new Yn,this.buffer=new Uint8Array,this.tc=new TextDecoder("utf-8"),this.ec().then(function(t){t&&t.ho()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}return t.prototype.close=function(){return this.Zo.cancel()},t.prototype.getMetadata=function(){return Object(a.b)(this,void 0,void 0,function(){return Object(a.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Wo=function(){return Object(a.b)(this,void 0,void 0,function(){return Object(a.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.ec())]}})})},t.prototype.ec=function(){return Object(a.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(a.d)(this,function(i){switch(i.label){case 0:return[4,this.nc()];case 1:return null===(t=i.sent())?[2,null]:(e=this.tc.decode(t),n=Number(e),isNaN(n)&&this.sc("length string ("+e+") is not valid number"),[4,this.ic(n)]);case 2:return r=i.sent(),[2,new Po(JSON.parse(r),t.length+n)]}})})},t.prototype.rc=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.nc=function(){return Object(a.b)(this,void 0,void 0,function(){var t,e;return Object(a.d)(this,function(n){switch(n.label){case 0:return this.rc()<0?[4,this.oc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.rc())<0&&this.sc("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.ic=function(t){return Object(a.b)(this,void 0,void 0,function(){var e;return Object(a.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.oc()]:[3,3];case 1:n.sent()&&this.sc("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.tc.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.sc=function(t){throw this.Zo.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.oc=function(){return Object(a.b)(this,void 0,void 0,function(){var t,e;return Object(a.d)(this,function(n){switch(n.label){case 0:return[4,this.Zo.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})},t}(),ga=function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(a.b)(this,void 0,void 0,function(){var e,n=this;return Object(a.d)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new A(k.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(a.b)(this,void 0,void 0,function(){var n,r,i,o,s,u;return Object(a.d)(this,function(a){switch(a.label){case 0:return n=g(t),r=pn(n.D)+"/documents",i={documents:e.map(function(t){return cn(n.D,t)})},[4,n.Ui("BatchGetDocuments",r,i)];case 1:return o=a.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){v(!!e.found),e.found.name,e.found.updateTime;var n=ln(t,e.found.name),r=an(e.found.updateTime),i=new $t({mapValue:{fields:e.found.fields}});return new nt(n,r,i,{})}(t,e):"missing"in e?function(t,e){v(!!e.missing),v(!!e.readTime);var n=ln(t,e.missing),r=an(e.readTime);return new rt(n,r)}(t,e):d()}(n.D,t);s.set(e.key.toString(),e)}),u=[],[2,(e.forEach(function(t){var e=s.get(t.toString());v(!!e),u.push(e)}),u)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof rt||t instanceof nt?n.recordVersion(t):d()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Oe(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(a.b)(this,void 0,void 0,function(){var t,e=this;return Object(a.d)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=P.fromPath(n);e.mutations.push(new Se(r,e.precondition(r)))}),[4,function(t,e){return Object(a.b)(this,void 0,void 0,function(){var n,r,i;return Object(a.d)(this,function(o){switch(o.label){case 0:return n=g(t),r=pn(n.D)+"/documents",i={writes:e.map(function(t){return yn(n.D,t)})},[4,n.Mi("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t instanceof nt)e=t.version;else{if(!(t instanceof rt))throw d();e=Bt.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new A(k.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?ce.updateTime(e):ce.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Bt.min()))throw new A(k.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ce.updateTime(e)}return ce.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}(),ya=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.cc=5,this.rr=new Zi(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ac()},t.prototype.ac=function(){var t=this;this.rr.Yi(function(){return Object(a.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(a.d)(this,function(r){return t=new ga(this.datastore),(e=this.uc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.hc(t)})})}).catch(function(t){n.hc(t)}),[2]})})})},t.prototype.uc=function(t){try{var e=this.updateFunction(t);return!O(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.hc=function(t){var e=this;this.cc>0&&this.lc(t)?(this.cc-=1,this.asyncQueue.enqueueAndForget(function(){return e.ac(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.lc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Ce(e)}return!1},t}(),ma=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Pi.UNAUTHENTICATED,this.clientId=m.u(),this.credentialListener=function(){},this.receivedInitialUser=new Yn,this.credentials.setChangeListener(function(t){l("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()})}return t.prototype.getConfiguration=function(){return Object(a.b)(this,void 0,void 0,function(){return Object(a.d)(this,function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}})})},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then(function(){return e.credentialListener(e.user)})},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new A(k.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Yn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(a.b)(t,void 0,void 0,function(){var t,n;return Object(a.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Oo(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ba(t,e){return Object(a.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(a.d)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),l("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable(function(){return Object(a.b)(i,void 0,void 0,function(){return Object(a.d)(this,function(t){switch(t.label){case 0:return[4,gi(e.localStore,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function _a(t,e){return Object(a.b)(this,void 0,void 0,function(){var n,r;return Object(a.d)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,wa(t)];case 1:return n=i.sent(),l("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(n){return t.asyncQueue.enqueueRetryable(function(){return function(t,e){return Object(a.b)(this,void 0,void 0,function(){var n,r;return Object(a.d)(this,function(i){switch(i.label){case 0:return(n=g(t)).asyncQueue.verifyOperationInProgress(),l("RemoteStore","RemoteStore received new credentials"),r=po(n),n.Qr.add(3),[4,ao(n)];case 1:return i.sent(),r&&n.jr.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Qr.delete(3),[4,oo(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,n)})}),t.onlineComponents=e,[2]}})})}function wa(t){return Object(a.b)(this,void 0,void 0,function(){return Object(a.d)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(l("FirestoreClient","Using default OfflineComponentProvider"),[4,ba(t,new ca)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function Ia(t){return Object(a.b)(this,void 0,void 0,function(){return Object(a.d)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(l("FirestoreClient","Using default OnlineComponentProvider"),[4,_a(t,new fa)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function Ta(t){return wa(t).then(function(t){return t.persistence})}function Ea(t){return wa(t).then(function(t){return t.localStore})}function Oa(t){return Ia(t).then(function(t){return t.remoteStore})}function Sa(t){return Ia(t).then(function(t){return t.syncEngine})}function Ca(t){return Object(a.b)(this,void 0,void 0,function(){var e,n;return Object(a.d)(this,function(r){switch(r.label){case 0:return[4,Ia(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=function(t,e){return Object(a.b)(this,void 0,void 0,function(){var n,r,i,o,s,u;return Object(a.d)(this,function(a){switch(a.label){case 0:return n=aa(t),(o=n.No.get(e))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Do(),[3,4]):[3,1];case 1:return[4,bi(n.localStore,Pt(e))];case 2:return s=a.sent(),u=n.sharedClientState.addLocalQueryTarget(s.targetId),r=s.targetId,[4,$o(n,e,r,"current"===u)];case 3:i=a.sent(),n.isPrimaryClient&&so(n.remoteStore,s),a.label=4;case 4:return[2,i]}})})}.bind(null,e.syncEngine),n.onUnlisten=function(t,e){return Object(a.b)(this,void 0,void 0,function(){var n,r,i;return Object(a.d)(this,function(o){switch(o.label){case 0:return n=g(t),r=n.No.get(e),(i=n.$o.get(r.targetId)).length>1?[2,(n.$o.set(r.targetId,i.filter(function(t){return!Lt(t,e)})),void n.No.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,_i(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),uo(n.remoteStore,r.targetId),Xo(n,r.targetId)}).catch($r)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Xo(n,r.targetId),[4,_i(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}.bind(null,e.syncEngine),n)]}})})}function ka(t,e,n){var r=this;void 0===n&&(n={});var i=new Yn;return t.asyncQueue.enqueueAndForget(function(){return Object(a.b)(r,void 0,void 0,function(){var r;return Object(a.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new da({next:function(o){e.enqueueAndForget(function(){return jo(t,a)});var s=o.docs.has(n);!s&&o.fromCache?i.reject(new A(k.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new A(k.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new Do(Ct(n.path),o,{includeMetadataChanges:!0,uo:!0});return No(t,a)},[4,Ca(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function Aa(t,e,n){var r=this;void 0===n&&(n={});var i=new Yn;return t.asyncQueue.enqueueAndForget(function(){return Object(a.b)(r,void 0,void 0,function(){var r;return Object(a.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new da({next:function(n){e.enqueueAndForget(function(){return jo(t,a)}),n.fromCache&&"server"===r.source?i.reject(new A(k.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new Do(n,o,{includeMetadataChanges:!0,uo:!0});return No(t,a)},[4,Ca(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var Na=function(t,e,n,r,i,o){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.autoDetectLongPolling=o},ja=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),xa=new Map,Da=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(Pi.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Pa=function(){function t(t){var e=this;this.fc=null,this.currentUser=Pi.UNAUTHENTICATED,this.receivedInitialUser=!1,this.dc=0,this.changeListener=null,this.forceRefresh=!1,this.fc=function(){e.dc++,e.currentUser=e.wc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.dc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.fc):(this.fc(null),t.get().then(function(t){e.auth=t,e.fc&&e.auth.addAuthTokenListener(e.fc)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.dc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.dc!==e?(l("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(v("string"==typeof n.accessToken),new function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t}(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.fc),this.fc=null,this.changeListener=null},t.prototype.wc=function(){var t=this.auth&&this.auth.getUid();return v(null===t||"string"==typeof t),new Pi(t)},t}(),Ra=function(){function t(t,e){this._c=t,this.mc=e,this.type="FirstParty",this.user=Pi.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.mc},e=this._c.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),La=function(){function t(t,e){this._c=t,this.mc=e}return t.prototype.getToken=function(){return Promise.resolve(new Ra(this._c,this.mc))},t.prototype.setChangeListener=function(t){t(Pi.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ma(t,e,n){if(!n)throw new A(k.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Fa(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new A(k.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Ua(t,e,n,r){if(!0===e&&!0===r)throw new A(k.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function qa(t){if(!P.isDocumentKey(t))throw new A(k.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Va(t){if(P.isDocumentKey(t))throw new A(k.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Ba(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":d()}function Ka(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new A(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Ba(t);throw new A(k.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function $a(t,e){if(e<=0)throw new A(k.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ha=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new A(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new A(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Ua("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Ga=function(){function t(t,e){this._persistenceKey="(lite)",this._settings=new Ha({}),this._settingsFrozen=!1,t instanceof ja?(this._databaseId=t,this._credentials=new Da):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new A(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ja(t.options.projectId)}(t),this._credentials=new Pa(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new A(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new A(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ha(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Da;switch(t.type){case"gapi":var e=t.client;return v(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new La(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new A(k.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return t=this,(e=xa.get(t))&&(l("ComponentProvider","Removing Datastore"),xa.delete(t),e.terminate()),Promise.resolve();var t,e},t}(),Wa=function(t){this._delegate=t},za=function(){function t(t,e,n){this._converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Ya(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Qa=function(){function t(t,e,n){this._converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Ya=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Ct(r))||this).firestore=e,i._path=r,i.type="collection",i}return Object(a.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new za(this.firestore,null,new P(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Qa);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ja(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Wa&&(t=t._delegate),Ma("collection","path",e),t instanceof Ga)return Va(n=j.fromString.apply(j,Object(a.f)([e],r))),new Ya(t,null,n);if(!(t instanceof za||t instanceof Ya))throw new A(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Va(n=j.fromString.apply(j,Object(a.f)([t.path],r)).child(j.fromString(e))),new Ya(t.firestore,null,n)}function Xa(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Wa&&(t=t._delegate),1===arguments.length&&(e=m.u()),Ma("doc","path",e),t instanceof Ga)return qa(n=j.fromString.apply(j,Object(a.f)([e],r))),new za(t,null,new P(n));if(!(t instanceof za||t instanceof Ya))throw new A(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return qa(n=t._path.child(j.fromString.apply(j,Object(a.f)([e],r)))),new za(t.firestore,t instanceof Ya?t._converter:null,new P(n))}function Za(t,e){return t instanceof Wa&&(t=t._delegate),e instanceof Wa&&(e=e._delegate),(t instanceof za||t instanceof Ya)&&(e instanceof za||e instanceof Ya)&&t.firestore===e.firestore&&t.path===e.path&&t._converter===e._converter}function ts(t,e){return t instanceof Wa&&(t=t._delegate),e instanceof Wa&&(e=e._delegate),t instanceof Qa&&e instanceof Qa&&t.firestore===e.firestore&&Lt(t._query,e._query)&&t._converter===e._converter
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var es=function(){function t(){var t=this;this.yc=Promise.resolve(),this.gc=[],this.Ec=!1,this.Tc=[],this.Ic=null,this.Ac=!1,this.Rc=[],this.rr=new Zi(this,"async_queue_retry"),this.bc=function(){var e=Ji();e&&l("AsyncQueue","Visibility state changed to "+e.visibilityState),t.rr.Zi()};var e=Ji();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.bc)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.Ec},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.vc(),this.Pc(t)},t.prototype.enterRestrictedMode=function(){if(!this.Ec){this.Ec=!0;var t=Ji();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}},t.prototype.enqueue=function(t){return this.vc(),this.Ec?new Promise(function(t){}):this.Pc(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.gc.push(t),e.Vc()})},t.prototype.Vc=function(){return Object(a.b)(this,void 0,void 0,function(){var t,e=this;return Object(a.d)(this,function(n){switch(n.label){case 0:if(0===this.gc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.gc[0]()];case 2:return n.sent(),this.gc.shift(),this.rr.reset(),[3,4];case 3:if(!nr(t=n.sent()))throw t;return l("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.gc.length>0&&this.rr.Yi(function(){return e.Vc()}),n.label=5;case 5:return[2]}})})},t.prototype.Pc=function(t){var e=this,n=this.yc.then(function(){return e.Ac=!0,t().catch(function(t){throw e.Ic=t,e.Ac=!1,h("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.Ac=!1,t})});return this.yc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.vc(),this.Rc.indexOf(t)>-1&&(e=0);var i=Eo.createAndSchedule(this,t,e,n,function(t){return r.Sc(t)});return this.Tc.push(i),i},t.prototype.vc=function(){this.Ic&&d()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Dc=function(){return Object(a.b)(this,void 0,void 0,function(){var t;return Object(a.d)(this,function(e){switch(e.label){case 0:return[4,t=this.yc];case 1:e.sent(),e.label=2;case 2:if(t!==this.yc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Cc=function(t){for(var e=0,n=this.Tc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.xc=function(t){var e=this;return this.Dc().then(function(){e.Tc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.Tc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Dc()})},t.prototype.Nc=function(t){this.Rc.push(t)},t.prototype.Sc=function(t){var e=this.Tc.indexOf(t);this.Tc.splice(e,1)},t}();function ns(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var rs=function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Yn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)},t}(),is=-1,os=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._queue=new es,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(a.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||ss(this),this._firestoreClient.terminate()},e}(Ga);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function as(t){return t._firestoreClient||ss(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function ss(t){var e=t._freezeSettings(),n=function(t,e,n){return new Na(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t._databaseId,t._persistenceKey,e);t._firestoreClient=new ma(t._credentials,t._queue,n)}function us(t,e,n){var r=this,i=new Yn;return t.asyncQueue.enqueue(function(){return Object(a.b)(r,void 0,void 0,function(){var r;return Object(a.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,ba(t,n)];case 1:return o.sent(),[4,_a(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===k.FAILED_PRECONDITION||t.code===k.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function cs(t){if(t._initialized||t._terminated)throw new A(k.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ls=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new A(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new D(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),hs=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(R.fromBase64String(e))}catch(e){throw new A(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(R.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),fs=function(t){this._methodName=t},ps=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new A(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new A(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return b(this._lat,t._lat)||b(this._long,t._long)},t}(),ds=/^__.*__$/,vs=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new me(t,this.data,this.fieldMask,e,this.fieldTransforms):new ye(t,this.data,e,this.fieldTransforms)},t}(),gs=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new me(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw d()}}var ms=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.D=n,this.ignoreUndefinedProperties=r,void 0===i&&this.$c(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Fc",{get:function(){return this.settings.Fc},enumerable:!1,configurable:!0}),t.prototype.Oc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.D,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Oc({path:n,Mc:!1});return r.Lc(t),r},t.prototype.Bc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Oc({path:n,Mc:!1});return r.$c(),r},t.prototype.qc=function(t){return this.Oc({path:void 0,Mc:!0})},t.prototype.Uc=function(t){return Fs(t,this.settings.methodName,this.settings.Qc||!1,this.path,this.settings.Kc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.$c=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Lc(this.path.get(t))},t.prototype.Lc=function(t){if(0===t.length)throw this.Uc("Document fields must not be empty");if(ys(this.Fc)&&ds.test(t))throw this.Uc('Document fields cannot begin and end with "__"')},t}(),bs=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.D=n||Xi(t)}return t.prototype.Wc=function(t,e,n,r){return void 0===r&&(r=!1),new ms({Fc:t,methodName:e,Kc:n,path:D.emptyPath(),Mc:!1,Qc:r},this.databaseId,this.D,this.ignoreUndefinedProperties)},t}();function _s(t){var e=t._freezeSettings(),n=Xi(t._databaseId);return new bs(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ws(t,e,n,r,i,o){void 0===o&&(o={});var a=t.Wc(o.merge||o.mergeFields?2:0,e,n,i);Ps("Data must be an object, but it was:",a,r);var s,u,c=xs(r,a);if(o.merge)s=new Kt(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var p=Rs(e,f[h],n);if(!a.contains(p))throw new A(k.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");Us(l,p)||l.push(p)}s=new Kt(l),u=a.fieldTransforms.filter(function(t){return s.covers(t.field)})}else s=null,u=a.fieldTransforms;return new vs(new $t(c),s,u)}var Is=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Fc)throw 1===t.Fc?t.Uc(this._methodName+"() can only appear at the top level of your update data"):t.Uc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(fs);function Ts(t,e,n){return new ms({Fc:3,Kc:e.settings.Kc,methodName:t._methodName,Mc:n},e.databaseId,e.D,e.ignoreUndefinedProperties)}var Es=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.c)(e,t),e.prototype._toFieldTransform=function(t){return new ue(t.path,new te)},e.prototype.isEqual=function(t){return t instanceof e},e}(fs),Os=function(t){function e(e,n){var r;return(r=t.call(this,e)||this).jc=n,r}return Object(a.c)(e,t),e.prototype._toFieldTransform=function(t){var e=Ts(this,t,!0),n=this.jc.map(function(t){return js(t,e)}),r=new ee(n);return new ue(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(fs),Ss=function(t){function e(e,n){var r;return(r=t.call(this,e)||this).jc=n,r}return Object(a.c)(e,t),e.prototype._toFieldTransform=function(t){var e=Ts(this,t,!0),n=this.jc.map(function(t){return js(t,e)}),r=new re(n);return new ue(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(fs),Cs=function(t){function e(e,n){var r;return(r=t.call(this,e)||this).Gc=n,r}return Object(a.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new oe(t.D,Qt(t.D,this.Gc));return new ue(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(fs);function ks(t,e,n,r){var i=t.Wc(1,e,n);Ps("Data must be an object, but it was:",i,r);var o=[],a=new Ht;T(r,function(t,r){var s=Ms(e,t,n);r instanceof Wa&&(r=r._delegate);var u=i.Bc(s);if(r instanceof Is)o.push(s);else{var c=js(r,u);null!=c&&(o.push(s),a.set(s,c))}});var s=new Kt(o);return new gs(a.v(),s,i.fieldTransforms)}function As(t,e,n,r,i,o){var a=t.Wc(1,e,n),s=[Rs(e,r,n)],u=[i];if(o.length%2!=0)throw new A(k.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(Rs(e,o[c])),u.push(o[c+1]);for(var l=[],h=new Ht,f=s.length-1;f>=0;--f)if(!Us(l,s[f])){var p=s[f],d=u[f];d instanceof Wa&&(d=d._delegate);var v=a.Bc(p);if(d instanceof Is)l.push(p);else{var g=js(d,v);null!=g&&(l.push(p),h.set(p,g))}}var y=new Kt(l);return new gs(h.v(),y,a.fieldTransforms)}function Ns(t,e,n,r){return void 0===r&&(r=!1),js(n,t.Wc(r?4:3,e))}function js(t,e){if(t instanceof Wa&&(t=t._delegate),Ds(t))return Ps("Unsupported field value:",e,t),xs(t,e);if(t instanceof fs)return function(t,e){if(!ys(e.Fc))throw e.Uc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Uc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Mc&&4!==e.Fc)throw e.Uc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=js(o[i],e.qc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof Wa&&(t=t._delegate),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Qt(e.D,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=q.fromDate(t);return{timestampValue:rn(e.D,n)}}if(t instanceof q)return n=new q(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:rn(e.D,n)};if(t instanceof ps)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof hs)return{bytesValue:on(e.D,t._byteString)};if(t instanceof za){n=e.databaseId;var r=t.firestore._databaseId;if(!r.isEqual(n))throw e.Uc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:sn(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Uc("Unsupported field value: "+Ba(t))}(t,e)}function xs(t,e){var n={};return E(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):T(t,function(t,r){var i=js(r,e.kc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Ds(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof q||t instanceof ps||t instanceof hs||t instanceof za||t instanceof fs)}function Ps(t,e,n){if(!Ds(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Ba(n);throw"an object"===r?e.Uc(t+" a custom object"):e.Uc(t+" "+r)}}function Rs(t,e,n){if(e instanceof Wa&&(e=e._delegate),e instanceof ls)return e._internalPath;if("string"==typeof e)return Ms(t,e);throw Fs("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Ls=new RegExp("[~\\*/\\[\\]]");function Ms(t,e,n){if(e.search(Ls)>=0)throw Fs("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(ls.bind.apply(ls,Object(a.f)([void 0],e.split(".")))))._internalPath}catch(r){throw Fs("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Fs(t,e,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new A(k.INVALID_ARGUMENT,(s+=". ")+t+u)}function Us(t,e){return t.some(function(t){return t.isEqual(e)})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qs=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new za(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Vs(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data().field(Bs("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Vs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(qs);function Bs(t,e){return"string"==typeof e?Ms(t,e):e instanceof Wa?e._delegate._internalPath:e._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ks=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),$s=function(t){function e(e,n,r,i,o,a){var s=this;return(s=t.call(this,e,n,r,i,a)||this)._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Object(a.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Hs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data().field(Bs("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(qs),Hs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}($s),Gs=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Ks(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new Hs(n._firestore,n._userDataWriter,r.key,r,new Ks(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query._converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new A(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){var r=new Hs(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Ks(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter);return e.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new Hs(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Ks(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:function(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return d()}}(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Ws(t,e){return t instanceof $s&&e instanceof $s?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Gs&&e instanceof Gs&&t._firestore===e._firestore&&ts(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zs(t){if(At(t)&&0===t.explicitOrderBy.length)throw new A(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Qs=function(){};function Ys(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){t=i[r]._apply(t)}return t}var Js=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).zc=e,i.Hc=n,i.Jc=r,i.type="where",i}return Object(a.c)(e,t),e.prototype._apply=function(t){var e=_s(t.firestore),n=function(t,e,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new A(k.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){iu(a,o);for(var u=[],c=0,l=a;c<l.length;c++){var h=l[c];u.push(ru(r,t,h))}s={arrayValue:{values:u}}}else s=ru(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||iu(a,o),s=Ns(n,"where",a,"in"===o||"not-in"===o);var f=lt.create(i,o,s);return function(t,e){if(e.g()){var n=jt(t);if(null!==n&&!n.isEqual(e.field))throw new A(k.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Nt(t);null!==r&&ou(t,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(e.op){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}());if(null!==i)throw i===e.op?new A(k.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new A(k.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,f),f}(t._query,0,e,t.firestore._databaseId,this.zc,this.Hc,this.Jc);return new Qa(t.firestore,t._converter,function(t,e){var n=t.filters.concat([e]);return new Ot(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(Qs),Xs=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).zc=e,r.Yc=n,r.type="orderBy",r}return Object(a.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new A(k.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new A(k.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new wt(e,n);return function(t,e){if(null===Nt(t)){var n=jt(t);null!==n&&ou(t,n,e.field)}}(t,r),r}(t._query,this.zc,this.Yc);return new Qa(t.firestore,t._converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Ot(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(Qs),Zs=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Xc=n,i.Zc=r,i}return Object(a.c)(e,t),e.prototype._apply=function(t){return new Qa(t.firestore,t._converter,Rt(t._query,this.Xc,this.Zc))},e}(Qs),tu=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ta=n,i.ea=r,i}return Object(a.c)(e,t),e.prototype._apply=function(t){var e=nu(t,this.type,this.ta,this.ea);return new Qa(t.firestore,t._converter,function(t,e){return new Ot(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(Qs),eu=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ta=n,i.ea=r,i}return Object(a.c)(e,t),e.prototype._apply=function(t){var e=nu(t,this.type,this.ta,this.ea);return new Qa(t.firestore,t._converter,function(t,e){return new Ot(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(Qs);function nu(t,e,n,r){if(n[0]instanceof Wa&&(n[0]=n[0]._delegate),n[0]instanceof qs)return function(t,e,n,r,i){if(!r)throw new A(k.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Dt(t);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(Q(e,r.key));else{var c=r.field(u.field);if(V(c))throw new A(k.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new A(k.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new bt(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=_s(t.firestore);return function(t,e,n,r,i,o){var a=t.explicitOrderBy;if(i.length>a.length)throw new A(k.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new A(k.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!xt(t)&&-1!==c.indexOf("/"))throw new A(k.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(j.fromString(c));if(!P.isDocumentKey(l))throw new A(k.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new P(l);s.push(Q(e,h))}else{var f=Ns(n,r,c);s.push(f)}}return new bt(s,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function ru(t,e,n){if(n instanceof Wa&&(n=n._delegate),"string"==typeof n){if(""===n)throw new A(k.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!xt(e)&&-1!==n.indexOf("/"))throw new A(k.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(j.fromString(n));if(!P.isDocumentKey(r))throw new A(k.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Q(t,new P(r))}if(n instanceof za)return Q(t,n._key);throw new A(k.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Ba(n)+".")}function iu(t,e){if(!Array.isArray(t)||0===t.length)throw new A(k.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new A(k.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function ou(t,e,n){if(!n.isEqual(e))throw new A(k.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var au=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),K(t)){case 0:return null;case 1:return t.booleanValue;case 2:return F(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(U(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw d()}},t.prototype.convertObject=function(t,e){var n=this,r={};return T(t.fields||{},function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new ps(F(t.latitude),F(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return V(n)?t(n):n}(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(B(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=M(t);return new q(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=j.fromString(t);v(Sn(n));var r=new ja(n.get(1),n.get(3)),i=new P(n.popFirst(5));return r.isEqual(e)||h("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var uu=function(t){function e(e){var n;return(n=t.call(this)||this).firestore=e,n}return Object(a.c)(e,t),e.prototype.convertBytes=function(t){return new hs(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new za(this.firestore,null,e)},e}(au),cu=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=_s(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=lu(t,this._firestore),i=su(r._converter,e,n),o=ws(this._dataReader,"WriteBatch.set",r._key,i,null!==r._converter,n);return this._mutations.push(o.toMutation(r._key,ce.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=lu(t,this._firestore);return e instanceof Wa&&(e=e._delegate),o="string"==typeof e||e instanceof ls?As(this._dataReader,"WriteBatch.update",a._key,e,n,r):ks(this._dataReader,"WriteBatch.update",a._key,e),this._mutations.push(o.toMutation(a._key,ce.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=lu(t,this._firestore);return this._mutations=this._mutations.concat(new Oe(e._key,ce.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new A(k.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lu(t,e){if(t instanceof Wa&&(t=t._delegate),t.firestore!==e)throw new A(k.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hu=function(t){function e(e){var n;return(n=t.call(this)||this).firestore=e,n}return Object(a.c)(e,t),e.prototype.convertBytes=function(t){return new hs(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new za(this.firestore,null,e)},e}(au);function fu(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=Ka((t=Ka(t,za)).firestore,os),a=_s(o);return e instanceof Wa&&(e=e._delegate),du(o,[("string"==typeof e||e instanceof ls?As(a,"updateDoc",t._key,e,n,r):ks(a,"updateDoc",t._key,e)).toMutation(t._key,ce.exists(!0))])}function pu(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof Wa&&(t=t._delegate);var s={includeMetadataChanges:!1},u=0;"object"!=typeof i[u]||ns(i[u])||(s=i[u],u++);var c,l,h,f={includeMetadataChanges:s.includeMetadataChanges};if(ns(i[u])){var p=i[u];i[u]=null===(e=p.next)||void 0===e?void 0:e.bind(p),i[u+1]=null===(n=p.error)||void 0===n?void 0:n.bind(p),i[u+2]=null===(r=p.complete)||void 0===r?void 0:r.bind(p)}if(t instanceof za)l=Ka(t.firestore,os),h=Ct(t._key.path),c={next:function(e){i[u]&&i[u](vu(l,t,e))},error:i[u+1],complete:i[u+2]};else{var d=Ka(t,Qa);l=Ka(d.firestore,os),h=d._query;var v=new hu(l);c={next:function(t){i[u]&&i[u](new Gs(l,v,d,t))},error:i[u+1],complete:i[u+2]},zs(t._query)}return function(t,e,n,r){var i=this,o=new da(c),s=new Do(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return Object(a.b)(i,void 0,void 0,function(){var e;return Object(a.d)(this,function(n){switch(n.label){case 0:return e=No,[4,Ca(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.Xo(),t.asyncQueue.enqueueAndForget(function(){return Object(a.b)(i,void 0,void 0,function(){var e;return Object(a.d)(this,function(n){switch(n.label){case 0:return e=jo,[4,Ca(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(as(l),h,f)}function du(t,e){return function(t,e){var n=this,r=new Yn;return t.asyncQueue.enqueueAndForget(function(){return Object(a.b)(n,void 0,void 0,function(){var n;return Object(a.d)(this,function(i){switch(i.label){case 0:return n=Ho,[4,Sa(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(as(t),e)}function vu(t,e,n){var r=n.docs.get(e._key),i=new hu(t);return new $s(t,i,e._key,r,new Ks(n.hasPendingWrites,n.fromCache),e._converter)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gu=function(t){function e(e,n){var r;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(a.c)(e,t),e.prototype.get=function(e){var n=this,r=lu(e,this._firestore),i=new hu(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new $s(n._firestore,i,r._key,t._document,new Ks(!1,!1),r._converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=_s(t)}return t.prototype.get=function(t){var e=this,n=lu(t,this._firestore),r=new uu(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return d();var i=t[0];if(i instanceof rt)return new qs(e._firestore,r,n._key,null,n._converter);if(i instanceof nt)return new qs(e._firestore,r,i.key,i,n._converter);throw d()})},t.prototype.set=function(t,e,n){var r=lu(t,this._firestore),i=su(r._converter,e,n),o=ws(this._dataReader,"Transaction.set",r._key,i,null!==r._converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=lu(t,this._firestore);return e instanceof Wa&&(e=e._delegate),o="string"==typeof e||e instanceof ls?As(this._dataReader,"Transaction.update",a._key,e,n,r):ks(this._dataReader,"Transaction.update",a._key,e),this._transaction.update(a._key,o),this},t.prototype.delete=function(t){var e=lu(t,this._firestore);return this._transaction.delete(e._key),this},t}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yu(){if("undefined"==typeof Uint8Array)throw new A(k.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function mu(){if("undefined"==typeof atob)throw new A(k.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var bu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.c)(e,t),e.fromBase64String=function(t){return mu(),new e(hs.fromBase64String(t))},e.fromUint8Array=function(t){return yu(),new e(hs.fromUint8Array(t))},e.prototype.toBase64=function(){return mu(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return yu(),this._delegate.toUint8Array()},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Wa),_u=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){cs(t=Ka(t,os));var n=as(t),r=t._freezeSettings(),i=new fa;return us(n,i,new la(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){cs(t=Ka(t,os));var e=as(t),n=t._freezeSettings(),r=new fa;return us(e,r,new ha(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new A(k.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Yn;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(a.b)(e,void 0,void 0,function(){var e;return Object(a.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(a.b)(this,void 0,void 0,function(){var e;return Object(a.d)(this,function(n){switch(n.label){case 0:return Zn.At()?(e=t+"main",[4,Zn.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}})})}(li(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),wu=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).na=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof ja||(i.sa=e),i}return Object(a.c)(e,t),Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=Ka(t,Ga))._getSettings();"firestore.googleapis.com"!==r.host&&r.host!==e&&f("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._delegate,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(a.b)(e,void 0,void 0,function(){var e,n;return Object(a.d)(this,function(r){switch(r.label){case 0:return[4,Ta(t)];case 1:return e=r.sent(),[4,Oa(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=g(n);return e.Qr.delete(0),oo(e)}())]}})})})}(as(Ka(this._delegate,os)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(a.b)(e,void 0,void 0,function(){var e,n;return Object(a.d)(this,function(r){switch(r.label){case 0:return[4,Ta(t)];case 1:return e=r.sent(),[4,Oa(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(a.b)(this,void 0,void 0,function(){var e;return Object(a.d)(this,function(n){switch(n.label){case 0:return(e=g(t)).Qr.add(0),[4,ao(e)];case 1:return n.sent(),e.jr.set("Offline"),[2]}})})}(n))]}})})})}(as(Ka(this._delegate,os)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Ua("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.na.enableMultiTabIndexedDbPersistence(this):this.na.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.na.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.sa&&(this.sa._removeServiceInstance("firestore"),this.sa._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Yn;return t.asyncQueue.enqueueAndForget(function(){return Object(a.b)(e,void 0,void 0,function(){var e;return Object(a.d)(this,function(r){switch(r.label){case 0:return e=Qo,[4,Sa(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(as(Ka(this._delegate,os)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new da(e);return t.asyncQueue.enqueueAndForget(function(){return Object(a.b)(n,void 0,void 0,function(){var e;return Object(a.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){g(t).Zr.add(e),e.next()},[4,Ca(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Xo(),t.asyncQueue.enqueueAndForget(function(){return Object(a.b)(n,void 0,void 0,function(){var e;return Object(a.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){g(t).Zr.delete(e)},[4,Ca(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(as(t=Ka(t,os)),ns(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.sa)throw new A(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.sa},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Lu(this,Ja(this._delegate,t))}catch(t){throw ku(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Cu(this,Xa(this._delegate,t))}catch(t){throw ku(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Du(this,function(t,e){if(t=Ka(t,Ga),Ma("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new A(k.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Qa(t,null,function(t){return new Ot(j.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw ku(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Yn;return t.asyncQueue.enqueueAndForget(function(){return Object(a.b)(n,void 0,void 0,function(){var n;return Object(a.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return Ia(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new ya(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(as(t),function(n){return e(new gu(t,n))})}(this._delegate,function(n){return t(new Eu(e,n))})},e.prototype.batch=function(){var t=this;return as(this._delegate),new Ou(new cu(this._delegate,function(e){return du(t._delegate,e)}))},e.prototype.loadBundle=function(t){throw new A(k.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new A(k.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(Wa),Iu=function(t){function e(e){var n;return(n=t.call(this)||this).firestore=e,n}return Object(a.c)(e,t),e.prototype.convertBytes=function(t){return new bu(new hs(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return Cu.ia(e,this.firestore,null)},e}(au);function Tu(t){var e;e=t,u.setLogLevel(e)}var Eu=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this)._firestore=e,r._userDataWriter=new Iu(e),r}return Object(a.c)(e,t),e.prototype.get=function(t){var e=this,n=Mu(t);return this._delegate.get(n).then(function(t){return new ju(e._firestore,new $s(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n._converter))})},e.prototype.set=function(t,e,n){var r=Mu(t);return n?(Fa("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Mu(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(a.f)([s,e,n],i)),this},e.prototype.delete=function(t){var e=Mu(t);return this._delegate.delete(e),this},e}(Wa),Ou=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.c)(e,t),e.prototype.set=function(t,e,n){var r=Mu(t);return n?(Fa("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Mu(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(a.f)([s,e,n],i)),this},e.prototype.delete=function(t){var e=Mu(t);return this._delegate.delete(e),this},e.prototype.commit=function(){return this._delegate.commit()},e}(Wa),Su=function(t){function e(e,n,r){var i=this;return(i=t.call(this,r)||this)._firestore=e,i._userDataWriter=n,i}return Object(a.c)(e,t),e.prototype.fromFirestore=function(t,e){var n=new Hs(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new xu(this._firestore,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},e.ra=function(t,n){var r=e.oa,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new Iu(t),n),i.set(n,o)),o},e}(Wa);Su.oa=new WeakMap;var Cu=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r._userDataWriter=new Iu(e),r}return Object(a.c)(e,t),e.ca=function(t,n,r){if(t.length%2!=0)throw new A(k.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new za(n._delegate,r,new P(t)))},e.ia=function(t,n,r){return new e(n,new za(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Lu(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Lu(this.firestore,Ja(this._delegate,t))}catch(t){throw ku(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof Wa&&(t=t._delegate),t instanceof za&&Za(this._delegate,t)},e.prototype.set=function(t,e){e=Fa("DocumentReference.set",e);try{return function(t,e,n){var r=Ka((t=Ka(t,za)).firestore,os),i=su(t._converter,e,n);return du(r,[ws(_s(r),"setDoc",t._key,i,null!==t._converter,n).toMutation(t._key,ce.none())])}(this._delegate,t,e)}catch(t){throw ku(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?fu(this._delegate,t):fu.apply(void 0,Object(a.f)([this._delegate,t,e],n))}catch(t){throw ku(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return du(Ka((t=this._delegate).firestore,os),[new Oe(t._key,ce.none())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Au(e),i=Nu(e,function(e){return new ju(t.firestore,new $s(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))});return pu(this._delegate,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){var e=Ka((t=Ka(t,za)).firestore,os),n=as(e),r=new hu(e);return function(t,e){var n=this,r=new Yn;return t.asyncQueue.enqueueAndForget(function(){return Object(a.b)(n,void 0,void 0,function(){var n;return Object(a.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(a.b)(this,void 0,void 0,function(){var r,i;return Object(a.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=g(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Kn.In(t,e)})}(t,e)];case 1:return(i=o.sent())instanceof nt?n.resolve(i):i instanceof rt?n.resolve(null):n.reject(new A(k.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Oo(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Ea(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new $s(e,r,t._key,n,new Ks(n instanceof nt&&n.hasLocalMutations,!0),t._converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){var e=Ka((t=Ka(t,za)).firestore,os);return ka(as(e),t._key,{source:"server"}).then(function(n){return vu(e,t,n)})}(this._delegate):function(t){var e=Ka((t=Ka(t,za)).firestore,os);return ka(as(e),t._key).then(function(n){return vu(e,t,n)})}(this._delegate)).then(function(t){return new ju(e.firestore,new $s(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Su.ra(this.firestore,t)):this._delegate.withConverter(null))},e}(Wa);function ku(t,e,n){return t.message=t.message.replace(e,n),t}function Au(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!ns(r))return r}return{}}function Nu(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=ns(t[0])?t[0]:ns(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var ju=function(t){function e(e,n){var r;return(r=t.call(this,n)||this)._firestore=e,r}return Object(a.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new Cu(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._delegate.data(t)},e.prototype.get=function(t,e){return this._delegate.get(t,e)},e.prototype.isEqual=function(t){return Ws(this._delegate,t._delegate)},e}(Wa),xu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(ju),Du=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r._userDataWriter=new Iu(e),r}return Object(a.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,Ys(this._delegate,function(t,e,n){var r=e,i=Bs("where",t);return new Js(i,r,n)}(t,n,r)))}catch(t){throw ku(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Ys(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Bs("orderBy",t);return new Xs(r,n)}(t,n)))}catch(t){throw ku(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Ys(this._delegate,function(t){return $a("limit",t),new Zs("limit",t,"F")}(t)))}catch(t){throw ku(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Ys(this._delegate,function(t){return $a("limitToLast",t),new Zs("limitToLast",t,"L")}(t)))}catch(t){throw ku(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ys(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new tu("startAt",t,!0)}.apply(void 0,t)))}catch(t){throw ku(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ys(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new tu("startAfter",t,!1)}.apply(void 0,t)))}catch(t){throw ku(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ys(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new eu("endBefore",t,!0)}.apply(void 0,t)))}catch(t){throw ku(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Ys(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new eu("endAt",t,!1)}.apply(void 0,t)))}catch(t){throw ku(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return ts(this._delegate,t._delegate)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){var e=Ka((t=Ka(t,Qa)).firestore,os),n=as(e),r=new hu(e);return function(t,e){var n=this,r=new Yn;return t.asyncQueue.enqueueAndForget(function(){return Object(a.b)(n,void 0,void 0,function(){var n;return Object(a.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(a.b)(this,void 0,void 0,function(){var r,i,o,s,u;return Object(a.d)(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,wi(t,e,!0)];case 1:return u=a.sent(),r=new qo(e,u.jn),i=r.Io(u.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=a.sent(),u=Oo(s,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}})})},[4,Ea(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new Gs(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){var e=Ka((t=Ka(t,Qa)).firestore,os),n=as(e),r=new hu(e);return Aa(n,t._query,{source:"server"}).then(function(n){return new Gs(e,r,t,n)})}(this._delegate):function(t){var e=Ka((t=Ka(t,Qa)).firestore,os),n=as(e),r=new hu(e);return zs(t._query),Aa(n,t._query).then(function(n){return new Gs(e,r,t,n)})}(this._delegate)).then(function(t){return new Ru(e.firestore,new Gs(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Au(e),i=Nu(e,function(e){return new Ru(t.firestore,new Gs(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return pu(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Su.ra(this.firestore,t)):this._delegate.withConverter(null))},e}(Wa),Pu=function(t){function e(e,n){var r;return(r=t.call(this,n)||this)._firestore=e,r}return Object(a.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new xu(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(Wa),Ru=function(t){function e(e,n){var r;return(r=t.call(this,n)||this)._firestore=e,r}return Object(a.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new Du(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new xu(t._firestore,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new Pu(e._firestore,t)})},e.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new xu(n._firestore,r))})},e.prototype.isEqual=function(t){return Ws(this._delegate,t._delegate)},e}(Wa),Lu=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(a.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Cu(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Cu(this.firestore,void 0===t?Xa(this._delegate):Xa(this._delegate,t))}catch(t){throw ku(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Ka(t.firestore,os),r=Xa(t),i=su(t._converter,e);return du(n,[ws(_s(t.firestore),"addDoc",r._key,i,null!==t._converter,{}).toMutation(r._key,ce.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new Cu(e.firestore,t)})},e.prototype.isEqual=function(t){return Za(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Su.ra(this.firestore,t)):this._delegate.withConverter(null))},e}(Du);function Mu(t){return t instanceof Wa&&(t=t._delegate),Ka(t,za)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fu=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(ls.bind.apply(ls,Object(a.f)([void 0],e))))||this}return Object(a.c)(e,t),e.documentId=function(){return new e(D.keyField().canonicalString())},e.prototype.isEqual=function(t){return t instanceof Wa&&(t=t._delegate),t instanceof ls&&this._delegate._internalPath.isEqual(t._internalPath)},e}(Wa),Uu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.c)(e,t),e.serverTimestamp=function(){var t=new Es("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Is("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Os("arrayUnion",t)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ss("arrayRemove",t)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new Cs("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},e}(Wa);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(t){return function(t,e){var n=as(t=Ka(t,os)),r=new rs;return function(t,e,n,r){var i=this,o=function(t,e){return function(t,e){return new va(t,e)}(function(t,e){if(t instanceof Uint8Array)return pa(t,e);if(t instanceof ArrayBuffer)return pa(new Uint8Array(t),e);if(t instanceof ReadableStream)return t.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof t?(new TextEncoder).encode(t):t),e)}(n,Xi(e));t.asyncQueue.enqueueAndForget(function(){return Object(a.b)(i,void 0,void 0,function(){var e;return Object(a.d)(this,function(n){switch(n.label){case 0:return e=ua,[4,Sa(t)];case 1:return e.apply(void 0,[n.sent(),o,r]),[2]}})})})}(n,t._databaseId,e,r),r}(this._delegate,t)}function Vu(t){var e,n,r=this;return(e=this._delegate,n=t,function(t,e){var n=this;return t.asyncQueue.enqueue(function(){return Object(a.b)(n,void 0,void 0,function(){var n;return Object(a.d)(this,function(r){switch(r.label){case 0:return n=function(t,e){var n=g(t);return n.persistence.runTransaction("Get named query","readonly",function(t){return n.He.getNamedQuery(t,e)})},[4,Ea(t)];case 1:return[2,n.apply(void 0,[r.sent(),e])]}})})})}(as(e=Ka(e,os)),n).then(function(t){return t?new Qa(e,null,t.query):null})).then(function(t){return t?new Du(r,t):null})}}).call(e,n("W2nU"))},xaOn:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return p}),n.d(e,"b",function(){return A}),n.d(e,"c",function(){return k}),n.d(e,"d",function(){return V}),n.d(e,"e",function(){return S}),n.d(e,"f",function(){return o}),n.d(e,"g",function(){return a}),n.d(e,"h",function(){return u}),n.d(e,"i",function(){return c}),n.d(e,"j",function(){return et}),n.d(e,"k",function(){return L}),n.d(e,"l",function(){return B}),n.d(e,"m",function(){return h}),n.d(e,"n",function(){return f}),n.d(e,"o",function(){return G}),n.d(e,"p",function(){return d}),n.d(e,"q",function(){return R}),n.d(e,"r",function(){return y}),n.d(e,"s",function(){return m}),n.d(e,"t",function(){return _}),n.d(e,"u",function(){return F}),n.d(e,"v",function(){return w}),n.d(e,"w",function(){return E}),n.d(e,"x",function(){return v}),n.d(e,"y",function(){return g}),n.d(e,"z",function(){return T}),n.d(e,"A",function(){return b}),n.d(e,"B",function(){return I}),n.d(e,"C",function(){return P}),n.d(e,"D",function(){return j}),n.d(e,"E",function(){return U}),n.d(e,"F",function(){return q}),n.d(e,"G",function(){return M}),n.d(e,"H",function(){return Y}),n.d(e,"I",function(){return Q}),n.d(e,"J",function(){return x}),n.d(e,"K",function(){return H}),n.d(e,"L",function(){return W}),n.d(e,"M",function(){return z}),n.d(e,"N",function(){return O});var r=n("TToO"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw a(e)},a=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},s=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,p=63&c;u||(p=64,a||(f=64)),r.push(n[l],n[h],n[f],n[p])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},c=function(t){var e=s(t);return u.encodeByteArray(e,!0)},l=function(t){try{return u.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function h(t){return f(void 0,t)}function f(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=f(t[n],e[n]));return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var p=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function v(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())}function g(){try{return"[object process]"===Object.prototype.toString.call(t.process)}catch(t){return!1}}function y(){return"object"==typeof self&&self.self===self}function m(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function b(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function _(){return d().indexOf("Electron/")>=0}function w(){var t=d();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function I(){return d().indexOf("MSAppHost/")>=0}function T(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN}function E(){return"indexedDB"in self&&null!=indexedDB}function O(){return new Promise(function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(t){e(t)}})}function S(){return!(!navigator||!navigator.cookieEnabled)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var C="FirebaseError",k=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name=C,Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,A.prototype.create),o}return Object(r.c)(e,t),e}(Error),A=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?function(t,e){return t.replace(N,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").";return new k(i,s,r)},t}();var N=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j(t){return JSON.parse(t)}function x(t){return JSON.stringify(t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var D=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=j(l(o[0])||""),n=j(l(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(t){}return{header:e,claims:n,data:r,signature:i}},P=function(t){var e=D(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},R=function(t){var e=D(t).claims;return"object"==typeof e&&!0===e.admin};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function L(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function M(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function F(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function U(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var V=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();function B(t,e){var n=new K(t,e);return n.subscribe.bind(n)}var K=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=$),void 0===r.error&&(r.error=$),void 0===r.complete&&(r.complete=$);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function $(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var H=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function G(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=t+" failed: ";return i+=r+" argument "}function W(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(G(t,e,r)+"must be a valid function.")}function z(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(G(t,e,r)+"must be a valid context object.")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Q=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;o(++r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Y=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},J=1e3,X=2,Z=144e5,tt=.5;function et(t,e,n){void 0===e&&(e=J),void 0===n&&(n=X);var r=e*Math.pow(n,t),i=Math.round(tt*r*(Math.random()-.5)*2);return Math.min(Z,r+i)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}).call(e,n("DuR2"))},yGkR:function(t,e,n){"use strict";var r,i=n("SHXD"),o=(n("fqSz"),n("ZsiJ"),n("Ja5e"),n("fjI4")),a=n("xaOn"),s=(n("GB/M"),n("TToO")),u=n("tsGP");(r=u.f).prototype.loadBundle=u.k,r.prototype.namedQuery=u.s;var c=n("WDX3"),l={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},h=function(t){function e(n,r,i){var o=t.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=i,o}return Object(s.c)(e,t),e}(Error);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var f=function(){function t(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then(function(t){return n.auth=t},function(){}),this.messaging||e.get().then(function(t){return n.messaging=t},function(){})}return t.prototype.getAuthToken=function(){return Object(s.b)(this,void 0,void 0,function(){var t;return Object(s.d)(this,function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getInstanceIdToken=function(){return Object(s.b)(this,void 0,void 0,function(){return Object(s.d)(this,function(t){if(!(this.messaging&&"Notification"in self&&"granted"===Notification.permission))return[2,void 0];try{return[2,this.messaging.getToken()]}catch(t){return[2,void 0]}return[2]})})},t.prototype.getContext=function(){return Object(s.b)(this,void 0,void 0,function(){var t,e;return Object(s.d)(this,function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}})})},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var d=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"==typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(Array.isArray(t))return t.map(function(t){return e.encode(t)});if("function"==typeof t||"object"==typeof t)return p(t,function(t){return e.encode(t)});throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(function(t){return e.decode(t)}):"function"==typeof t||"object"==typeof t?p(t,function(t){return e.decode(t)}):t},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var v=function(){function t(t,e,n,r,i){var o=this;void 0===r&&(r="us-central1"),this.app_=t,this.fetchImpl=i,this.serializer=new d,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(o.deleteService())}},this.contextProvider=new f(e,n),this.cancelAllRequests=new Promise(function(t){o.deleteService=function(){return t()}});try{var a=new URL(r);this.customDomain=a.origin,this.region="us-central1"}catch(t){this.customDomain=null,this.region=r}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+e+"/"+this.region+"/"+t:null!==this.customDomain?this.customDomain+"/"+t:"https://"+this.region+"-"+e+".cloudfunctions.net/"+t},t.prototype.useEmulator=function(t,e){this.emulatorOrigin="http://"+t+":"+e},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,e){var n=this;return function(r){return n.call(t,r,e||{})}},t.prototype.postJSON=function(t,e,n){return Object(s.b)(this,void 0,void 0,function(){var r,i;return Object(s.d)(this,function(o){switch(o.label){case 0:n["Content-Type"]="application/json",o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 2:return r=o.sent(),[3,4];case 3:return o.sent(),[2,{status:0,json:null}];case 4:i=null,o.label=5;case 5:return o.trys.push([5,7,,8]),[4,r.json()];case 6:return i=o.sent(),[3,8];case 7:return o.sent(),[3,8];case 8:return[2,{status:r.status,json:i}]}})})},t.prototype.call=function(t,e,n){return Object(s.b)(this,void 0,void 0,function(){var r,i,o,a,u,c,f,p,d,v,y;return Object(s.d)(this,function(s){switch(s.label){case 0:return r=this._url(t),e=this.serializer.encode(e),i={data:e},o={},[4,this.contextProvider.getContext()];case 1:return(a=s.sent()).authToken&&(o.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=a.instanceIdToken),u=n.timeout||7e4,c=function(t){var e,n=new Promise(function(n,r){e=setTimeout(function(){r(new h("deadline-exceeded","deadline-exceeded"))},t)});return{timer:e,promise:n}}(u),f=c.timer,p=c.promise,[4,Promise.race([g(f,this.postJSON(r,i,o)),p,g(f,this.cancelAllRequests)])];case 2:if(!(d=s.sent()))throw new h("cancelled","Firebase Functions instance was deleted.");if(v=function(t,e,n){var r=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),i=r,o=void 0;try{var a=e&&e.error;if(a){var s=a.status;if("string"==typeof s){if(!l[s])return new h("internal","internal");r=l[s],i=s}var u=a.message;"string"==typeof u&&(i=u),void 0!==(o=a.details)&&(o=n.decode(o))}}catch(t){}return"ok"===r?null:new h(r,i,o)}(d.status,d.json,this.serializer))throw v;if(!d.json)throw new h("internal","Response is not valid JSON object.");if(void 0===(y=d.json.data)&&(y=d.json.result),void 0===y)throw new h("internal","Response is missing data field.");return[2,{data:this.serializer.decode(y)}]}})})},t}();function g(t,e){return Object(s.b)(this,void 0,void 0,function(){var n;return Object(s.d)(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}})})}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var y="functions";var m,b,_;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
m=i.a,b=fetch.bind(self),_={Functions:v},m.INTERNAL.registerComponent(new c.a(y,function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("messaging");return new v(r,i,o,n,b)},"PUBLIC").setServiceProps(_).setMultipleInstances(!0)),i.a.registerVersion("@firebase/functions","0.6.4");var w,I=n("ZC01"),T="@firebase/installations",E="0.4.22",O=1e4,S="w:"+E,C="FIS_v2",k="https://firebaseinstallations.googleapis.com/v1",A=36e5,N=((w={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',w["not-registered"]="Firebase Installation is not registered.",w["installation-not-found"]="Firebase Installation not found.",w["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',w["app-offline"]="Could not process request. Application offline.",w["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",w),j=new a.b("installations","Installations",N);function x(t){return t instanceof a.c&&t.code.includes("request-failed")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D(t){var e=t.projectId;return k+"/projects/"+e+"/installations"}function P(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function R(t,e){return Object(s.b)(this,void 0,void 0,function(){var n,r;return Object(s.d)(this,function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),r=n.error,[2,j.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}})})}function L(t){var e=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function M(t,e){var n=e.refreshToken,r=L(t);return r.append("Authorization",function(t){return C+" "+t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n)),r}function F(t){return Object(s.b)(this,void 0,void 0,function(){var e;return Object(s.d)(this,function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}})})}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function U(t){return new Promise(function(e){setTimeout(e,t)})}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var q=/^[cdef][\w-]{21}$/,V="";function B(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return(e=t,btoa(String.fromCharCode.apply(String,Object(s.f)([],Object(s.e)(e)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t);return q.test(e)?e:V}catch(t){return V}}function K(t){return t.appName+"!"+t.appId}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $=new Map;function H(t,e){var n=K(t);G(n,e),function(t,e){var n=z();n&&n.postMessage({key:t,fid:e});Q()}(n,e)}function G(t,e){var n,r,i=$.get(t);if(i)try{for(var o=Object(s.g)(i),a=o.next();!a.done;a=o.next()){(0,a.value)(e)}}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var W=null;function z(){return!W&&"BroadcastChannel"in self&&((W=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){G(t.data.key,t.data.fid)}),W}function Q(){0===$.size&&W&&(W.close(),W=null)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Y,J="firebase-installations-database",X=1,Z="firebase-installations-store",tt=null;function et(){return tt||(tt=Object(I.openDb)(J,X,function(t){switch(t.oldVersion){case 0:t.createObjectStore(Z)}})),tt}function nt(t,e){return Object(s.b)(this,void 0,void 0,function(){var n,r,i,o,a;return Object(s.d)(this,function(s){switch(s.label){case 0:return n=K(t),[4,et()];case 1:return r=s.sent(),i=r.transaction(Z,"readwrite"),[4,(o=i.objectStore(Z)).get(n)];case 2:return a=s.sent(),[4,o.put(e,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===e.fid||H(t,e.fid),[2,e]}})})}function rt(t){return Object(s.b)(this,void 0,void 0,function(){var e,n,r;return Object(s.d)(this,function(i){switch(i.label){case 0:return e=K(t),[4,et()];case 1:return n=i.sent(),[4,(r=n.transaction(Z,"readwrite")).objectStore(Z).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function it(t,e){return Object(s.b)(this,void 0,void 0,function(){var n,r,i,o,a,u;return Object(s.d)(this,function(s){switch(s.label){case 0:return n=K(t),[4,et()];case 1:return r=s.sent(),i=r.transaction(Z,"readwrite"),[4,(o=i.objectStore(Z)).get(n)];case 2:return a=s.sent(),void 0!==(u=e(a))?[3,4]:[4,o.delete(n)];case 3:return s.sent(),[3,6];case 4:return[4,o.put(u,n)];case 5:s.sent(),s.label=6;case 6:return[4,i.complete];case 7:return s.sent(),!u||a&&a.fid===u.fid||H(t,u.fid),[2,u]}})})}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(t){return Object(s.b)(this,void 0,void 0,function(){var e,n,r;return Object(s.d)(this,function(i){switch(i.label){case 0:return[4,it(t,function(n){var r=function(t){return st(t||{fid:B(),registrationStatus:0})}(n),i=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine){var n=Promise.reject(j.create("app-offline"));return{installationEntry:e,registrationPromise:n}}var r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=function(t,e){return Object(s.b)(this,void 0,void 0,function(){var n,r;return Object(s.d)(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,function(t,e){var n=e.fid;return Object(s.b)(this,void 0,void 0,function(){var e,r,i,o,a,u;return Object(s.d)(this,function(s){switch(s.label){case 0:return e=D(t),r=L(t),i={fid:n,authVersion:C,appId:t.appId,sdkVersion:S},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,F(function(){return fetch(e,o)})];case 1:return(a=s.sent()).ok?[4,a.json()]:[3,3];case 2:return[2,{fid:(u=s.sent()).fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:P(u.authToken)}];case 3:return[4,R("Create Installation",a)];case 4:throw s.sent()}})})}(t,e)];case 1:return n=i.sent(),[2,nt(t,n)];case 2:return x(r=i.sent())&&409===r.customData.serverCode?[4,rt(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,nt(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}})})}(t,r);return{installationEntry:r,registrationPromise:i}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:function(t){return Object(s.b)(this,void 0,void 0,function(){var e,n,r,i;return Object(s.d)(this,function(o){switch(o.label){case 0:return[4,at(t)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,U(100)];case 3:return o.sent(),[4,at(t)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,ot(t)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,e]}})})}(t)}:{installationEntry:e}}(t,r);return e=i.registrationPromise,i.installationEntry})];case 1:return(n=i.sent()).fid!==V?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}})})}function at(t){return it(t,function(t){if(!t)throw j.create("installation-not-found");return st(t)})}function st(t){return 1===(e=t).registrationStatus&&e.registrationTime+O<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}function ut(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return Object(s.b)(this,void 0,void 0,function(){var t,i,o,a,u,c,l;return Object(s.d)(this,function(s){switch(s.label){case 0:return t=function(t,e){var n=e.fid;return D(t)+"/"+n+"/authTokens:generate"}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n,e),i=M(n,e),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={installation:{sdkVersion:S}},u={method:"POST",headers:i,body:JSON.stringify(a)},[4,F(function(){return fetch(t,u)})];case 1:return(c=s.sent()).ok?[4,c.json()]:[3,3];case 2:return l=s.sent(),[2,P(l)];case 3:return[4,R("Generate Auth Token",c)];case 4:throw s.sent()}})})}function ct(t,e){return void 0===e&&(e=!1),Object(s.b)(this,void 0,void 0,function(){var n,r,i;return Object(s.d)(this,function(o){switch(o.label){case 0:return[4,it(t.appConfig,function(r){if(!ht(r))throw j.create("not-registered");var i,o=r.authToken;if(e||2!==(i=o).requestStatus||function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+A}(i)){if(1===o.requestStatus)return n=function(t,e){return Object(s.b)(this,void 0,void 0,function(){var n,r;return Object(s.d)(this,function(i){switch(i.label){case 0:return[4,lt(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,U(100)];case 3:return i.sent(),[4,lt(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,ct(t,e)]:[2,r]}})})}(t,e),r;if(!navigator.onLine)throw j.create("app-offline");var a=function(t){var e={requestStatus:1,requestTime:Date.now()};return Object(s.a)(Object(s.a)({},t),{authToken:e})}(r);return n=function(t,e){return Object(s.b)(this,void 0,void 0,function(){var n,r,i;return Object(s.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,ut(t,e)];case 1:return n=o.sent(),i=Object(s.a)(Object(s.a)({},e),{authToken:n}),[4,nt(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!x(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,rt(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=Object(s.a)(Object(s.a)({},e),{authToken:{requestStatus:0}}),[4,nt(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}})})}(t,a),a}return r})];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}})})}function lt(t){return it(t,function(t){if(!ht(t))throw j.create("not-registered");var e,n=t.authToken;return 1===(e=n).requestStatus&&e.requestTime+O<Date.now()?Object(s.a)(Object(s.a)({},t),{authToken:{requestStatus:0}}):t})}function ht(t){return void 0!==t&&2===t.registrationStatus}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ft(t,e){return void 0===e&&(e=!1),Object(s.b)(this,void 0,void 0,function(){return Object(s.d)(this,function(n){switch(n.label){case 0:return[4,function(t){return Object(s.b)(this,void 0,void 0,function(){var e;return Object(s.d)(this,function(n){switch(n.label){case 0:return[4,ot(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t.appConfig)];case 1:return n.sent(),[4,ct(t,e)];case 2:return[2,n.sent().token]}})})}function pt(t,e){return Object(s.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(s.d)(this,function(a){switch(a.label){case 0:return n=function(t,e){var n=e.fid;return D(t)+"/"+n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,e),r=M(t,e),i={method:"DELETE",headers:r},[4,F(function(){return fetch(n,i)})];case 1:return(o=a.sent()).ok?[3,3]:[4,R("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}})})}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function dt(t,e){var n=t.appConfig;return function(t,e){z();var n=K(t),r=$.get(n);r||(r=new Set,$.set(n,r)),r.add(e)}(n,e),function(){!function(t,e){var n=K(t),r=$.get(n);r&&(r.delete(e),0===r.size&&$.delete(n),Q())}(n,e)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(t){return j.create("missing-app-config-values",{valueName:t})}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t){t.INTERNAL.registerComponent(new c.a("installations",function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw vt("App Configuration");if(!t.name)throw vt("App Name");try{for(var r=Object(s.g)(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!t.options[o])throw vt(o)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */return function(t){return Object(s.b)(this,void 0,void 0,function(){var e,n,r;return Object(s.d)(this,function(i){switch(i.label){case 0:return[4,ot(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,(r=e.registrationPromise)?r.catch(console.error):ct(t).catch(console.error),[2,n.fid]}})})}(n)},getToken:function(t){return ft(n,t)},delete:function(){return function(t){return Object(s.b)(this,void 0,void 0,function(){var e,n;return Object(s.d)(this,function(r){switch(r.label){case 0:return[4,it(e=t.appConfig,function(t){if(!t||0!==t.registrationStatus)return t})];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw j.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw j.create("app-offline");case 3:return[4,pt(e,n)];case 4:return r.sent(),[4,rt(e)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}(n)},onIdChange:function(t){return dt(n,t)}}},"PUBLIC")),t.registerVersion(T,E)}(i.a);var gt,yt=((Y={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Y["only-available-in-window"]="This method is available in a Window context.",Y["only-available-in-sw"]="This method is available in a service worker context.",Y["permission-default"]="The notification permission was not granted and dismissed instead.",Y["permission-blocked"]="The notification permission was not granted and blocked instead.",Y["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",Y["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",Y["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",Y["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",Y["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",Y["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",Y["token-update-no-token"]="FCM returned no token when updating the user to push.",Y["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",Y["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",Y["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",Y["invalid-vapid-key"]="The public VAPID key must be a string.",Y["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",Y),mt=new a.b("messaging","Messaging",yt),bt="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",_t="https://fcmregistrations.googleapis.com/v1",wt="FCM_MSG",It="google.c.a.c_id";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Tt(t){var e=new Uint8Array(t);return btoa(String.fromCharCode.apply(String,Object(s.f)([],Object(s.e)(e)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}!function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"}(gt||(gt={}));
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Et="fcm_token_details_db",Ot=5,St="fcm_token_object_Store";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ct="firebase-messaging-database",kt=1,At="firebase-messaging-store",Nt=null;function jt(){return Nt||(Nt=Object(I.openDb)(Ct,kt,function(t){switch(t.oldVersion){case 0:t.createObjectStore(At)}})),Nt}function xt(t){return Object(s.b)(this,void 0,void 0,function(){var e,n,r;return Object(s.d)(this,function(i){switch(i.label){case 0:return e=Pt(t),[4,jt()];case 1:return[4,i.sent().transaction(At).objectStore(At).get(e)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,function(t){return Object(s.b)(this,void 0,void 0,function(){var e,n=this;return Object(s.d)(this,function(r){switch(r.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!r.sent().map(function(t){return t.name}).includes(Et))return[2,null];r.label=2;case 2:return e=null,[4,Object(I.openDb)(Et,Ot,function(r){return Object(s.b)(n,void 0,void 0,function(){var n,i,o,a;return Object(s.d)(this,function(s){switch(s.label){case 0:return r.oldVersion<2?[2]:r.objectStoreNames.contains(St)?[4,(n=r.transaction.objectStore(St)).index("fcmSenderId").get(t)]:[2];case 1:return i=s.sent(),[4,n.clear()];case 2:if(s.sent(),!i)return[2];if(2===r.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];e={token:o.fcmToken,createTime:null!==(a=o.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"==typeof o.vapidKey?o.vapidKey:Tt(o.vapidKey)}}}else 3===r.oldVersion?e={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:Tt(o.auth),p256dh:Tt(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:Tt(o.vapidKey)}}:4===r.oldVersion&&(e={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:Tt(o.auth),p256dh:Tt(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:Tt(o.vapidKey)}});return[2]}})})})];case 3:return r.sent().close(),[4,Object(I.deleteDb)(Et)];case 4:return r.sent(),[4,Object(I.deleteDb)("fcm_vapid_details_db")];case 5:return r.sent(),[4,Object(I.deleteDb)("undefined")];case 6:return r.sent(),[2,function(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null]}})})}(t.appConfig.senderId)];case 4:return(r=i.sent())?[4,Dt(t,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}})})}function Dt(t,e){return Object(s.b)(this,void 0,void 0,function(){var n,r,i;return Object(s.d)(this,function(o){switch(o.label){case 0:return n=Pt(t),[4,jt()];case 1:return r=o.sent(),[4,(i=r.transaction(At,"readwrite")).objectStore(At).put(e,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,e]}})})}function Pt(t){return t.appConfig.appId}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(t,e){return Object(s.b)(this,void 0,void 0,function(){var n,r,i,o,a;return Object(s.d)(this,function(s){switch(s.label){case 0:return[4,Mt(t)];case 1:n=s.sent(),r={method:"DELETE",headers:n},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(Lt(t.appConfig)+"/"+e,r)];case 3:return[4,s.sent().json()];case 4:if((i=s.sent()).error)throw o=i.error.message,mt.create("token-unsubscribe-failed",{errorInfo:o});return[3,6];case 5:throw a=s.sent(),mt.create("token-unsubscribe-failed",{errorInfo:a});case 6:return[2]}})})}function Lt(t){var e=t.projectId;return _t+"/projects/"+e+"/registrations"}function Mt(t){var e=t.appConfig,n=t.installations;return Object(s.b)(this,void 0,void 0,function(){var t;return Object(s.d)(this,function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return t=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})]}})})}function Ft(t){var e=t.p256dh,n=t.auth,r=t.endpoint,i=t.vapidKey,o={web:{endpoint:r,auth:n,p256dh:e}};return i!==bt&&(o.web.applicationPubKey=i),o}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut=6048e5;function qt(t,e,n){return Object(s.b)(this,void 0,void 0,function(){var r,i,o,a;return Object(s.d)(this,function(u){switch(u.label){case 0:if("granted"!==Notification.permission)throw mt.create("permission-blocked");return[4,function(t,e){return Object(s.b)(this,void 0,void 0,function(){var n;return Object(s.d)(this,function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:function(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(e),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}(e)})]}})})}(e,n)];case 1:return r=u.sent(),[4,xt(t)];case 2:return i=u.sent(),o={vapidKey:n,swScope:e.scope,endpoint:r.endpoint,auth:Tt(r.getKey("auth")),p256dh:Tt(r.getKey("p256dh"))},i?[3,3]:[2,Bt(t,o)];case 3:if(c=i.subscriptionOptions,h=(l=o).vapidKey===c.vapidKey,f=l.endpoint===c.endpoint,p=l.auth===c.auth,d=l.p256dh===c.p256dh,h&&f&&p&&d)return[3,8];u.label=4;case 4:return u.trys.push([4,6,,7]),[4,Rt(t,i.token)];case 5:return u.sent(),[3,7];case 6:return a=u.sent(),console.warn(a),[3,7];case 7:return[2,Bt(t,o)];case 8:return Date.now()>=i.createTime+Ut?[2,function(t,e,n){return Object(s.b)(this,void 0,void 0,function(){var r,i,o;return Object(s.d)(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,function(t,e){return Object(s.b)(this,void 0,void 0,function(){var n,r,i,o,a,u;return Object(s.d)(this,function(s){switch(s.label){case 0:return[4,Mt(t)];case 1:n=s.sent(),r=Ft(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(Lt(t.appConfig)+"/"+e.token,i)];case 3:return[4,s.sent().json()];case 4:return o=s.sent(),[3,6];case 5:throw a=s.sent(),mt.create("token-update-failed",{errorInfo:a});case 6:if(o.error)throw u=o.error.message,mt.create("token-update-failed",{errorInfo:u});if(!o.token)throw mt.create("token-update-no-token");return[2,o.token]}})})}(e,t)];case 1:return r=a.sent(),i=Object(s.a)(Object(s.a)({},t),{token:r,createTime:Date.now()}),[4,Dt(e,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,Vt(e,n)];case 4:throw a.sent(),o;case 5:return[2]}})})}({token:i.token,createTime:Date.now(),subscriptionOptions:o},t,e)]:[2,i.token];case 9:return[2]}var c,l,h,f,p,d;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */})})}function Vt(t,e){return Object(s.b)(this,void 0,void 0,function(){var n,r;return Object(s.d)(this,function(i){switch(i.label){case 0:return[4,xt(t)];case 1:return(n=i.sent())?[4,Rt(t,n.token)]:[3,4];case 2:return i.sent(),[4,function(t){return Object(s.b)(this,void 0,void 0,function(){var e,n,r;return Object(s.d)(this,function(i){switch(i.label){case 0:return e=Pt(t),[4,jt()];case 1:return n=i.sent(),[4,(r=n.transaction(At,"readwrite")).objectStore(At).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}(t)];case 3:i.sent(),i.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}})})}function Bt(t,e){return Object(s.b)(this,void 0,void 0,function(){var n,r;return Object(s.d)(this,function(i){switch(i.label){case 0:return[4,function(t,e){return Object(s.b)(this,void 0,void 0,function(){var n,r,i,o,a,u;return Object(s.d)(this,function(s){switch(s.label){case 0:return[4,Mt(t)];case 1:n=s.sent(),r=Ft(e),i={method:"POST",headers:n,body:JSON.stringify(r)},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(Lt(t.appConfig),i)];case 3:return[4,s.sent().json()];case 4:return o=s.sent(),[3,6];case 5:throw a=s.sent(),mt.create("token-subscribe-failed",{errorInfo:a});case 6:if(o.error)throw u=o.error.message,mt.create("token-subscribe-failed",{errorInfo:u});if(!o.token)throw mt.create("token-subscribe-no-token");return[2,o.token]}})})}(t,e)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:e},[4,Dt(t,r)];case 2:return i.sent(),[2,r.token]}})})}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Kt(t){return"object"==typeof t&&!!t&&It in t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(t){return new Promise(function(e){setTimeout(e,t)})}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht=function(){function t(t){var e=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(t){t.waitUntil(e.onPush(t))}),self.addEventListener("pushsubscriptionchange",function(t){t.waitUntil(e.onSubChange(t))}),self.addEventListener("notificationclick",function(t){t.waitUntil(e.onNotificationClick(t))})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||"function"!=typeof t)throw mt.create("invalid-bg-handler");this.bgMessageHandler=t},t.prototype.onBackgroundMessage=function(t){var e=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){e.bgMessageHandler=null}},t.prototype.getToken=function(){var t,e;return Object(s.b)(this,void 0,void 0,function(){var n;return Object(s.d)(this,function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,xt(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(e=null===(t=null===n||void 0===n?void 0:n.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==e?e:bt,r.label=2;case 2:return[2,qt(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},t.prototype.deleteToken=function(){return Vt(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw mt.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw mt.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw mt.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(){throw mt.create("only-available-in-window")},t.prototype.onMessage=function(){throw mt.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw mt.create("only-available-in-window")},t.prototype.onPush=function(t){return Object(s.b)(this,void 0,void 0,function(){var e,n,r,i;return Object(s.d)(this,function(o){switch(o.label){case 0:return(e=function(t){var e=t.data;if(!e)return null;try{return e.json()}catch(t){return null}}(t))?[4,Gt()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(t){return t.some(function(t){return"visible"===t.visibilityState&&!t.url.startsWith("chrome-extension://")})}(n=o.sent())?[2,function(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=gt.PUSH_RECEIVED;try{for(var i=Object(s.g)(t),o=i.next();!o.done;o=i.next()){var a=o.value;a.postMessage(e)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}(n,e)]:(r=!1,e.notification?[4,function(t){var e,n=t.actions,r=Notification.maxActions;n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed.");return self.registration.showNotification(null!==(e=t.title)&&void 0!==e?e:"",t)}(function(t){var e,n=Object(s.a)({},t.notification);return n.data=((e={})[wt]=t,e),n}(e))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=function(t){var e={from:t.from,collapseKey:t.collapse_key};return function(t,e){if(e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n);var r=e.notification.body;r&&(t.notification.body=r);var i=e.notification.image;i&&(t.notification.image=i)}}(e,t),function(t,e){e.data&&(t.data=e.data)}(e,t),function(t,e){if(e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);var r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}}(e,t),e}(e),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,$t(1e3)]);case 4:return o.sent(),[2]}})})},t.prototype.onSubChange=function(t){var e,n;return Object(s.b)(this,void 0,void 0,function(){var r;return Object(s.d)(this,function(i){switch(i.label){case 0:return t.newSubscription?[3,2]:[4,Vt(this.firebaseDependencies,self.registration)];case 1:return i.sent(),[2];case 2:return[4,xt(this.firebaseDependencies)];case 3:return r=i.sent(),[4,Vt(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,qt(this.firebaseDependencies,self.registration,null!==(n=null===(e=null===r||void 0===r?void 0:r.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==n?n:bt)];case 5:return i.sent(),[2]}})})},t.prototype.onNotificationClick=function(t){var e,n;return Object(s.b)(this,void 0,void 0,function(){var r,i,o,a,u;return Object(s.d)(this,function(c){switch(c.label){case 0:return(r=null===(n=null===(e=t.notification)||void 0===e?void 0:e.data)||void 0===n?void 0:n[wt])?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),(i=function(t){var e,n,r,i=null!==(n=null===(e=t.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==n?n:null===(r=t.notification)||void 0===r?void 0:r.click_action;if(i)return i;return Kt(t.data)?self.location.origin:null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(r))?(o=new URL(i,self.location.href),a=new URL(self.location.origin),o.host!==a.host?[2]:[4,function(t){return Object(s.b)(this,void 0,void 0,function(){var e,n,r,i,o,a,u;return Object(s.d)(this,function(c){switch(c.label){case 0:return[4,Gt()];case 1:e=c.sent();try{for(n=Object(s.g)(e),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),t.host===o.host)return[2,i]}catch(t){a={error:t}}finally{try{r&&!r.done&&(u=n.return)&&u.call(n)}finally{if(a)throw a.error}}return[2,null]}})})}(o)]):[2]):[2];case 1:return(u=c.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return u=c.sent(),[4,$t(3e3)];case 3:return c.sent(),[3,6];case 4:return[4,u.focus()];case 5:u=c.sent(),c.label=6;case 6:return u?(r.messageType=gt.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,u.postMessage(r)]):[2]}})})},t}();function Gt(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}var Wt=function(){function t(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(t){return e.messageEventListener(t)})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(t){return Object(s.b)(this,void 0,void 0,function(){var e,n;return Object(s.d)(this,function(r){switch(r.label){case 0:return(e=t.data).isFirebaseMessaging?(this.onMessageCallback&&e.messageType===gt.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function(t){return delete t.messageType,delete t.isFirebaseMessaging,t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(Object.assign({},e))):this.onMessageCallback.next(Object.assign({},e))),Kt(n=e.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(e.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(t){return Object(s.b)(this,void 0,void 0,function(){return Object(s.d)(this,function(e){switch(e.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:e.sent(),e.label=2;case 2:if("granted"!==Notification.permission)throw mt.create("permission-blocked");return[4,this.updateVapidKey(null===t||void 0===t?void 0:t.vapidKey)];case 3:return e.sent(),[4,this.updateSwReg(null===t||void 0===t?void 0:t.serviceWorkerRegistration)];case 4:return e.sent(),[2,qt(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},t.prototype.updateVapidKey=function(t){return Object(s.b)(this,void 0,void 0,function(){return Object(s.d)(this,function(e){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=bt),[2]})})},t.prototype.updateSwReg=function(t){return Object(s.b)(this,void 0,void 0,function(){return Object(s.d)(this,function(e){switch(e.label){case 0:return t||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw mt.create("invalid-sw-registration");return this.swRegistration=t,[2]}})})},t.prototype.registerDefaultSw=function(){return Object(s.b)(this,void 0,void 0,function(){var t,e;return Object(s.d)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return t.swRegistration=n.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw e=n.sent(),mt.create("failed-service-worker-registration",{browserErrorMessage:e.message});case 3:return[2]}})})},t.prototype.deleteToken=function(){return Object(s.b)(this,void 0,void 0,function(){return Object(s.d)(this,function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,Vt(this.firebaseDependencies,this.swRegistration)]}})})},t.prototype.requestPermission=function(){return Object(s.b)(this,void 0,void 0,function(){var t;return Object(s.d)(this,function(e){switch(e.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw"denied"===t?mt.create("permission-blocked"):mt.create("permission-default")}})})},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw mt.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw mt.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw mt.create("invalid-sw-registration");if(this.swRegistration)throw mt.create("use-sw-after-get-token");this.swRegistration=t},t.prototype.onMessage=function(t){var e=this;return this.onMessageCallback=t,function(){e.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw mt.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw mt.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(t,e){return Object(s.b)(this,void 0,void 0,function(){var n;return Object(s.d)(this,function(r){switch(r.label){case 0:return n=function(t){switch(t){case gt.NOTIFICATION_CLICKED:return"notification_open";case gt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:e[It],message_name:e["google.c.a.c_l"],message_time:e["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},t}();function zt(t){return mt.create("missing-app-config-values",{valueName:t})}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt={isSupported:Yt};function Yt(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}i.a.INTERNAL.registerComponent(new c.a("messaging",function(t){var e=t.getProvider("app").getImmediate(),n={app:e,appConfig:function(t){var e,n;if(!t||!t.options)throw zt("App Configuration Object");if(!t.name)throw zt("App Name");var r=t.options;try{for(var i=Object(s.g)(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var a=o.value;if(!r[a])throw zt(a)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(e),installations:t.getProvider("installations").getImmediate(),analyticsProvider:t.getProvider("analytics-internal")};if(!Yt())throw mt.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new Ht(n):new Wt(n)},"PUBLIC").setServiceProps(Qt));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Jt="firebasestorage.googleapis.com",Xt="storageBucket",Zt=12e4,te=6e5,ee=function(t){function e(n,r){var i=t.call(this,ne(n),"Firebase Storage: "+r+" ("+ne(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,e.prototype),i}return Object(s.c)(e,t),e.prototype._codeEquals=function(t){return ne(t)===this.code},Object.defineProperty(e.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t},enumerable:!1,configurable:!0}),e}(a.c);function ne(t){return"storage/"+t}function re(){return new ee("unknown","An unknown error occurred, please check the error payload for server response.")}function ie(){return new ee("canceled","User canceled the upload/download.")}function oe(){return new ee("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function ae(t){return new ee("invalid-argument",t)}function se(){return new ee("app-deleted","The Firebase app was deleted.")}function ue(t){return new ee("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ce(t,e){return new ee("invalid-format","String does not match format '"+t+"': "+e)}function le(t){throw new ee("internal-error","Internal error: "+t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var he={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},fe=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function pe(t,e){switch(t){case he.RAW:return new fe(de(e));case he.BASE64:case he.BASE64URL:return new fe(ve(t,e));case he.DATA_URL:return new fe((n=new ge(e)).base64?ve(he.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(t){throw ce(he.DATA_URL,"Malformed data URL.")}return de(e)}(n.rest),function(t){return new ge(t).contentType}(e))}var n;throw re()}function de(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function ve(t,e){switch(t){case he.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw ce(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case he.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw ce(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(e)}catch(e){throw ce(t,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var ge=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw ce(he.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=e[1]||null;null!=n&&(this.base64=(r=n,i=";base64",r.length>=i.length&&r.substring(r.length-i.length)===i),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=t.substring(t.indexOf(",")+1);var r,i;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}}();var ye,me={STATE_CHANGED:"state_changed"},be={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function _e(t){switch(t){case"running":case"pausing":case"canceling":return be.RUNNING;case"paused":return be.PAUSED;case"success":return be.SUCCESS;case"canceled":return be.CANCELED;case"error":default:return be.ERROR}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(ye||(ye={}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var we=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=ye.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=ye.ABORT,e(t)}),t.xhr_.addEventListener("error",function(){t.errorCode_=ye.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(){e(t)})})}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw le("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw le("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw le("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw le("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),Ie=function(){function t(){}return t.prototype.createXhrIo=function(){return new we},t}(),Te=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(n){return new t(e,"")}if(""===n.path)return n;throw new ee("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null;var r=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function i(t){t.path_=decodeURIComponent(t.path)}for(var o=Jt.replace(/[.]/g,"\\."),a=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+o+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:i}],s=0;s<a.length;s++){var u=a[s],c=u.regex.exec(e);if(c){var l=c[u.indices.bucket],h=c[u.indices.path];h||(h=""),n=new t(l,h),u.postModify(n);break}}if(null==n)throw function(t){return new ee("invalid-url","Invalid URL '"+t+"'.")}(e);return n},t}(),Ee=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(t){return"string"==typeof t||t instanceof String}function Se(t){return Ce()&&t instanceof Blob}function Ce(){return"undefined"!=typeof Blob}function ke(t,e,n,r){if(r<e)throw ae("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw ae("Invalid value for '"+t+"'. Expected "+n+" or less.")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(t){return"https://"+Jt+"/v0"+t}function Ne(t){var e=encodeURIComponent,n="?";for(var r in t){if(t.hasOwnProperty(r))n=n+(e(r)+"="+e(t[r]))+"&"}return n=n.slice(0,-1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je=function(){function t(t,e,n,r,i,o,a,s,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,a=n.xhr;if(n.wasSuccessCode)try{var s=t.callback_(a,a.getResponseText());void 0!==s?i(s):i()}catch(t){o(t)}else null!==a?((r=re()).serverResponse=a.getResponseText(),t.errorCallback_?o(t.errorCallback_(a,r)):o(r)):n.canceled?o(r=t.appDelete_?se():ie()):o(r=new ee("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new xe(!1,null,!0)):this.backoffId_=
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t,e,n){var r=1,i=null,o=!1,a=0;function u(){return 2===a}var c=!1;function l(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];c||(c=!0,e.apply(null,t))}function h(e){i=setTimeout(function(){i=null,t(f,u())},e)}function f(t){for(var e,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];c||(t?l.call.apply(l,Object(s.f)([null,t],n)):u()||o?l.call.apply(l,Object(s.f)([null,t],n)):(r<64&&(r*=2),1===a?(a=2,e=0):e=1e3*(r+Math.random()),h(e)))}var p=!1;function d(t){p||(p=!0,c||(null!==i?(t||(a=2),clearTimeout(i),h(0)):t||(a=1)))}return h(0),setTimeout(function(){o=!0,d(!0)},n),d}(function(e,n){if(n)e(!1,new xe(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then(function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===ye.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var a=-1!==t.successCodes_.indexOf(o);e(!0,new xe(a,n))}else{var s=n.getErrorCode()===ye.ABORT;e(!1,new xe(!1,null,s))}})}function i(e){var n=e.loaded,r=e.lengthComputable?e.total:-1;null!==t.progressCallback_&&t.progressCallback_(n,r)}},e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),xe=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function De(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Pe=function(){function t(t,e){var n=0,r="";Se(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(Se(this.data_)){var r=this.data_,i=(a=e,s=n,(o=r).webkitSlice?o.webkitSlice(a,s):o.mozSlice?o.mozSlice(a,s):o.slice?o.slice(a,s):null);return null===i?null:new t(i)}var o,a,s;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(Ce()){var r=e.map(function(e){return e instanceof t?e.data_:e});return new t(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=De();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(Ce())return new Blob(t);throw new ee("unsupported-environment","This browser doesn't seem to support creating Blobs")}.apply(null,r))}var i=e.map(function(t){return Oe(t)?pe(he.RAW,t).data:t.data_}),o=0;i.forEach(function(t){o+=t.byteLength});var a=new Uint8Array(o),s=0;return i.forEach(function(t){for(var e=0;e<t.length;e++)a[s++]=t[e]}),new t(a,!0)},t.prototype.uploadData=function(){return this.data_},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(t){var e,n;try{e=JSON.parse(t)}catch(t){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(t,e){return e}var Fe=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||Me}}(),Ue=null;function qe(){if(Ue)return Ue;var t=[];t.push(new Fe("bucket")),t.push(new Fe("generation")),t.push(new Fe("metageneration")),t.push(new Fe("name","fullPath",!0));var e=new Fe("name");e.xform=function(t,e){return function(t){return!Oe(t)||t.length<2?t:Le(t)}(e)},t.push(e);var n=new Fe("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new Fe("timeCreated")),t.push(new Fe("updated")),t.push(new Fe("md5Hash",null,!0)),t.push(new Fe("cacheControl",null,!0)),t.push(new Fe("contentDisposition",null,!0)),t.push(new Fe("contentEncoding",null,!0)),t.push(new Fe("contentLanguage",null,!0)),t.push(new Fe("contentType",null,!0)),t.push(new Fe("metadata","customMetadata",!0)),Ue=t}function Ve(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,e[a.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=t.bucket,r=t.fullPath,i=new Te(n,r);return e._makeStorageReference(i)}})}(r,t),r}function Be(t,e,n){var r=Re(e);return null===r?null:Ve(t,r,n)}function Ke(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e="prefixes",He="items";function Ge(t,e,n){var r=Re(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[$e])for(var i=0,o=n[$e];i<o.length;i++){var a=o[i].replace(/\/$/,""),s=t._makeStorageReference(new Te(e,a));r.prefixes.push(s)}if(n[He])for(var u=0,c=n[He];u<c.length;u++){var l=c[u];s=t._makeStorageReference(new Te(e,l.name)),r.items.push(s)}return r}(t,e,r)}var We=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(t){if(!t)throw re()}function Qe(t,e){return function(n,r){var i=Be(t,r,e);return ze(null!==i),i}}function Ye(t,e){return function(n,r){var i=Be(t,r,e);return ze(null!==i),function(t,e){var n=Re(e);if(null===n)return null;if(!Oe(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map(function(e){var n=t.bucket,r=t.fullPath;return Ae("/b/"+i(n)+"/o/"+i(r))+Ne({alt:"media",token:e})})[0]}(i,r)}}function Je(t){return function(e,n){var r,i,o;return 401===e.getStatus()?r=new ee("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?(o=t.bucket,r=new ee("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===e.getStatus()?(i=t.path,r=new ee("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function Xe(t){var e=Je(t);return function(n,r){var i,o=e(n,r);return 404===n.getStatus()&&(i=t.path,o=new ee("object-not-found","Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function Ze(t,e,n){var r=Ae(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new We(r,"GET",Qe(t,n),i);return o.errorHandler=Xe(e),o}function tn(t,e,n,r,i){var o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=Ae(e.bucketOnlyServerUrl()),s=t.maxOperationRetryTime,u=new We(a,"GET",function(t,e){return function(n,r){var i=Ge(t,e,r);return ze(null!==i),i}}(t,e.bucket),s);return u.urlParams=o,u.errorHandler=Je(e),u}function en(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}var nn=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function rn(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(t){ze(!1)}return ze(!!n&&-1!==(e||["active"]).indexOf(n)),n}function on(t,e,n,r,i,o,a,s){var u=new nn(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new ee("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f=h+l,p={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},d=r.slice(h,f);if(null===d)throw oe();var v=e.maxUploadRetryTime,g=new We(n,"POST",function(t,n){var i,a=rn(t,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?Qe(e,o)(t,n):null,new nn(s,c,"final"===a,i)},v);return g.headers=p,g.body=d.uploadData(),g.progressCallback=s||null,g.errorHandler=Je(t),g}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var an=function(){return function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}}}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var un=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=qe(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t._codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise(function(t,e){r._resolve=t,r._reject=e,r._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;this._ref.storage._getAuthToken().then(function(n){switch(e._state){case"running":t(n);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}})},t.prototype._createResumable=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a=en(e,r,i),s={name:a.fullPath},u=Ae(o),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=Ke(a,n),h=t.maxUploadRetryTime,f=new We(u,"POST",function(t){var e;rn(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(t){ze(!1)}return ze(Oe(e)),e},h);return f.urlParams=s,f.headers=c,f.body=l,f.errorHandler=Je(e),f}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken(function(n){var r=function(t,e,n,r){var i=t.maxUploadRetryTime,o=new We(n,"POST",function(t){var e=rn(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(t){ze(!1)}n||ze(!1);var i=Number(n);return ze(!isNaN(i)),new nn(i,r.size(),"final"===e)},i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=Je(e),o}(t._ref.storage,t._ref._location,e,t._blob),i=t._ref.storage._makeRequest(r,n);t._request=i,i.getPromise().then(function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},t.prototype._continueUpload=function(){var t=this,e=262144*this._chunkMultiplier,n=new nn(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken(function(i){var o;try{o=on(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(e){return t._error=e,void t._transition("error")}var a=t._ref.storage._makeRequest(o,i);t._request=a,a.getPromise().then(function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},t.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(e){var n=Ze(t._ref.storage,t._ref._location,t._mappings),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._transition("success")},t._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();a["Content-Type"]="multipart/related; boundary="+s;var u=en(e,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Ke(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",h=Pe.getBlob(c,r,l);if(null===h)throw oe();var f={name:u.fullPath},p=Ae(o),d=t.maxUploadRetryTime,v=new We(p,"POST",Qe(t,n),d);return v.urlParams=f,v.headers=a,v.body=h.uploadData(),v.errorHandler=Je(e),v}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=ie(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=_e(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new an(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach(function(e){t._notifyObserver(e)})},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(_e(this._state)){case be.SUCCESS:sn(this._resolve.bind(null,this.snapshot))();break;case be.CANCELED:case be.ERROR:sn(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(_e(this._state)){case be.RUNNING:case be.PAUSED:t.next&&sn(t.next.bind(t,this.snapshot))();break;case be.SUCCESS:t.complete&&sn(t.complete.bind(t))();break;case be.CANCELED:case be.ERROR:t.error&&sn(t.error.bind(t,this._error))();break;default:t.error&&sn(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),cn=function(){function t(t,e){this._service=t,this._location=e instanceof Te?e:Te.makeFromUrl(e)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new Te(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return Le(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new Te(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw ue(t)},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(t){var e={prefixes:[],items:[]};return function t(e,n,r){return Object(s.b)(this,void 0,void 0,function(){var i,o,a;return Object(s.d)(this,function(s){switch(s.label){case 0:return[4,hn(e,{pageToken:r})];case 1:return i=s.sent(),(o=n.prefixes).push.apply(o,i.prefixes),(a=n.items).push.apply(a,i.items),null==i.nextPageToken?[3,3]:[4,t(e,n,i.nextPageToken)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}(t,e).then(function(){return e})}function hn(t,e){return Object(s.b)(this,void 0,void 0,function(){var n,r,i;return Object(s.d)(this,function(o){switch(o.label){case 0:return null!=e&&"number"==typeof e.maxResults&&ke("options.maxResults",1,1e3,e.maxResults),[4,t.storage._getAuthToken()];case 1:return n=o.sent(),r=e||{},i=tn(t.storage,t._location,"/",r.pageToken,r.maxResults),[2,t.storage._makeRequest(i,n).getPromise()]}})})}function fn(t,e){return Object(s.b)(this,void 0,void 0,function(){var n,r;return Object(s.d)(this,function(i){switch(i.label){case 0:return t._throwIfRoot("updateMetadata"),[4,t.storage._getAuthToken()];case 1:return n=i.sent(),r=function(t,e,n,r){var i=Ae(e.fullServerUrl()),o=Ke(n,r),a=t.maxOperationRetryTime,s=new We(i,"PATCH",Qe(t,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=Xe(e),s}(t.storage,t._location,e,qe()),[2,t.storage._makeRequest(r,n).getPromise()]}})})}function pn(t){return Object(s.b)(this,void 0,void 0,function(){var e,n;return Object(s.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getDownloadURL"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=function(t,e,n){var r=Ae(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new We(r,"GET",Ye(t,n),i);return o.errorHandler=Xe(e),o}(t.storage,t._location,qe()),[2,t.storage._makeRequest(n,e).getPromise().then(function(t){if(null===t)throw new ee("no-download-url","The given file does not have any download URLs.");return t})]}})})}function dn(t){return Object(s.b)(this,void 0,void 0,function(){var e,n;return Object(s.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("deleteObject"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=function(t,e){var n=Ae(e.fullServerUrl()),r=t.maxOperationRetryTime,i=new We(n,"DELETE",function(t,e){},r);return i.successCodes=[200,204],i.errorHandler=Xe(e),i}(t.storage,t._location),[2,t.storage._makeRequest(n,e).getPromise()]}})})}function vn(t,e){var n=function(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new Te(t._location.bucket,n);return new cn(t.storage,r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(t){return/^[A-Za-z]+:\/\//.test(t)}function yn(t,e){if(t instanceof bn){var n=t;if(null==n._bucket)throw new ee("no-default-bucket","No default bucket found. Did you set the '"+Xt+"' property when initializing the app?");var r=new cn(n,n._bucket);return null!=e?yn(r,e):r}if(void 0!==e){if(e.includes(".."))throw ae('`path` param cannot contain ".."');return vn(t,e)}return t}function mn(t,e){if(e&&gn(e)){if(t instanceof bn)return new cn(t,e);throw ae("To use ref(service, url), the first argument must be a Storage instance.")}return yn(t,e)}var bn=function(){function t(t,e,n,r,i){var o,a;this.app=t,this._authProvider=e,this._pool=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Zt,this._maxUploadRetryTime=te,this._requests=new Set,this._bucket=null!=r?Te.makeFromBucketSpec(r):(o=this.app.options,null==(a=null===o||void 0===o?void 0:o[Xt])?null:Te.makeFromBucketSpec(a))}return Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){ke("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){ke("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return Object(s.b)(this,void 0,void 0,function(){var t,e;return Object(s.d)(this,function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear(),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new cn(this,t)},t.prototype._makeRequest=function(t,e){var n=this;if(this._deleted)return new Ee(se());var r=function(t,e,n,r,i){var o=Ne(t.urlParams),a=t.url+o,s=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(s,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(s,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!==e&&void 0!==e?e:"AppManager")}(s,i),new je(a,t.method,s,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this._appId,e,this._pool,this._firebaseVersion);return this._requests.add(r),r.getPromise().then(function(){return n._requests.delete(r)},function(){return n._requests.delete(r)}),r},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(t,e,n){return function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new un(t,new Pe(e),n)}(t,e,n)}function wn(t){return function(t){return Object(s.b)(this,void 0,void 0,function(){var e,n;return Object(s.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getMetadata"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=Ze(t.storage,t._location,qe()),[2,t.storage._makeRequest(n,e).getPromise()]}})})}(t)}function In(t,e){return mn(t,e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Tn=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),En=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new Tn(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then(function(e){if(t)return t(new Tn(e,n,n._ref))},e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new Tn(t,i,i._ref))}:{next:e.next?function(t){return e.next(new Tn(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),On=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(e){return new Sn(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(e){return new Sn(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),Sn=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(function(t,e){return vn(t,e)}(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new En(_n(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=he.RAW),this._throwIfRoot("putString");var r=pe(e,t),i=Object(s.a)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new En(new un(this._delegate,new Pe(r.data,!0),i),this)},t.prototype.listAll=function(){var t,e=this;return(t=this._delegate,ln(t)).then(function(t){return new On(t,e.storage)})},t.prototype.list=function(t){var e=this;return function(t,e){return hn(t,e)}(this._delegate,t||void 0).then(function(t){return new On(t,e.storage)})},t.prototype.getMetadata=function(){return wn(this._delegate)},t.prototype.updateMetadata=function(t){return function(t,e){return fn(t,e)}(this._delegate,t)},t.prototype.getDownloadURL=function(){return pn(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),dn(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw ue(t)},t}(),Cn=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(gn(t))throw ae("ref() expected a child path but got a URL, use refFromURL instead.");return new Sn(In(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!gn(t))throw ae("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Te.makeFromUrl(t)}catch(t){throw ae("refFromUrl() expected a valid full URL but got an invalid one.")}return new Sn(In(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t}(),kn="@firebase/storage",An="0.4.5",Nn="storage";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal");return new Cn(r,new bn(r,o,new Ie,n,i.a.SDK_VERSION))}!function(t){var e={TaskState:be,TaskEvent:me,StringFormat:he,Storage:bn,Reference:Sn};t.INTERNAL.registerComponent(new c.a(Nn,jn,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(kn,An)}(i.a);var xn,Dn,Pn,Rn="@firebase/performance",Ln="0.4.8",Mn=Ln,Fn="FB-PERF-TRACE-START",Un="FB-PERF-TRACE-STOP",qn="FB-PERF-TRACE-MEASURE",Vn="_wt_",Bn="@firebase/performance/config",Kn="@firebase/performance/configexpire",$n=((xn={})["trace started"]="Trace {$traceName} was started before.",xn["trace stopped"]="Trace {$traceName} is not running.",xn["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",xn["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",xn["no window"]="Window is not available.",xn["no app id"]="App id is not available.",xn["no project id"]="Project id is not available.",xn["no api key"]="Api key is not available.",xn["invalid cc log"]="Attempted to queue invalid cc event",xn["FB not default"]="Performance can only start when Firebase app instance is the default one.",xn["RC response not ok"]="RC response is not ok",xn["invalid attribute name"]="Attribute name {$attributeName} is invalid.",xn["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",xn["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",xn["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",xn),Hn=new a.b("performance","Performance",$n),Gn=new o.b("Performance");Gn.logLevel=o.a.INFO;var Wn,zn=function(){function t(t){if(this.window=t,!t)throw Hn.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},t.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},t.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},t.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!Object(a.w)()||(Gn.info("IndexedDB is not supported by current browswer"),!1):(Gn.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},t.prototype.setupObserver=function(t,e){this.PerformanceObserver&&new this.PerformanceObserver(function(t){for(var n=0,r=t.getEntries();n<r.length;n++){var i=r[n];e(i)}}).observe({entryTypes:[t]})},t.getInstance=function(){return void 0===Dn&&(Dn=new t(Pn)),Dn},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Qn(t,e){var n=t.length-e.length;if(n<0||n>1)throw Hn.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yn,Jn,Xn=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=Qn("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=Qn("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw Hn.create("no app id");return t},t.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw Hn.create("no project id");return t},t.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw Hn.create("no api key");return t},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return void 0===Wn&&(Wn=new t),Wn},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(){return Yn}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN"}(Jn||(Jn={}));var tr=["firebase_","google_","ga_"],er=new RegExp("^[a-zA-Z]\\w*$"),nr=40,rr=100;function ir(){switch(zn.getInstance().document.visibilityState){case"visible":return Jn.VISIBLE;case"hidden":return Jn.HIDDEN;default:return Jn.UNKNOWN}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var or="0.0.1",ar={loggingEnabled:!0},sr="FIREBASE_INSTALLATIONS_AUTH";function ur(t){var e=function(){var t=zn.getInstance().localStorage;if(!t)return;var e=t.getItem(Kn);if(!(e&&(n=e,Number(n)>Date.now())))return;var n;var r=t.getItem(Bn);if(!r)return;try{var i=JSON.parse(r);return i}catch(t){return}}();return e?(lr(e),Promise.resolve()):function(t){return(e=Xn.getInstance().installationsService.getToken(),e.then(function(t){}),e).then(function(e){var n=Xn.getInstance().getProjectId(),r="https://firebaseremoteconfig.googleapis.com/v1/projects/"+n+"/namespaces/fireperf:fetch?key="+Xn.getInstance().getApiKey(),i=new Request(r,{method:"POST",headers:{Authorization:sr+" "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:Xn.getInstance().getAppId(),app_version:Mn,sdk_version:or})});return fetch(i).then(function(t){if(t.ok)return t.json();throw Hn.create("RC response not ok")})}).catch(function(){Gn.info(cr)});var e;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}(t).then(lr).then(function(t){return function(t){var e=zn.getInstance().localStorage;if(!t||!e)return;e.setItem(Bn,JSON.stringify(t)),e.setItem(Kn,String(Date.now()+60*Xn.getInstance().configTimeToLive*60*1e3))}(t)},function(){})}var cr="Could not fetch config, will use default configs";function lr(t){if(!t)return t;var e=Xn.getInstance(),n=t.entries||{};return void 0!==n.fpr_enabled?e.loggingEnabled="true"===String(n.fpr_enabled):e.loggingEnabled=ar.loggingEnabled,n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=hr(e.tracesSamplingRate),e.logNetworkAfterSampling=hr(e.networkRequestsSamplingRate),t}function hr(t){return Math.random()<=t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fr,pr=1;function dr(){var t;return pr=2,fr=fr||(t=zn.getInstance().document,new Promise(function(e){if(t&&"complete"!==t.readyState){var n=function(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()})).then(function(){return(t=Xn.getInstance().installationsService.getId()).then(function(t){Yn=t}),t;var t}).then(function(t){return ur(t)}).then(function(){return vr()},function(){return vr()})}function vr(){pr=3}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gr,yr=1e4,mr=5500,br=3,_r=1e3,wr=br,Ir=[],Tr=!1;function Er(t){setTimeout(function(){var t,e;if(0!==wr)return Ir.length?(t=Ir.splice(0,_r),e=t.map(function(t){return{source_extension_json_proto3:t.message,event_time_ms:String(t.eventTime)}}),void function(t,e){return function(t){var e=Xn.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}(t).then(function(t){return t.ok||Gn.info("Call to Firebase backend failed."),t.json()}).then(function(t){var n=Number(t.nextRequestWaitMillis),r=yr;isNaN(n)||(r=Math.max(n,r));var i=t.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(Ir=Object(s.f)(Object(s.f)([],e),Ir),Gn.info("Retry transport request later.")),wr=br,Er(r)})}({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Xn.getInstance().logSource,log_event:e},t).catch(function(){Ir=Object(s.f)(Object(s.f)([],t),Ir),wr--,Gn.info("Tries left: "+wr+"."),Er(yr)})):Er(yr)},t)}function Or(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];!function(t){if(!t.eventTime||!t.message)throw Hn.create("invalid cc log");Ir=Object(s.f)(Object(s.f)([],Ir),[t])}({message:t.apply(void 0,e),eventTime:Date.now()})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(t,e){gr||(gr=Or(Ar)),gr(t,e)}function Cr(t){var e=Xn.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&zn.getInstance().requiredApisAvailable()&&(t.isAuto&&ir()!==Jn.VISIBLE||(3===pr?kr(t):dr().then(function(){return kr(t)},function(){return kr(t)})))}function kr(t){if(Zn()){var e=Xn.getInstance();e.loggingEnabled&&e.logTraceAfterSampling&&setTimeout(function(){return Sr(t,1)},0)}}function Ar(t,e){return 0===e?(r={url:(n=t).url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},i={application_info:Nr(),network_request_metric:r},JSON.stringify(i)):function(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);var n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);var r={application_info:Nr(),trace_metric:e};return JSON.stringify(r)}(t);var n,r,i}function Nr(){return{google_app_id:Xn.getInstance().getAppId(),app_instance_id:Zn(),web_app_info:{sdk_version:Mn,page_url:zn.getInstance().getUrl(),service_worker_status:(t=zn.getInstance().navigator,"serviceWorker"in t?t.serviceWorker.controller?2:3:1),visibility_state:ir(),effective_connection_type:function(){var t=zn.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}()},application_process_state:0};var t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jr=100,xr="_",Dr=["_fp","_fcp","_fid"];
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Pr=function(){function t(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=zn.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark=Fn+"-"+this.randomId+"-"+this.name,this.traceStopMark=Un+"-"+this.randomId+"-"+this.name,this.traceMeasure=n||qn+"-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(1!==this.state)throw Hn.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(2!==this.state)throw Hn.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),Cr(this)},t.prototype.record=function(t,e,n){if(t<=0)throw Hn.create("nonpositive trace startTime",{traceName:this.name});if(e<=0)throw Hn.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=Object(s.a)({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}Cr(this)},t.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),void 0===this.counters[t]?this.putMetric(t,e):this.putMetric(t,this.counters[t]+e)},t.prototype.putMetric=function(t,e){if(i=t,o=this.name,0===i.length||i.length>jr||!(o&&o.startsWith(Vn)&&Dr.indexOf(i)>-1)&&i.startsWith(xr))throw Hn.create("invalid custom metric name",{customMetricName:t});var n,r,i,o;this.counters[t]=(n=e,(r=Math.floor(n))<n&&Gn.info("Metric value should be an Integer, setting the value as : "+r+"."),r)},t.prototype.getMetric=function(t){return this.counters[t]||0},t.prototype.putAttribute=function(t,e){var n,r=!(0===(n=t).length||n.length>nr||tr.some(function(t){return n.startsWith(t)})||!n.match(er)),i=function(t){return 0!==t.length&&t.length<=rr}(e);if(r&&i)this.customAttributes[t]=e;else{if(!r)throw Hn.create("invalid attribute name",{attributeName:t});if(!i)throw Hn.create("invalid attribute value",{attributeValue:e})}},t.prototype.getAttribute=function(t){return this.customAttributes[t]},t.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},t.prototype.getAttributes=function(){return Object(s.a)({},this.customAttributes)},t.prototype.setStartTime=function(t){this.startTimeUs=t},t.prototype.setDuration=function(t){this.durationUs=t},t.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},t.createOobTrace=function(e,n,r){var i=zn.getInstance().getUrl();if(i){var o=new t(Vn+i,!0),a=Math.floor(1e3*zn.getInstance().getTimeOrigin());o.setStartTime(a),e&&e[0]&&(o.setDuration(Math.floor(1e3*e[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd)));if(n){var s=n.find(function(t){return"first-paint"===t.name});s&&s.startTime&&o.putMetric("_fp",Math.floor(1e3*s.startTime));var u=n.find(function(t){return"first-contentful-paint"===t.name});u&&u.startTime&&o.putMetric("_fcp",Math.floor(1e3*u.startTime)),r&&o.putMetric("_fid",Math.floor(1e3*r))}Cr(o)}},t.createUserTimingTrace=function(e){Cr(new t(e,!1,e))},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(t){var e=t;if(e&&void 0!==e.responseStart){var n=zn.getInstance().getTimeOrigin(),r=Math.floor(1e3*(e.startTime+n)),i=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,o=Math.floor(1e3*(e.responseEnd-e.startTime));!function(t){var e=Xn.getInstance();if(e.instrumentationEnabled){var n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&e.loggingEnabled&&e.logNetworkAfterSampling&&setTimeout(function(){return Sr(t,0)},0)}}({url:e.name&&e.name.split("?")[0],responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lr=5e3;function Mr(){Zn()&&(setTimeout(function(){return function(){var t=zn.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout(function(){Pr.createOobTrace(e,n),r=void 0},Lr);t.onFirstInputDelay(function(t){r&&(clearTimeout(r),Pr.createOobTrace(e,n,t))})}else Pr.createOobTrace(e,n)}()},0),setTimeout(function(){return function(){for(var t=zn.getInstance(),e=0,n=t.getEntriesByType("resource");e<n.length;e++){var r=n[e];Rr(r)}t.setupObserver("resource",Rr)}()},0),setTimeout(function(){return function(){for(var t=zn.getInstance(),e=0,n=t.getEntriesByType("measure");e<n.length;e++){var r=n[e];Fr(r)}t.setupObserver("measure",Fr)}()},0))}function Fr(t){var e=t.name;e.substring(0,qn.length)!==qn&&Pr.createUserTimingTrace(e)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ur=function(){function t(t){this.app=t,zn.getInstance().requiredApisAvailable()&&Object(a.N)().then(function(t){t&&(Tr||(Er(mr),Tr=!0),dr().then(Mr,Mr))}).catch(function(t){Gn.info("Environment doesn't support IndexedDB: "+t)})}return t.prototype.trace=function(t){return new Pr(t)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return Xn.getInstance().instrumentationEnabled},set:function(t){Xn.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return Xn.getInstance().dataCollectionEnabled},set:function(t){Xn.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),t}(),qr="[DEFAULT]";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t){var e=function(t,e){if(t.name!==qr)throw Hn.create("FB not default");if("undefined"==typeof window)throw Hn.create("no window");return function(t){Pn=t}(window),Xn.getInstance().firebaseAppInstance=t,Xn.getInstance().installationsService=e,new Ur(t)};t.INTERNAL.registerComponent(new c.a("performance",function(t){var n=t.getProvider("app").getImmediate(),r=t.getProvider("installations").getImmediate();return e(n,r)},"PUBLIC")),t.registerVersion(Rn,Ln)}(i.a);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Vr,Br,Kr="firebase_id",$r="origin",Hr=6e4,Gr="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Wr="https://www.googletagmanager.com/gtag/js";!function(t){t.EVENT="event",t.SET="set",t.CONFIG="config"}(Vr||(Vr={})),function(t){t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results"}(Br||(Br={}));
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var zr,Qr=new o.b("@firebase/analytics");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(t,e,n,r){return function(i,o,a){return Object(s.b)(this,void 0,void 0,function(){var u;return Object(s.d)(this,function(c){switch(c.label){case 0:return c.trys.push([0,6,,7]),i!==Vr.EVENT?[3,2]:[4,function(t,e,n,r,i){return Object(s.b)(this,void 0,void 0,function(){var o,a,u,c,l,h,f,p;return Object(s.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,4,,5]),o=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(u=s.sent(),c=function(t){var n=u.find(function(e){return e.measurementId===t}),r=n&&e[n.appId];if(!r)return o=[],"break";o.push(r)},l=0,h=a;l<h.length&&(f=h[l],"break"!==c(f));l++);s.label=2;case 2:return 0===o.length&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return s.sent(),t(Vr.EVENT,r,i||{}),[3,5];case 4:return p=s.sent(),Qr.error(p),[3,5];case 5:return[2]}})})}(t,e,n,o,a)];case 1:return c.sent(),[3,5];case 2:return i!==Vr.CONFIG?[3,4]:[4,function(t,e,n,r,i,o){return Object(s.b)(this,void 0,void 0,function(){var a,u,c,l;return Object(s.d)(this,function(s){switch(s.label){case 0:a=r[i],s.label=1;case 1:return s.trys.push([1,7,,8]),a?[4,e[a]]:[3,3];case 2:return s.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return u=s.sent(),(c=u.find(function(t){return t.measurementId===i}))?[4,e[c.appId]]:[3,6];case 5:s.sent(),s.label=6;case 6:return[3,8];case 7:return l=s.sent(),Qr.error(l),[3,8];case 8:return t(Vr.CONFIG,i,o),[2]}})})}(t,e,n,r,o,a)];case 3:return c.sent(),[3,5];case 4:t(Vr.SET,o),c.label=5;case 5:return[3,7];case 6:return u=c.sent(),Qr.error(u),[3,7];case 7:return[2]}})})}}var Jr=((zr={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",zr["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",zr["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",zr["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",zr["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",zr["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",zr["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",zr["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',zr["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',zr),Xr=new a.b("analytics","Analytics",Jr),Zr=30,ti=1e3,ei=new(function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=ti),this.throttleMetadata=t,this.intervalMillis=e}return t.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},t.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},t.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},t}());function ni(t){var e;return Object(s.b)(this,void 0,void 0,function(){var n,r,i,o,a,u,c;return Object(s.d)(this,function(s){switch(s.label){case 0:return n=t.appId,r=t.apiKey,i={method:"GET",headers:function(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}(r)},o=Gr.replace("{app-id}",n),[4,fetch(o,i)];case 1:if(200===(a=s.sent()).status||304===a.status)return[3,6];u="",s.label=2;case 2:return s.trys.push([2,4,,5]),[4,a.json()];case 3:return c=s.sent(),(null===(e=c.error)||void 0===e?void 0:e.message)&&(u=c.error.message),[3,5];case 4:return s.sent(),[3,5];case 5:throw Xr.create("config-fetch-failed",{httpStatus:a.status,responseMessage:u});case 6:return[2,a.json()]}})})}function ri(t,e,n){return void 0===e&&(e=ei),Object(s.b)(this,void 0,void 0,function(){var r,i,o,u,c,l,h=this;return Object(s.d)(this,function(f){if(r=t.options,i=r.appId,o=r.apiKey,u=r.measurementId,!i)throw Xr.create("no-app-id");if(!o){if(u)return[2,{measurementId:u,appId:i}];throw Xr.create("no-api-key")}return c=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new ii,setTimeout(function(){return Object(s.b)(h,void 0,void 0,function(){return Object(s.d)(this,function(t){return l.abort(),[2]})})},void 0!==n?n:Hr),[2,function t(e,n,r,i){var o=n.throttleEndTimeMillis,u=n.backoffCount;void 0===i&&(i=ei);return Object(s.b)(this,void 0,void 0,function(){var n,c,l,h,f,p,d;return Object(s.d)(this,function(s){switch(s.label){case 0:n=e.appId,c=e.measurementId,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(t,e){return new Promise(function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(function(){clearTimeout(o),r(Xr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,o)];case 2:return s.sent(),[3,4];case 3:if(l=s.sent(),c)return Qr.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+c+' provided in the "measurementId" field in the local Firebase config. ['+l.message+"]"),[2,{appId:n,measurementId:c}];throw l;case 4:return s.trys.push([4,6,,7]),[4,ni(e)];case 5:return h=s.sent(),i.deleteThrottleMetadata(n),[2,h];case 6:if(!function(t){if(!(t instanceof a.c&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(f=s.sent())){if(i.deleteThrottleMetadata(n),c)return Qr.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+c+' provided in the "measurementId" field in the local Firebase config. ['+f.message+"]"),[2,{appId:n,measurementId:c}];throw f}return p=503===Number(f.customData.httpStatus)?Object(a.j)(u,i.intervalMillis,Zr):Object(a.j)(u,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+p,backoffCount:u+1},i.setThrottleMetadata(n,d),Qr.debug("Calling attemptFetch again in "+p+" millis"),[2,t(e,d,r,i)];case 7:return[2]}})})}({appId:i,apiKey:o,measurementId:u},c,l,e)]})})}var ii=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(t,e,n,r,i,o){return Object(s.b)(this,void 0,void 0,function(){var u,c,l,h,f,p,d;return Object(s.d)(this,function(v){switch(v.label){case 0:return(u=ri(t)).then(function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&Qr.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(t){return Qr.error(t)}),e.push(u),c=function(){return Object(s.b)(this,void 0,void 0,function(){var t;return Object(s.d)(this,function(e){switch(e.label){case 0:return Object(a.w)()?[3,1]:(Qr.warn(Xr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,Object(a.N)()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),Qr.warn(Xr.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}})})}().then(function(t){return t?r.getId():void 0}),[4,Promise.all([u,c])];case 1:return l=v.sent(),h=l[0],f=l[1],function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(Wr))return r}return null}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */()||function(t,e){var n=document.createElement("script");n.src=Wr+"?l="+t+"&id="+e,n.async=!0,document.head.appendChild(n)}(o,h.measurementId),i("js",new Date),(d={})[$r]="firebase",d.update=!0,p=d,null!=f&&(p[Kr]=f),i(Vr.CONFIG,h.measurementId,p),[2,h.measurementId]}})})}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ai,si,ui={},ci=[],li={},hi="dataLayer",fi="gtag",pi=!1;function di(t){if(pi)throw Xr.create("already-initialized");t.dataLayerName&&(hi=t.dataLayerName),t.gtagName&&(fi=t.gtagName)}function vi(t,e){!function(){var t=[];if(Object(a.s)()&&t.push("This is a browser extension environment."),Object(a.e)()||t.push("Cookies are not available."),t.length>0){var e=t.map(function(t,e){return"("+(e+1)+") "+t}).join(" "),n=Xr.create("invalid-analytics-context",{errorInfo:e});Qr.warn(n.message)}}();var n,r,i=t.options.appId;if(!i)throw Xr.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Xr.create("no-api-key");Qr.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=ui[i])throw Xr.create("already-exists",{id:i});if(!pi){n=hi,r=[],Array.isArray(window[n])?r=window[n]:window[n]=r;var o=function(t,e,n,r,i){var o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=Yr(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}(ui,ci,li,hi,fi),u=o.wrappedGtag,c=o.gtagCore;si=u,ai=c,pi=!0}return ui[i]=oi(t,ci,li,e,ai,hi),{app:t,logEvent:function(t,e,n){(
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t,e,n,r,i){return Object(s.b)(this,void 0,void 0,function(){var o,a;return Object(s.d)(this,function(u){switch(u.label){case 0:return i&&i.global?(t(Vr.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:o=u.sent(),a=Object(s.a)(Object(s.a)({},r),{send_to:o}),t(Vr.EVENT,n,a),u.label=3;case 3:return[2]}})})})(si,ui[i],t,e,n).catch(function(t){return Qr.error(t)})},setCurrentScreen:function(t,e){(function(t,e,n,r){return Object(s.b)(this,void 0,void 0,function(){var i;return Object(s.d)(this,function(o){switch(o.label){case 0:return r&&r.global?(t(Vr.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(Vr.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}})})})(si,ui[i],t,e).catch(function(t){return Qr.error(t)})},setUserId:function(t,e){(function(t,e,n,r){return Object(s.b)(this,void 0,void 0,function(){var i;return Object(s.d)(this,function(o){switch(o.label){case 0:return r&&r.global?(t(Vr.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(Vr.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}})})})(si,ui[i],t,e).catch(function(t){return Qr.error(t)})},setUserProperties:function(t,e){(function(t,e,n,r){return Object(s.b)(this,void 0,void 0,function(){var i,o,a,u,c;return Object(s.d)(this,function(s){switch(s.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)u=a[o],i["user_properties."+u]=n[u];return t(Vr.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:c=s.sent(),t(Vr.CONFIG,c,{update:!0,user_properties:n}),s.label=3;case 3:return[2]}})})})(si,ui[i],t,e).catch(function(t){return Qr.error(t)})},setAnalyticsCollectionEnabled:function(t){(function(t,e){return Object(s.b)(this,void 0,void 0,function(){var n;return Object(s.d)(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}})})})(ui[i],t).catch(function(t){return Qr.error(t)})},INTERNAL:{delete:function(){return delete ui[i],Promise.resolve()}}}}var gi="@firebase/analytics",yi="0.6.6",mi="analytics";function bi(){return Object(s.b)(this,void 0,void 0,function(){return Object(s.d)(this,function(t){switch(t.label){case 0:if(Object(a.s)())return[2,!1];if(!Object(a.e)())return[2,!1];if(!Object(a.w)())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Object(a.N)()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}})})}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t){t.INTERNAL.registerComponent(new c.a(mi,function(t){return vi(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())},"PUBLIC").setServiceProps({settings:di,EventName:Br,isSupported:bi})),t.INTERNAL.registerComponent(new c.a("analytics-internal",function(t){try{var e=t.getProvider(mi).getImmediate();return{logEvent:e.logEvent}}catch(t){throw Xr.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),t.registerVersion(gi,yi)}(i.a);var _i,wi=function(){function t(t,e,n,r){this.client=t,this.storage=e,this.storageCache=n,this.logger=r}return t.prototype.isCachedDataFresh=function(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-e,r=n<=t;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+t+". Is cache hit: "+r+"."),r},t.prototype.fetch=function(t){return Object(s.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(s.d)(this,function(a){switch(a.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return e=a.sent(),n=e[0],(r=e[1])&&this.isCachedDataFresh(t.cacheMaxAgeMillis,n)?[2,r]:(t.eTag=r&&r.eTag,[4,this.client.fetch(t)]);case 2:return i=a.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return a.sent(),[2,i]}})})},t}(),Ii=((_i={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",_i["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",_i["registration-api-key"]="Undefined API key. Check Firebase app initialization.",_i["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",_i["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",_i["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",_i["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",_i["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",_i["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",_i["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',_i["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',_i["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",_i["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",_i),Ti=new a.b("remoteconfig","Remote Config",Ii);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ei=function(){function t(t,e,n,r,i,o){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return t.prototype.fetch=function(t){return Object(s.b)(this,void 0,void 0,function(){var e,n,r,i,o,a,u,c,l,h,f,p,d,v,g,y,m,b,_;return Object(s.d)(this,function(s){switch(s.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:e=s.sent(),n=e[0],r=e[1],i=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",o=i+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},u={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:(void 0===w&&(w=navigator),w.languages&&w.languages[0]||w.language)},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),h=new Promise(function(e,n){t.signal.addEventListener(function(){var t=new Error("The operation was aborted.");t.name="AbortError",n(t)})}),s.label=2;case 2:return s.trys.push([2,5,,6]),[4,Promise.race([l,h])];case 3:return s.sent(),[4,l];case 4:return f=s.sent(),[3,6];case 5:throw p=s.sent(),d="fetch-client-network","AbortError"===p.name&&(d="fetch-timeout"),Ti.create(d,{originalErrorMessage:p.message});case 6:if(v=f.status,g=f.headers.get("ETag")||void 0,200!==f.status)return[3,11];b=void 0,s.label=7;case 7:return s.trys.push([7,9,,10]),[4,f.json()];case 8:return b=s.sent(),[3,10];case 9:throw _=s.sent(),Ti.create("fetch-client-parse",{originalErrorMessage:_.message});case 10:y=b.entries,m=b.state,s.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===m?v=500:"NO_CHANGE"===m?v=304:"NO_TEMPLATE"!==m&&"EMPTY_CONFIG"!==m||(y={}),304!==v&&200!==v)throw Ti.create("fetch-status",{httpStatus:v});return[2,{status:v,eTag:g,config:y}]}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var w})})},t}(),Oi=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},t}(),Si="",Ci=["1","true","t","yes","y","on"],ki=function(){function t(t,e){void 0===e&&(e=Si),this._source=t,this._value=e}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return"static"!==this._source&&Ci.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if("static"===this._source)return 0;var t=Number(this._value);return isNaN(t)&&(t=0),t},t.prototype.getSource=function(){return this._source},t}(),Ai=6e4,Ni=432e5,ji=function(){function t(t,e,n,r,i){this.app=t,this._client=e,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:Ai,minimumFetchIntervalMillis:Ni},this.defaultConfig={}}return t.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=o.a.DEBUG;break;case"silent":this._logger.logLevel=o.a.SILENT;break;default:this._logger.logLevel=o.a.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return Object(s.b)(this,void 0,void 0,function(){var t,e,n;return Object(s.d)(this,function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=r.sent(),e=t[0],n=t[1],e&&e.config&&e.eTag&&e.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(e.config),this._storage.setActiveConfigEtag(e.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}})})},t.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){t._isInitializationComplete=!0})),this._initializePromise},t.prototype.fetch=function(){return Object(s.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(s.d)(this,function(i){switch(i.label){case 0:t=new Oi,setTimeout(function(){return Object(s.b)(r,void 0,void 0,function(){return Object(s.d)(this,function(e){return t.abort(),[2]})})},this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return e=i.sent(),u="fetch-throttle",n=(o=e)instanceof a.c&&-1!==o.code.indexOf(u)?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),e;case 6:return[2]}var o,u})})},t.prototype.fetchAndActivate=function(){return Object(s.b)(this,void 0,void 0,function(){return Object(s.d)(this,function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}})})},t.prototype.getAll=function(){var t=this;return function(t,e){void 0===t&&(t={});void 0===e&&(e={});return Object.keys(Object(s.a)(Object(s.a)({},t),e))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this._storageCache.getActiveConfig(),this.defaultConfig).reduce(function(e,n){return e[n]=t.getValue(n),e},{})},t.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},t.prototype.getNumber=function(t){return this.getValue(t).asNumber()},t.prototype.getString=function(t){return this.getValue(t).asString()},t.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&void 0!==e[t]?new ki("remote",e[t]):this.defaultConfig&&void 0!==this.defaultConfig[t]?new ki("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new ki("static"))},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(t,e){var n=t.target.error||void 0;return Ti.create(e,{originalErrorMessage:n&&n.message})}var Di="app_namespace_store",Pi="firebase_remote_config",Ri=1;var Li=function(){function t(t,e,n,r){void 0===r&&(r=new Promise(function(t,e){var n=indexedDB.open(Pi,Ri);n.onerror=function(t){e(xi(t,"storage-open"))},n.onsuccess=function(e){t(e.target.result)},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore(Di,{keyPath:"compositeKey"})}}})),this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=r}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(t){return this.set("active_config",t)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(t){return Object(s.b)(this,void 0,void 0,function(){var e,n=this;return Object(s.d)(this,function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise(function(r,i){var o=e.transaction([Di],"readonly").objectStore(Di),a=n.createCompositeKey(t);try{var s=o.get(a);s.onerror=function(t){i(xi(t,"storage-get"))},s.onsuccess=function(t){var e=t.target.result;r(e?e.value:void 0)}}catch(t){i(Ti.create("storage-get",{originalErrorMessage:t&&t.message}))}})]}})})},t.prototype.set=function(t,e){return Object(s.b)(this,void 0,void 0,function(){var n,r=this;return Object(s.d)(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(i,o){var a=n.transaction([Di],"readwrite").objectStore(Di),s=r.createCompositeKey(t);try{var u=a.put({compositeKey:s,value:e});u.onerror=function(t){o(xi(t,"storage-set"))},u.onsuccess=function(){i()}}catch(t){o(Ti.create("storage-set",{originalErrorMessage:t&&t.message}))}})]}})})},t.prototype.delete=function(t){return Object(s.b)(this,void 0,void 0,function(){var e,n=this;return Object(s.d)(this,function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise(function(r,i){var o=e.transaction([Di],"readwrite").objectStore(Di),a=n.createCompositeKey(t);try{var s=o.delete(a);s.onerror=function(t){i(xi(t,"storage-delete"))},s.onsuccess=function(){r()}}catch(t){i(Ti.create("storage-delete",{originalErrorMessage:t&&t.message}))}})]}})})},t.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},t}(),Mi=function(){function t(t){this.storage=t}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return Object(s.b)(this,void 0,void 0,function(){var t,e,n,r,i,o;return Object(s.d)(this,function(a){switch(a.label){case 0:return t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,t];case 1:return(r=a.sent())&&(this.lastFetchStatus=r),[4,e];case 2:return(i=a.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=a.sent())&&(this.activeConfig=o),[2]}})})},t.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},t.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fi,Ui=function(){function t(t,e){this.client=t,this.storage=e}return t.prototype.fetch=function(t){return Object(s.b)(this,void 0,void 0,function(){var e;return Object(s.d)(this,function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,e)]}})})},t.prototype.attemptFetch=function(t,e){var n=e.throttleEndTimeMillis,r=e.backoffCount;return Object(s.b)(this,void 0,void 0,function(){var e,i,o;return Object(s.d)(this,function(s){switch(s.label){case 0:return[4,
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t,e){return new Promise(function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(function(){clearTimeout(o),r(Ti.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(t.signal,n)];case 1:s.sent(),s.label=2;case 2:return s.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return e=s.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return s.sent(),[2,e];case 5:if(!function(t){if(!(t instanceof a.c&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(i=s.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+Object(a.j)(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return s.sent(),[2,this.attemptFetch(t,o)];case 7:return[2]}})})},t}(),qi="@firebase/remote-config",Vi="0.1.33";(Fi=i.a).INTERNAL.registerComponent(new c.a("remoteConfig",function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("installations").getImmediate();if("undefined"==typeof window)throw Ti.create("registration-window");var a=r.options,s=a.projectId,u=a.apiKey,c=a.appId;if(!s)throw Ti.create("registration-project-id");if(!u)throw Ti.create("registration-api-key");if(!c)throw Ti.create("registration-app-id");n=n||"firebase";var l=new Li(c,r.name,n),h=new Mi(l),f=new o.b(qi);f.logLevel=o.a.ERROR;var p=new Ei(i,Fi.SDK_VERSION,n,s,u,c),d=new Ui(p,l),v=new wi(d,l,h,f),g=new ji(r,v,h,l,f);return g.ensureInitialized(),g},"PUBLIC").setMultipleInstances(!0)),Fi.registerVersion(qi,Vi),n.d(e,"a",function(){return i.a});
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
i.a.registerVersion("firebase","8.3.1","app");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),i.a.registerVersion("firebase","8.3.1")}});
//# sourceMappingURL=vendor.7613bc5a75fb32b310f0.js.map